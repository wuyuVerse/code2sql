[
  {
    "function_name": "UpdateIntranetWhitelist",
    "orm_code": "func (intra *Intranet) UpdateIntranetWhitelist(source *types.IntranetSource) (int, error) {\n\tcomment := intra.CommentFunc(UPDATE_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcIntranetWhitelistTable).Save(source).Error\n\tif err != nil {\n\t\treturn source.Id, err\n\t}\n\treturn source.Id, nil\n}",
    "caller": "",
    "sql_statement_list": [
      "UPDATE ivc_intranet_whitelist SET name = ?, uin = ?, app_id = ?, cluster_id = ?, intranet_addr = ?, describe = ?, create_at = ?, update_at = ? WHERE id = ?;"
    ],
    "sql_types": [
      "UPDATE"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 118,
        "code_end_line": 118,
        "code_key": "comment",
        "code_value": "intra.CommentFunc(UPDATE_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 14,
        "code_end_line": 18,
        "code_key": "Intranet",
        "code_value": "type Intranet struct {\n\ttypes.IntranetSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 730,
        "code_end_line": 740,
        "code_key": "IntranetSource",
        "code_value": "type IntranetSource struct {\n\tId           int    `json:\"Id\" gorm:\"column:id\"`\n\tName         string `json:\"Name\" gorm:\"column:name\"`\n\tUin          string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId        int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tClusterId    string `json:\"ClusterId\" gorm:\"column:cluster_id\"`\n\tIntranetAddr string `json:\"IntranetAddr\" gorm:\"column:intranet_addr\"`\n\tDescribe     string `json:\"Describe\" gorm:\"column:describe\"`\n\tCreatedAt    int    `json:\"CreateAt\" gorm:\"column:create_at;default:NULL\"`\n\tUpdatedAt    int    `json:\"UpdateAt\" gorm:\"column:update_at;default:NULL\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 82,
        "code_end_line": 82,
        "code_key": "UPDATE_COMMENT",
        "code_value": "const UPDATE_COMMENT = \"UPDATE\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 11,
        "code_end_line": 11,
        "code_key": "IvcIntranetWhitelistTable",
        "code_value": "const IvcIntranetWhitelistTable = \"ivc_intranet_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "DeleteIntranetWhitelist",
    "orm_code": "func (intra *Intranet) DeleteIntranetWhitelist() error {\n\tcomment := intra.CommentFunc(DELETE_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcIntranetWhitelistTable).Delete(&types.IntranetSource{}, intra.Id).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn utils.NonExistentPrimaryKeyIdError\n\t\t}\n\t\treturn err\n\t}\n\treturn nil\n}",
    "caller": "",
    "sql_statement_list": [
      "DELETE FROM ivc_intranet_whitelist WHERE id = ?;"
    ],
    "sql_types": [
      "DELETE"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 72,
        "code_end_line": 72,
        "code_key": "comment",
        "code_value": "intra.CommentFunc(DELETE_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 14,
        "code_end_line": 18,
        "code_key": "Intranet",
        "code_value": "type Intranet struct {\n\ttypes.IntranetSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 730,
        "code_end_line": 740,
        "code_key": "IntranetSource",
        "code_value": "type IntranetSource struct {\n\tId           int    `json:\"Id\" gorm:\"column:id\"`\n\tName         string `json:\"Name\" gorm:\"column:name\"`\n\tUin          string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId        int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tClusterId    string `json:\"ClusterId\" gorm:\"column:cluster_id\"`\n\tIntranetAddr string `json:\"IntranetAddr\" gorm:\"column:intranet_addr\"`\n\tDescribe     string `json:\"Describe\" gorm:\"column:describe\"`\n\tCreatedAt    int    `json:\"CreateAt\" gorm:\"column:create_at;default:NULL\"`\n\tUpdatedAt    int    `json:\"UpdateAt\" gorm:\"column:update_at;default:NULL\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 84,
        "code_end_line": 84,
        "code_key": "DELETE_COMMENT",
        "code_value": "const DELETE_COMMENT = \"DELETE\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 11,
        "code_end_line": 11,
        "code_key": "IvcIntranetWhitelistTable",
        "code_value": "const IvcIntranetWhitelistTable = \"ivc_intranet_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "DeleteDailyReportWhitelist",
    "orm_code": "func (c *Daily) DeleteDailyReportWhitelist() error {\n\tcomment := c.CommentFunc(DELETE_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcDailyReportWhitelistTable).Delete(&types.DailyReportSource{}, c.Id).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn utils.NonExistentPrimaryKeyIdError\n\t\t}\n\t\treturn err\n\t}\n\treturn nil\n}",
    "caller": "",
    "sql_statement_list": [
      "/* DELETE */ DELETE FROM ivc_dailyreport_whitelist WHERE id = ?;"
    ],
    "sql_types": [
      "OTHER"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/daily.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/daily.go",
        "code_start_line": 50,
        "code_end_line": 50,
        "code_key": "comment",
        "code_value": "c.CommentFunc(DELETE_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/daily.go",
        "code_start_line": 14,
        "code_end_line": 18,
        "code_key": "Daily",
        "code_value": "type Daily struct {\n\ttypes.DailyReportSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 428,
        "code_end_line": 436,
        "code_key": "DailyReportSource",
        "code_value": "type DailyReportSource struct {\n\tId        int    `json:\"Id\" gorm:\"column:id\"`\n\tName      string `json:\"Name\" gorm:\"column:name\"`\n\tUin       string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId     int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tAltername string `json:\"Altername\" gorm:\"altername\"`\n\tCreateAt  int    `json:\"CreateAt\" gorm:\"column:created_at\"`\n\tUpdateAt  int    `json:\"UpdateAt\" gorm:\"column:updated_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 84,
        "code_end_line": 84,
        "code_key": "DELETE_COMMENT",
        "code_value": "const DELETE_COMMENT = \"DELETE\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/daily.go",
        "code_start_line": 11,
        "code_end_line": 11,
        "code_key": "IvcDailyReportWhitelistTable",
        "code_value": "const IvcDailyReportWhitelistTable = \"ivc_dailyreport_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "DeleteBlockerUser",
    "orm_code": "func (b *Blockeruser) DeleteBlockerUser() error {\n\tcomment := b.CommentFunc(DELETE_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcBlockUserTable).Delete(&b.BlockerUserSource).Error\n\treturn err\n}",
    "caller": "",
    "sql_statement_list": [
      "/* DELETE */ DELETE FROM ivc_blocker_user WHERE id = ?;"
    ],
    "sql_types": [
      "OTHER"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/blockeruser.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/blockeruser.go",
        "code_start_line": 60,
        "code_end_line": 60,
        "code_key": "comment",
        "code_value": "b.CommentFunc(DELETE_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/blockeruser.go",
        "code_start_line": 12,
        "code_end_line": 16,
        "code_key": "Blockeruser",
        "code_value": "type Blockeruser struct {\n\ttypes.BlockerUserSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 253,
        "code_end_line": 260,
        "code_key": "BlockerUserSource",
        "code_value": "type BlockerUserSource struct {\n\tId       int    `json:\"Id\" gorm:\"column:id\"`\n\tAppId    int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tUin      string `json:\"Uin\" gorm:\"column:uin\"`\n\tName     string `json:\"Name\" gorm:\"column:name\"`\n\tDescribe string `json:\"Describe\" gorm:\"describe\"`\n\tCreateAt int    `json:\"CreateAt\" gorm:\"column:created_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 84,
        "code_end_line": 84,
        "code_key": "DELETE_COMMENT",
        "code_value": "const DELETE_COMMENT = \"DELETE\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/blockeruser.go",
        "code_start_line": 9,
        "code_end_line": 9,
        "code_key": "IvcBlockUserTable",
        "code_value": "const IvcBlockUserTable = \"ivc_blocker_user\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "DeleteBucketWhitelist",
    "orm_code": "func (b *Bucket) DeleteBucketWhitelist() error {\n\tcomment := b.CommentFunc(DELETE_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcBucketWhitelistTable).Delete(&types.BucketSource{}, b.Id).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn utils.NonExistentPrimaryKeyIdError\n\t\t}\n\t\treturn err\n\t}\n\treturn nil\n}",
    "caller": "",
    "sql_statement_list": [
      "/* DELETE */ DELETE FROM ivc_bucket_whitelist WHERE id = ?;"
    ],
    "sql_types": [
      "OTHER"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 8,
        "code_end_line": 8,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 92,
        "code_end_line": 92,
        "code_key": "comment",
        "code_value": "b.CommentFunc(DELETE_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 26,
        "code_end_line": 30,
        "code_key": "Bucket",
        "code_value": "type Bucket struct {\n\ttypes.BucketSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 262,
        "code_end_line": 275,
        "code_key": "BucketSource",
        "code_value": "type BucketSource struct {\n\tId          int    `json:\"Id\" gorm:\"column:id\"`\n\tName        string `json:\"Name\" gorm:\"column:name\"`\n\tUin         string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId       int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tRegion      int    `json:\"Region\" gorm:\"column:region\"`\n\tRegionName  string `json:\"RegionName\" gorm:\"column:region_name\"`\n\tBucketId    string `json:\"BucketId\" gorm:\"column:bucket_id\"`\n\tSegDuration int    `json:\"SegDuration\" gorm:\"column:seg_duration\"`\n\tSegSize     int    `json:\"SegSize\" gorm:\"column:seg_size\"`\n\tDescribe    string `json:\"Describe\" gorm:\"column:describe\"`\n\tCreatedAt   int    `json:\"CreateAt\" gorm:\"column:create_at;default:NULL\"`\n\tUpdatedAt   int    `json:\"UpdateAt\" gorm:\"column:update_at;default:NULL\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 84,
        "code_end_line": 84,
        "code_key": "DELETE_COMMENT",
        "code_value": "const DELETE_COMMENT = \"DELETE\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 17,
        "code_end_line": 17,
        "code_key": "IvcBucketWhitelistTable",
        "code_value": "const IvcBucketWhitelistTable = \"ivc_bucket_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "UpdateBucketWhitelist",
    "orm_code": "func (b *Bucket) UpdateBucketWhitelist(source *types.BucketSource) (int, error) {\n\tcomment := b.CommentFunc(UPDATE_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcBucketWhitelistTable).Save(source).Error\n\tif err != nil {\n\t\treturn source.Id, err\n\t}\n\treturn source.Id, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "更新现有记录（source.Id > 0）",
            "sql": "UPDATE ivc_bucket_whitelist SET name=?, uin=?, app_id=?, region=?, region_name=?, bucket_id=?, seg_duration=?, seg_size=?, describe=?, create_at=?, update_at=? WHERE id=?;"
          },
          {
            "scenario": "插入新记录（source.Id = 0或未设置）",
            "sql": "INSERT INTO ivc_bucket_whitelist (name, uin, app_id, region, region_name, bucket_id, seg_duration, seg_size, describe, create_at, update_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 8,
        "code_end_line": 8,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 141,
        "code_end_line": 141,
        "code_key": "comment",
        "code_value": "b.CommentFunc(UPDATE_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 26,
        "code_end_line": 30,
        "code_key": "Bucket",
        "code_value": "type Bucket struct {\n\ttypes.BucketSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 262,
        "code_end_line": 275,
        "code_key": "BucketSource",
        "code_value": "type BucketSource struct {\n\tId          int    `json:\"Id\" gorm:\"column:id\"`\n\tName        string `json:\"Name\" gorm:\"column:name\"`\n\tUin         string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId       int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tRegion      int    `json:\"Region\" gorm:\"column:region\"`\n\tRegionName  string `json:\"RegionName\" gorm:\"column:region_name\"`\n\tBucketId    string `json:\"BucketId\" gorm:\"column:bucket_id\"`\n\tSegDuration int    `json:\"SegDuration\" gorm:\"column:seg_duration\"`\n\tSegSize     int    `json:\"SegSize\" gorm:\"column:seg_size\"`\n\tDescribe    string `json:\"Describe\" gorm:\"column:describe\"`\n\tCreatedAt   int    `json:\"CreateAt\" gorm:\"column:create_at;default:NULL\"`\n\tUpdatedAt   int    `json:\"UpdateAt\" gorm:\"column:update_at;default:NULL\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 82,
        "code_end_line": 82,
        "code_key": "UPDATE_COMMENT",
        "code_value": "const UPDATE_COMMENT = \"UPDATE\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 17,
        "code_end_line": 17,
        "code_key": "IvcBucketWhitelistTable",
        "code_value": "const IvcBucketWhitelistTable = \"ivc_bucket_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "DeleteMediaWhitelist",
    "orm_code": "func (m *Media) DeleteMediaWhitelist() error {\n\tcomment := m.CommentFunc(DELETE_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcMediaWhitelistTable).Delete(&types.MediaSource{}, m.Id).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn utils.NonExistentPrimaryKeyIdError\n\t\t}\n\t\treturn err\n\t}\n\treturn nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "按主键ID删除媒体白名单记录",
            "sql": "/* DELETE */ DELETE FROM ivc_media_whitelist WHERE id = ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 86,
        "code_end_line": 86,
        "code_key": "comment",
        "code_value": "m.CommentFunc(DELETE_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 25,
        "code_end_line": 29,
        "code_key": "Media",
        "code_value": "type Media struct {\n\ttypes.MediaSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 774,
        "code_end_line": 785,
        "code_key": "MediaSource",
        "code_value": "type MediaSource struct {\n\tId            int    `json:\"Id\" gorm:\"column:id\"`\n\tName          string `json:\"Name\" gorm:\"column:name\"`\n\tUin           string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId         int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tClusterId     string `json:\"ClusterId\" gorm:\"column:cluster_id\"`\n\tGBMediaAddr   string `json:\"GBMediaAddr\" gorm:\"column:gb_media_addr\"`\n\tRTMPMediaAddr string `json:\"RTMPMediaAddr\" gorm:\"column:rtmp_media_addr\"`\n\tDescribe      string `json:\"Describe\" gorm:\"column:describe\"`\n\tCreatedAt     int    `json:\"CreateAt\" gorm:\"column:create_at;default:NULL\"`\n\tUpdatedAt     int    `json:\"UpdateAt\" gorm:\"column:update_at;default:NULL\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 84,
        "code_end_line": 84,
        "code_key": "DELETE_COMMENT",
        "code_value": "const DELETE_COMMENT = \"DELETE\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 15,
        "code_end_line": 15,
        "code_key": "IvcMediaWhitelistTable",
        "code_value": "const IvcMediaWhitelistTable = \"ivc_media_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "UpdateMediaWhitelist",
    "orm_code": "func (m *Media) UpdateMediaWhitelist(source *types.MediaSource) (int, error) {\n\tcommentU := m.CommentFunc(UPDATE_COMMENT)\n\tcommentI := m.CommentFunc(INSERT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(commentU, commentI).Table(IvcMediaWhitelistTable).Save(source).Error\n\tif err != nil {\n\t\treturn source.Id, err\n\t}\n\treturn source.Id, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "新记录插入（source.Id为0或未设置）",
            "sql": "INSERT INTO ivc_media_whitelist (name, uin, app_id, cluster_id, gb_media_addr, rtmp_media_addr, describe, create_at, update_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?);"
          },
          {
            "scenario": "存在记录更新（source.Id有值）",
            "sql": "UPDATE ivc_media_whitelist SET name = ?, uin = ?, app_id = ?, cluster_id = ?, gb_media_addr = ?, rtmp_media_addr = ?, describe = ?, create_at = ?, update_at = ? WHERE id = ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 135,
        "code_end_line": 135,
        "code_key": "commentU",
        "code_value": "m.CommentFunc(UPDATE_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 25,
        "code_end_line": 29,
        "code_key": "Media",
        "code_value": "type Media struct {\n\ttypes.MediaSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 774,
        "code_end_line": 785,
        "code_key": "MediaSource",
        "code_value": "type MediaSource struct {\n\tId            int    `json:\"Id\" gorm:\"column:id\"`\n\tName          string `json:\"Name\" gorm:\"column:name\"`\n\tUin           string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId         int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tClusterId     string `json:\"ClusterId\" gorm:\"column:cluster_id\"`\n\tGBMediaAddr   string `json:\"GBMediaAddr\" gorm:\"column:gb_media_addr\"`\n\tRTMPMediaAddr string `json:\"RTMPMediaAddr\" gorm:\"column:rtmp_media_addr\"`\n\tDescribe      string `json:\"Describe\" gorm:\"column:describe\"`\n\tCreatedAt     int    `json:\"CreateAt\" gorm:\"column:create_at;default:NULL\"`\n\tUpdatedAt     int    `json:\"UpdateAt\" gorm:\"column:update_at;default:NULL\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 82,
        "code_end_line": 82,
        "code_key": "UPDATE_COMMENT",
        "code_value": "const UPDATE_COMMENT = \"UPDATE\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 136,
        "code_end_line": 136,
        "code_key": "commentI",
        "code_value": "m.CommentFunc(INSERT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 83,
        "code_end_line": 83,
        "code_key": "INSERT_COMMENT",
        "code_value": "const INSERT_COMMENT = \"INSERT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 15,
        "code_end_line": 15,
        "code_key": "IvcMediaWhitelistTable",
        "code_value": "const IvcMediaWhitelistTable = \"ivc_media_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "DeleteGBinviteWhitelist",
    "orm_code": "func (c *GBinvite) DeleteGBinviteWhitelist() error {\n\tcomment := c.CommentFunc(DELETE_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcGBinviteWhitelistTable).Delete(&types.GBinviteSource{}, c.Id).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn utils.NonExistentPrimaryKeyIdError\n\t\t}\n\t\treturn err\n\t}\n\treturn nil\n}",
    "caller": "",
    "sql_statement_list": [
      "DELETE FROM ivc_gb_invite_whitelist WHERE id = ?;"
    ],
    "sql_types": [
      "DELETE"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/gbinvite.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/gbinvite.go",
        "code_start_line": 74,
        "code_end_line": 74,
        "code_key": "comment",
        "code_value": "c.CommentFunc(DELETE_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/gbinvite.go",
        "code_start_line": 14,
        "code_end_line": 18,
        "code_key": "GBinvite",
        "code_value": "type GBinvite struct {\n\ttypes.GBinviteSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 669,
        "code_end_line": 675,
        "code_key": "GBinviteSource",
        "code_value": "type GBinviteSource struct {\n\tId       int    `json:\"Id\" gorm:\"column:id\"`\n\tName     string `json:\"Name\" gorm:\"column:name\"`\n\tUin      string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId    int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tCreateAt int    `json:\"CreateAt\" gorm:\"column:created_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 84,
        "code_end_line": 84,
        "code_key": "DELETE_COMMENT",
        "code_value": "const DELETE_COMMENT = \"DELETE\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/gbinvite.go",
        "code_start_line": 11,
        "code_end_line": 11,
        "code_key": "IvcGBinviteWhitelistTable",
        "code_value": "const IvcGBinviteWhitelistTable = \"ivc_gb_invite_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "DeleteCloudRecordTimelineWhitelist",
    "orm_code": "func (c *Cloud) DeleteCloudRecordTimelineWhitelist() error {\n\tcomment := c.CommentFunc(DELETE_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcCloudRecordTimelineWhitelistTable).Delete(&types.CloudRecordTimelineSource{}, c.Id).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn utils.NonExistentPrimaryKeyIdError\n\t\t}\n\t\treturn err\n\t}\n\treturn nil\n}",
    "caller": "",
    "sql_statement_list": [
      "DELETE FROM ivc_cloudrecord_timeline_whitelist WHERE id = ?;"
    ],
    "sql_types": [
      "DELETE"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/recordtimeline.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/recordtimeline.go",
        "code_start_line": 50,
        "code_end_line": 50,
        "code_key": "comment",
        "code_value": "c.CommentFunc(DELETE_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/recordtimeline.go",
        "code_start_line": 14,
        "code_end_line": 18,
        "code_key": "Cloud",
        "code_value": "type Cloud struct {\n\ttypes.CloudRecordTimelineSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 379,
        "code_end_line": 386,
        "code_key": "CloudRecordTimelineSource",
        "code_value": "type CloudRecordTimelineSource struct {\n\tId       int    `json:\"Id\" gorm:\"column:id\"`\n\tName     string `json:\"Name\" gorm:\"column:name\"`\n\tUin      string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId    int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tCreateAt int    `json:\"CreateAt\" gorm:\"column:created_at\"`\n\tUpdateAt int    `json:\"UpdateAt\" gorm:\"column:updated_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 84,
        "code_end_line": 84,
        "code_key": "DELETE_COMMENT",
        "code_value": "const DELETE_COMMENT = \"DELETE\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/recordtimeline.go",
        "code_start_line": 11,
        "code_end_line": 11,
        "code_key": "IvcCloudRecordTimelineWhitelistTable",
        "code_value": "const IvcCloudRecordTimelineWhitelistTable = \"ivc_cloudrecord_timeline_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindBucketWhitelists",
    "orm_code": "func (b *Bucket) FindBucketWhitelists(filterSource map[string]interface{}, page, size int) ([]types.BucketSource, error) {\n\tbs := make([]types.BucketSource, 0)\n\tvar err error\n\tcomment := b.CommentFunc(SELECT_COMMENT)\n\tif name, ok := filterSource[\"name\"]; ok {\n\t\tfilter := make(map[string]interface{})\n\t\tfor k, v := range filterSource {\n\t\t\tif k == \"name\" {\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tfilter[k] = v\n\t\t}\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(IvcBucketWhitelistTable).Order(\"id\").Scopes(PaginateDB(page, size)).\n\t\t\tWhere(filter).Where(\"name like ?\", \"%\"+name.(string)+\"%\").Find(&bs).Error\n\t} else {\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(IvcBucketWhitelistTable).Order(\"id\").Scopes(PaginateDB(page, size)).\n\t\t\tWhere(filterSource).Find(&bs).Error\n\t}\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn bs, utils.RecordNotFoundError\n\t\t}\n\t\treturn bs, err\n\t}\n\treturn bs, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "filterSource包含name字段进行模糊查询",
            "sql": "SELECT * FROM ivc_bucket_whitelist WHERE uin = ? AND region = ? AND name LIKE ? ORDER BY id LIMIT ? OFFSET ?;"
          },
          {
            "scenario": "filterSource不包含name字段进行精确查询",
            "sql": "SELECT * FROM ivc_bucket_whitelist WHERE uin = ? AND region = ? AND app_id = ? ORDER BY id LIMIT ? OFFSET ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 8,
        "code_end_line": 8,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 41,
        "code_end_line": 41,
        "code_key": "comment",
        "code_value": "b.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 26,
        "code_end_line": 30,
        "code_key": "Bucket",
        "code_value": "type Bucket struct {\n\ttypes.BucketSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 262,
        "code_end_line": 275,
        "code_key": "BucketSource",
        "code_value": "type BucketSource struct {\n\tId          int    `json:\"Id\" gorm:\"column:id\"`\n\tName        string `json:\"Name\" gorm:\"column:name\"`\n\tUin         string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId       int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tRegion      int    `json:\"Region\" gorm:\"column:region\"`\n\tRegionName  string `json:\"RegionName\" gorm:\"column:region_name\"`\n\tBucketId    string `json:\"BucketId\" gorm:\"column:bucket_id\"`\n\tSegDuration int    `json:\"SegDuration\" gorm:\"column:seg_duration\"`\n\tSegSize     int    `json:\"SegSize\" gorm:\"column:seg_size\"`\n\tDescribe    string `json:\"Describe\" gorm:\"column:describe\"`\n\tCreatedAt   int    `json:\"CreateAt\" gorm:\"column:create_at;default:NULL\"`\n\tUpdatedAt   int    `json:\"UpdateAt\" gorm:\"column:update_at;default:NULL\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 17,
        "code_end_line": 17,
        "code_key": "IvcBucketWhitelistTable",
        "code_value": "const IvcBucketWhitelistTable = \"ivc_bucket_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 261,
        "code_end_line": 266,
        "code_key": "PaginateDB",
        "code_value": "func PaginateDB(page, size int) func(db *gorm.DB) *gorm.DB {\n\treturn func(db *gorm.DB) *gorm.DB {\n\t\toffset := (page - 1) * size\n\t\treturn db.Offset(offset).Limit(size)\n\t}\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 43,
        "code_end_line": 43,
        "code_key": "filter",
        "code_value": "make(map[string]interface{})",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 39,
        "code_end_line": 39,
        "code_key": "bs",
        "code_value": "make([]types.BucketSource, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 2,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindBucketWhitelistCount",
    "orm_code": "func (b *Bucket) FindBucketWhitelistCount(filterSource map[string]interface{}) (int, error) {\n\tvar (\n\t\tnums    int64\n\t\terr     error\n\t\tcomment = b.CommentFunc(SELECT_COMMENT)\n\t)\n\tif name, ok := filterSource[\"name\"]; ok {\n\t\tfilter := make(map[string]interface{})\n\t\tfor k, v := range filterSource {\n\t\t\tif k == \"name\" {\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tfilter[k] = v\n\t\t}\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(IvcBucketWhitelistTable).Where(filter).Where(\"name like ?\", \"%\"+name.(string)+\"%\").Count(&nums).Error\n\t} else {\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(IvcBucketWhitelistTable).Where(filterSource).Count(&nums).Error\n\t}\n\tif err != nil {\n\t\treturn int(nums), err\n\t}\n\treturn int(nums), nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "包含name字段时 - 将name作为LIKE条件，其他条件作为精确匹配",
            "sql": "SELECT COUNT(*) FROM ivc_bucket_whitelist WHERE status = ? AND type = ? AND name LIKE ?;"
          },
          {
            "scenario": "不包含name字段时 - 所有条件都作为精确匹配",
            "sql": "SELECT COUNT(*) FROM ivc_bucket_whitelist WHERE status = ? AND type = ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 8,
        "code_end_line": 8,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 70,
        "code_end_line": 70,
        "code_key": "comment",
        "code_value": "b.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 33,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 26,
        "code_end_line": 30,
        "code_key": "Bucket",
        "code_value": "type Bucket struct {\n\ttypes.BucketSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 262,
        "code_end_line": 275,
        "code_key": "BucketSource",
        "code_value": "type BucketSource struct {\n\tId          int    `json:\"Id\" gorm:\"column:id\"`\n\tName        string `json:\"Name\" gorm:\"column:name\"`\n\tUin         string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId       int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tRegion      int    `json:\"Region\" gorm:\"column:region\"`\n\tRegionName  string `json:\"RegionName\" gorm:\"column:region_name\"`\n\tBucketId    string `json:\"BucketId\" gorm:\"column:bucket_id\"`\n\tSegDuration int    `json:\"SegDuration\" gorm:\"column:seg_duration\"`\n\tSegSize     int    `json:\"SegSize\" gorm:\"column:seg_size\"`\n\tDescribe    string `json:\"Describe\" gorm:\"column:describe\"`\n\tCreatedAt   int    `json:\"CreateAt\" gorm:\"column:create_at;default:NULL\"`\n\tUpdatedAt   int    `json:\"UpdateAt\" gorm:\"column:update_at;default:NULL\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 17,
        "code_end_line": 17,
        "code_key": "IvcBucketWhitelistTable",
        "code_value": "const IvcBucketWhitelistTable = \"ivc_bucket_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 73,
        "code_end_line": 73,
        "code_key": "filter",
        "code_value": "make(map[string]interface{})",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 68,
        "code_end_line": 68,
        "code_key": "nums",
        "code_value": "int64",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 2,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "InsertBucketWhitelist",
    "orm_code": "func (b *Bucket) InsertBucketWhitelist() (int, error) {\n\tcomment := b.CommentFunc(INSERT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcBucketWhitelistTable).Create(&b).Error\n\tif err != nil {\n\t\treturn b.Id, err\n\t}\n\treturn b.Id, nil\n}",
    "caller": "",
    "sql_statement_list": [
      "INSERT INTO ivc_bucket_whitelist (id, name, uin, app_id, region, region_name, bucket_id, seg_duration, seg_size, describe, create_at, update_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);"
    ],
    "sql_types": [
      "INSERT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 8,
        "code_end_line": 8,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 105,
        "code_end_line": 105,
        "code_key": "comment",
        "code_value": "b.CommentFunc(INSERT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 26,
        "code_end_line": 30,
        "code_key": "Bucket",
        "code_value": "type Bucket struct {\n\ttypes.BucketSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 262,
        "code_end_line": 275,
        "code_key": "BucketSource",
        "code_value": "type BucketSource struct {\n\tId          int    `json:\"Id\" gorm:\"column:id\"`\n\tName        string `json:\"Name\" gorm:\"column:name\"`\n\tUin         string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId       int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tRegion      int    `json:\"Region\" gorm:\"column:region\"`\n\tRegionName  string `json:\"RegionName\" gorm:\"column:region_name\"`\n\tBucketId    string `json:\"BucketId\" gorm:\"column:bucket_id\"`\n\tSegDuration int    `json:\"SegDuration\" gorm:\"column:seg_duration\"`\n\tSegSize     int    `json:\"SegSize\" gorm:\"column:seg_size\"`\n\tDescribe    string `json:\"Describe\" gorm:\"column:describe\"`\n\tCreatedAt   int    `json:\"CreateAt\" gorm:\"column:create_at;default:NULL\"`\n\tUpdatedAt   int    `json:\"UpdateAt\" gorm:\"column:update_at;default:NULL\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 83,
        "code_end_line": 83,
        "code_key": "INSERT_COMMENT",
        "code_value": "const INSERT_COMMENT = \"INSERT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 17,
        "code_end_line": 17,
        "code_key": "IvcBucketWhitelistTable",
        "code_value": "const IvcBucketWhitelistTable = \"ivc_bucket_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "QueryBucketWhitelistByAppIdAndRegion",
    "orm_code": "func (b *Bucket) QueryBucketWhitelistByAppIdAndRegion() (int, error) {\n\tvar num int64\n\tcomment := b.CommentFunc(SELECT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcBucketWhitelistTable).Where(map[string]interface{}{\"app_id\": b.BucketSource.AppId, \"region\": b.Region}).\n\t\tCount(&num).Error\n\tif err != nil {\n\t\treturn int(num), err\n\t}\n\treturn int(num), nil\n}",
    "caller": "",
    "sql_statement_list": [
      "SELECT count(*) FROM ivc_bucket_whitelist WHERE app_id = ? AND region = ?;"
    ],
    "sql_types": [
      "SELECT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 8,
        "code_end_line": 8,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 116,
        "code_end_line": 116,
        "code_key": "comment",
        "code_value": "b.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 26,
        "code_end_line": 30,
        "code_key": "Bucket",
        "code_value": "type Bucket struct {\n\ttypes.BucketSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 262,
        "code_end_line": 275,
        "code_key": "BucketSource",
        "code_value": "type BucketSource struct {\n\tId          int    `json:\"Id\" gorm:\"column:id\"`\n\tName        string `json:\"Name\" gorm:\"column:name\"`\n\tUin         string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId       int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tRegion      int    `json:\"Region\" gorm:\"column:region\"`\n\tRegionName  string `json:\"RegionName\" gorm:\"column:region_name\"`\n\tBucketId    string `json:\"BucketId\" gorm:\"column:bucket_id\"`\n\tSegDuration int    `json:\"SegDuration\" gorm:\"column:seg_duration\"`\n\tSegSize     int    `json:\"SegSize\" gorm:\"column:seg_size\"`\n\tDescribe    string `json:\"Describe\" gorm:\"column:describe\"`\n\tCreatedAt   int    `json:\"CreateAt\" gorm:\"column:create_at;default:NULL\"`\n\tUpdatedAt   int    `json:\"UpdateAt\" gorm:\"column:update_at;default:NULL\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 17,
        "code_end_line": 17,
        "code_key": "IvcBucketWhitelistTable",
        "code_value": "const IvcBucketWhitelistTable = \"ivc_bucket_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 115,
        "code_end_line": 115,
        "code_key": "num",
        "code_value": "int64",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "QueryBucketWhitelistById",
    "orm_code": "func (b *Bucket) QueryBucketWhitelistById() (*types.BucketSource, error) {\n\tvar buck types.BucketSource\n\tcomment := b.CommentFunc(SELECT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcBucketWhitelistTable).First(&buck, \"id = ?\", b.Id).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn &buck, utils.RecordNotFoundError\n\t\t}\n\t\treturn &buck, err\n\t}\n\treturn &buck, nil\n}",
    "caller": "",
    "sql_statement_list": [
      "SELECT id, name, uin, app_id, region, region_name, bucket_id, seg_duration, seg_size, describe, create_at, update_at FROM ivc_bucket_whitelist WHERE id = ? LIMIT 1;"
    ],
    "sql_types": [
      "SELECT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 8,
        "code_end_line": 8,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 128,
        "code_end_line": 128,
        "code_key": "comment",
        "code_value": "b.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 26,
        "code_end_line": 30,
        "code_key": "Bucket",
        "code_value": "type Bucket struct {\n\ttypes.BucketSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 262,
        "code_end_line": 275,
        "code_key": "BucketSource",
        "code_value": "type BucketSource struct {\n\tId          int    `json:\"Id\" gorm:\"column:id\"`\n\tName        string `json:\"Name\" gorm:\"column:name\"`\n\tUin         string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId       int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tRegion      int    `json:\"Region\" gorm:\"column:region\"`\n\tRegionName  string `json:\"RegionName\" gorm:\"column:region_name\"`\n\tBucketId    string `json:\"BucketId\" gorm:\"column:bucket_id\"`\n\tSegDuration int    `json:\"SegDuration\" gorm:\"column:seg_duration\"`\n\tSegSize     int    `json:\"SegSize\" gorm:\"column:seg_size\"`\n\tDescribe    string `json:\"Describe\" gorm:\"column:describe\"`\n\tCreatedAt   int    `json:\"CreateAt\" gorm:\"column:create_at;default:NULL\"`\n\tUpdatedAt   int    `json:\"UpdateAt\" gorm:\"column:update_at;default:NULL\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 17,
        "code_end_line": 17,
        "code_key": "IvcBucketWhitelistTable",
        "code_value": "const IvcBucketWhitelistTable = \"ivc_bucket_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 127,
        "code_end_line": 127,
        "code_key": "buck",
        "code_value": "types.BucketSource",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "QueryBucketWhitelistRegion",
    "orm_code": "func (b *Bucket) QueryBucketWhitelistRegion(log *logger.IvcLog) (int, error) {\n\tvar region QueryBucketRegion\n\tcomment := b.CommentFunc(SELECT_COMMENT)\n\tbucket, appId := SplitBucketId(b.BucketId)\n\tlog.InfoV(fmt.Sprintf(\"[QueryBucketWhitelistRegion] SplitBucketId source:%v bucket:%v appId:%v\", b.BucketId, bucket, appId))\n\terr := base.GetInstance().CosDriver().Clauses(comment).Table(QCloudCosBucketTable).Select(\"region\").\n\t\tWhere(map[string]interface{}{\"appId\": appId, \"bucket\": bucket}).Scan(&region).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn region.Region, utils.RecordNotFoundError\n\t\t}\n\t\treturn region.Region, err\n\t}\n\treturn region.Region, nil\n}",
    "caller": "",
    "sql_statement_list": [
      "/* SELECT */ SELECT region FROM qcloud_cos_bucket WHERE appId = ? AND bucket = ?;"
    ],
    "sql_types": [
      "OTHER"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 8,
        "code_end_line": 8,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 152,
        "code_end_line": 152,
        "code_key": "comment",
        "code_value": "b.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 26,
        "code_end_line": 30,
        "code_key": "Bucket",
        "code_value": "type Bucket struct {\n\ttypes.BucketSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 262,
        "code_end_line": 275,
        "code_key": "BucketSource",
        "code_value": "type BucketSource struct {\n\tId          int    `json:\"Id\" gorm:\"column:id\"`\n\tName        string `json:\"Name\" gorm:\"column:name\"`\n\tUin         string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId       int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tRegion      int    `json:\"Region\" gorm:\"column:region\"`\n\tRegionName  string `json:\"RegionName\" gorm:\"column:region_name\"`\n\tBucketId    string `json:\"BucketId\" gorm:\"column:bucket_id\"`\n\tSegDuration int    `json:\"SegDuration\" gorm:\"column:seg_duration\"`\n\tSegSize     int    `json:\"SegSize\" gorm:\"column:seg_size\"`\n\tDescribe    string `json:\"Describe\" gorm:\"column:describe\"`\n\tCreatedAt   int    `json:\"CreateAt\" gorm:\"column:create_at;default:NULL\"`\n\tUpdatedAt   int    `json:\"UpdateAt\" gorm:\"column:update_at;default:NULL\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 18,
        "code_end_line": 18,
        "code_key": "QCloudCosBucketTable",
        "code_value": "const QCloudCosBucketTable    = \"qcloud_cos_bucket\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 151,
        "code_end_line": 151,
        "code_key": "region",
        "code_value": "QueryBucketRegion",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 32,
        "code_end_line": 35,
        "code_key": "QueryBucketRegion",
        "code_value": "type QueryBucketRegion struct {\n\tRegion     int    `json:\"Region\" gorm:\"column:region\"`\n\tRegionName string `json:\"RegionName\" gorm:\"column:region_name\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "QueryBucketRegionName",
    "orm_code": "func (b *Bucket) QueryBucketRegionName(regionId int) (string, error) {\n\tvar region QueryBucketRegion\n\tcomment := b.CommentFunc(SELECT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcRegionCodeTable).Select(\"region_name\").\n\t\tWhere(map[string]interface{}{\"id\": regionId}).Scan(&region).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn region.RegionName, utils.RecordNotFoundError\n\t\t}\n\t\treturn region.RegionName, err\n\t}\n\treturn region.RegionName, nil\n}",
    "caller": "",
    "sql_statement_list": [
      "SELECT region_name FROM ivc_region_code WHERE id = ?;"
    ],
    "sql_types": [
      "SELECT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 8,
        "code_end_line": 8,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 183,
        "code_end_line": 183,
        "code_key": "comment",
        "code_value": "b.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 26,
        "code_end_line": 30,
        "code_key": "Bucket",
        "code_value": "type Bucket struct {\n\ttypes.BucketSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 262,
        "code_end_line": 275,
        "code_key": "BucketSource",
        "code_value": "type BucketSource struct {\n\tId          int    `json:\"Id\" gorm:\"column:id\"`\n\tName        string `json:\"Name\" gorm:\"column:name\"`\n\tUin         string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId       int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tRegion      int    `json:\"Region\" gorm:\"column:region\"`\n\tRegionName  string `json:\"RegionName\" gorm:\"column:region_name\"`\n\tBucketId    string `json:\"BucketId\" gorm:\"column:bucket_id\"`\n\tSegDuration int    `json:\"SegDuration\" gorm:\"column:seg_duration\"`\n\tSegSize     int    `json:\"SegSize\" gorm:\"column:seg_size\"`\n\tDescribe    string `json:\"Describe\" gorm:\"column:describe\"`\n\tCreatedAt   int    `json:\"CreateAt\" gorm:\"column:create_at;default:NULL\"`\n\tUpdatedAt   int    `json:\"UpdateAt\" gorm:\"column:update_at;default:NULL\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 19,
        "code_end_line": 19,
        "code_key": "IvcRegionCodeTable",
        "code_value": "const IvcRegionCodeTable      = \"ivc_region_code\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 182,
        "code_end_line": 182,
        "code_key": "region",
        "code_value": "QueryBucketRegion",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/bucket.go",
        "code_start_line": 32,
        "code_end_line": 35,
        "code_key": "QueryBucketRegion",
        "code_value": "type QueryBucketRegion struct {\n\tRegion     int    `json:\"Region\" gorm:\"column:region\"`\n\tRegionName string `json:\"RegionName\" gorm:\"column:region_name\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "InsertApprovalEvent",
    "orm_code": "func (ae *ApprovalEvent) InsertApprovalEvent() (string, error) {\n\tcomment := ae.CommentFunc(INSERT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcApprovalEventTable).Create(&ae).Error\n\tif err != nil {\n\t\treturn ae.TaskId, err\n\t}\n\treturn ae.TaskId, nil\n}",
    "caller": "",
    "sql_statement_list": [
      "INSERT INTO ivc_approval_event (id, order_id, creator, operator, approver, approve_msg, step_type, approve_res, total_approve_res, approve_time, approve_content, action, create_at, update_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);"
    ],
    "sql_types": [
      "INSERT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 13,
        "code_end_line": 13,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 238,
        "code_end_line": 238,
        "code_key": "comment",
        "code_value": "ae.CommentFunc(INSERT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 221,
        "code_end_line": 225,
        "code_key": "ApprovalEvent",
        "code_value": "type ApprovalEvent struct {\n\ttypes.ApprovalEventSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 113,
        "code_end_line": 128,
        "code_key": "ApprovalEventSource",
        "code_value": "type ApprovalEventSource struct {\n\tTaskId          string `json:\"task_id\" gorm:\"column:id\"`\n\tOrderId         int    `json:\"order_id\" gorm:\"column:order_id\"`\n\tCreator         string `json:\"creator\" gorm:\"column:creator\"`\n\tOperator        string `json:\"operator\" gorm:\"column:operator\"`\n\tApprover        string `json:\"approver\" gorm:\"column:approver\"`\n\tApproveMsg      string `json:\"approve_msg\" gorm:\"column:approve_msg\"`\n\tStepType        string `json:\"step_type\" gorm:\"column:step_type\"`\n\tApproveRes      int    `json:\"approve_res\" gorm:\"column:approve_res\"`\n\tTotalApproveRes int    `json:\"total_approve_res\" gorm:\"column:total_approve_res\"`\n\tApproveTime     string `json:\"approve_time\" gorm:\"column:approve_time\"`\n\tApproveContent  string `json:\"approve_content\" gorm:\"column:approve_content\"`\n\tAction          string `json:\"action\" gorm:\"column:action\"`\n\tCreateAt        int64  `json:\"create_at\" gorm:\"column:create_at\"`\n\tUpdateAt        int64  `json:\"update_at\" gorm:\"column:update_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 83,
        "code_end_line": 83,
        "code_key": "INSERT_COMMENT",
        "code_value": "const INSERT_COMMENT = \"INSERT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 62,
        "code_end_line": 62,
        "code_key": "IvcApprovalEventTable",
        "code_value": "const IvcApprovalEventTable = \"ivc_approval_event\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "QueryApprovalEventByFilter",
    "orm_code": "func (ae *ApprovalEvent) QueryApprovalEventByFilter() (int, error) {\n\tvar num int64\n\tcomment := ae.CommentFunc(SELECT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcApprovalEventTable).Where(map[string]interface{}{\"order_id\": ae.OrderId}).\n\t\tCount(&num).Error\n\treturn int(num), err\n}",
    "caller": "",
    "sql_statement_list": [
      "/* SELECT */ SELECT count(*) FROM ivc_approval_event WHERE order_id = ?;"
    ],
    "sql_types": [
      "OTHER"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 13,
        "code_end_line": 13,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 249,
        "code_end_line": 249,
        "code_key": "comment",
        "code_value": "ae.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 221,
        "code_end_line": 225,
        "code_key": "ApprovalEvent",
        "code_value": "type ApprovalEvent struct {\n\ttypes.ApprovalEventSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 113,
        "code_end_line": 128,
        "code_key": "ApprovalEventSource",
        "code_value": "type ApprovalEventSource struct {\n\tTaskId          string `json:\"task_id\" gorm:\"column:id\"`\n\tOrderId         int    `json:\"order_id\" gorm:\"column:order_id\"`\n\tCreator         string `json:\"creator\" gorm:\"column:creator\"`\n\tOperator        string `json:\"operator\" gorm:\"column:operator\"`\n\tApprover        string `json:\"approver\" gorm:\"column:approver\"`\n\tApproveMsg      string `json:\"approve_msg\" gorm:\"column:approve_msg\"`\n\tStepType        string `json:\"step_type\" gorm:\"column:step_type\"`\n\tApproveRes      int    `json:\"approve_res\" gorm:\"column:approve_res\"`\n\tTotalApproveRes int    `json:\"total_approve_res\" gorm:\"column:total_approve_res\"`\n\tApproveTime     string `json:\"approve_time\" gorm:\"column:approve_time\"`\n\tApproveContent  string `json:\"approve_content\" gorm:\"column:approve_content\"`\n\tAction          string `json:\"action\" gorm:\"column:action\"`\n\tCreateAt        int64  `json:\"create_at\" gorm:\"column:create_at\"`\n\tUpdateAt        int64  `json:\"update_at\" gorm:\"column:update_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 62,
        "code_end_line": 62,
        "code_key": "IvcApprovalEventTable",
        "code_value": "const IvcApprovalEventTable = \"ivc_approval_event\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 248,
        "code_end_line": 248,
        "code_key": "num",
        "code_value": "int64",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "QueryApprovalEventById",
    "orm_code": "func (ae *ApprovalEvent) QueryApprovalEventById() (*types.ApprovalEventSource, error) {\n\tvar aes types.ApprovalEventSource\n\tcomment := ae.CommentFunc(SELECT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcApprovalEventTable).First(&aes, \"id = ?\", ae.TaskId).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn &aes, utils.RecordNotFoundError\n\t\t}\n\t\treturn &aes, err\n\t}\n\treturn &aes, nil\n}",
    "caller": "",
    "sql_statement_list": [
      "SELECT * FROM ivc_approval_event WHERE id = ? LIMIT 1;"
    ],
    "sql_types": [
      "SELECT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 13,
        "code_end_line": 13,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 258,
        "code_end_line": 258,
        "code_key": "comment",
        "code_value": "ae.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 221,
        "code_end_line": 225,
        "code_key": "ApprovalEvent",
        "code_value": "type ApprovalEvent struct {\n\ttypes.ApprovalEventSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 113,
        "code_end_line": 128,
        "code_key": "ApprovalEventSource",
        "code_value": "type ApprovalEventSource struct {\n\tTaskId          string `json:\"task_id\" gorm:\"column:id\"`\n\tOrderId         int    `json:\"order_id\" gorm:\"column:order_id\"`\n\tCreator         string `json:\"creator\" gorm:\"column:creator\"`\n\tOperator        string `json:\"operator\" gorm:\"column:operator\"`\n\tApprover        string `json:\"approver\" gorm:\"column:approver\"`\n\tApproveMsg      string `json:\"approve_msg\" gorm:\"column:approve_msg\"`\n\tStepType        string `json:\"step_type\" gorm:\"column:step_type\"`\n\tApproveRes      int    `json:\"approve_res\" gorm:\"column:approve_res\"`\n\tTotalApproveRes int    `json:\"total_approve_res\" gorm:\"column:total_approve_res\"`\n\tApproveTime     string `json:\"approve_time\" gorm:\"column:approve_time\"`\n\tApproveContent  string `json:\"approve_content\" gorm:\"column:approve_content\"`\n\tAction          string `json:\"action\" gorm:\"column:action\"`\n\tCreateAt        int64  `json:\"create_at\" gorm:\"column:create_at\"`\n\tUpdateAt        int64  `json:\"update_at\" gorm:\"column:update_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 62,
        "code_end_line": 62,
        "code_key": "IvcApprovalEventTable",
        "code_value": "const IvcApprovalEventTable = \"ivc_approval_event\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 257,
        "code_end_line": 257,
        "code_key": "aes",
        "code_value": "types.ApprovalEventSource",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "DeleteApprovalEvent",
    "orm_code": "func (ae *ApprovalEvent) DeleteApprovalEvent() error {\n\tcomment := ae.CommentFunc(DELETE_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcApprovalEventTable).Where(\"id = ?\", ae.TaskId).\n\t\tDelete(&types.ApprovalEventSource{}).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn utils.NonExistentPrimaryKeyIdError\n\t\t}\n\t\treturn err\n\t}\n\treturn nil\n}",
    "caller": "",
    "sql_statement_list": [
      "/* DELETE */ DELETE FROM ivc_approval_event WHERE id = ?;"
    ],
    "sql_types": [
      "OTHER"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 13,
        "code_end_line": 13,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 271,
        "code_end_line": 271,
        "code_key": "comment",
        "code_value": "ae.CommentFunc(DELETE_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 221,
        "code_end_line": 225,
        "code_key": "ApprovalEvent",
        "code_value": "type ApprovalEvent struct {\n\ttypes.ApprovalEventSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 113,
        "code_end_line": 128,
        "code_key": "ApprovalEventSource",
        "code_value": "type ApprovalEventSource struct {\n\tTaskId          string `json:\"task_id\" gorm:\"column:id\"`\n\tOrderId         int    `json:\"order_id\" gorm:\"column:order_id\"`\n\tCreator         string `json:\"creator\" gorm:\"column:creator\"`\n\tOperator        string `json:\"operator\" gorm:\"column:operator\"`\n\tApprover        string `json:\"approver\" gorm:\"column:approver\"`\n\tApproveMsg      string `json:\"approve_msg\" gorm:\"column:approve_msg\"`\n\tStepType        string `json:\"step_type\" gorm:\"column:step_type\"`\n\tApproveRes      int    `json:\"approve_res\" gorm:\"column:approve_res\"`\n\tTotalApproveRes int    `json:\"total_approve_res\" gorm:\"column:total_approve_res\"`\n\tApproveTime     string `json:\"approve_time\" gorm:\"column:approve_time\"`\n\tApproveContent  string `json:\"approve_content\" gorm:\"column:approve_content\"`\n\tAction          string `json:\"action\" gorm:\"column:action\"`\n\tCreateAt        int64  `json:\"create_at\" gorm:\"column:create_at\"`\n\tUpdateAt        int64  `json:\"update_at\" gorm:\"column:update_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 84,
        "code_end_line": 84,
        "code_key": "DELETE_COMMENT",
        "code_value": "const DELETE_COMMENT = \"DELETE\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 62,
        "code_end_line": 62,
        "code_key": "IvcApprovalEventTable",
        "code_value": "const IvcApprovalEventTable = \"ivc_approval_event\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "UpdateApprovalEvent",
    "orm_code": "func (ae *ApprovalEvent) UpdateApprovalEvent(source *types.ApprovalEventSource) (string, error) {\n\tcomment := ae.CommentFunc(UPDATE_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcApprovalEventTable).Save(source).Error\n\tif err != nil {\n\t\treturn source.TaskId, err\n\t}\n\treturn source.TaskId, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "更新审批事件记录",
            "sql": "UPDATE ivc_approval_event SET order_id = ?, creator = ?, operator = ?, approver = ?, approve_msg = ?, step_type = ?, approve_res = ?, total_approve_res = ?, approve_time = ?, approve_content = ?, action = ?, create_at = ?, update_at = ? WHERE id = ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 13,
        "code_end_line": 13,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 285,
        "code_end_line": 285,
        "code_key": "comment",
        "code_value": "ae.CommentFunc(UPDATE_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 221,
        "code_end_line": 225,
        "code_key": "ApprovalEvent",
        "code_value": "type ApprovalEvent struct {\n\ttypes.ApprovalEventSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 113,
        "code_end_line": 128,
        "code_key": "ApprovalEventSource",
        "code_value": "type ApprovalEventSource struct {\n\tTaskId          string `json:\"task_id\" gorm:\"column:id\"`\n\tOrderId         int    `json:\"order_id\" gorm:\"column:order_id\"`\n\tCreator         string `json:\"creator\" gorm:\"column:creator\"`\n\tOperator        string `json:\"operator\" gorm:\"column:operator\"`\n\tApprover        string `json:\"approver\" gorm:\"column:approver\"`\n\tApproveMsg      string `json:\"approve_msg\" gorm:\"column:approve_msg\"`\n\tStepType        string `json:\"step_type\" gorm:\"column:step_type\"`\n\tApproveRes      int    `json:\"approve_res\" gorm:\"column:approve_res\"`\n\tTotalApproveRes int    `json:\"total_approve_res\" gorm:\"column:total_approve_res\"`\n\tApproveTime     string `json:\"approve_time\" gorm:\"column:approve_time\"`\n\tApproveContent  string `json:\"approve_content\" gorm:\"column:approve_content\"`\n\tAction          string `json:\"action\" gorm:\"column:action\"`\n\tCreateAt        int64  `json:\"create_at\" gorm:\"column:create_at\"`\n\tUpdateAt        int64  `json:\"update_at\" gorm:\"column:update_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 82,
        "code_end_line": 82,
        "code_key": "UPDATE_COMMENT",
        "code_value": "const UPDATE_COMMENT = \"UPDATE\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 62,
        "code_end_line": 62,
        "code_key": "IvcApprovalEventTable",
        "code_value": "const IvcApprovalEventTable = \"ivc_approval_event\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "UpdateApprovalEventStatus",
    "orm_code": "func (ae *ApprovalEvent) UpdateApprovalEventStatus() (string, error) {\n\tcomment := ae.CommentFunc(UPDATE_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcApprovalEventTable).Where(\"id = ?\", ae.TaskId).\n\t\tUpdates(map[string]interface{}{\n\t\t\t\"approve_res\":       ae.ApproveRes,\n\t\t\t\"total_approve_res\": ae.TotalApproveRes,\n\t\t}).Error\n\tif err != nil {\n\t\treturn ae.TaskId, err\n\t}\n\treturn ae.TaskId, nil\n}",
    "caller": "",
    "sql_statement_list": [
      "UPDATE ivc_approval_event SET approve_res = ?, total_approve_res = ? WHERE id = ?;"
    ],
    "sql_types": [
      "UPDATE"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 13,
        "code_end_line": 13,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 295,
        "code_end_line": 295,
        "code_key": "comment",
        "code_value": "ae.CommentFunc(UPDATE_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 221,
        "code_end_line": 225,
        "code_key": "ApprovalEvent",
        "code_value": "type ApprovalEvent struct {\n\ttypes.ApprovalEventSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 113,
        "code_end_line": 128,
        "code_key": "ApprovalEventSource",
        "code_value": "type ApprovalEventSource struct {\n\tTaskId          string `json:\"task_id\" gorm:\"column:id\"`\n\tOrderId         int    `json:\"order_id\" gorm:\"column:order_id\"`\n\tCreator         string `json:\"creator\" gorm:\"column:creator\"`\n\tOperator        string `json:\"operator\" gorm:\"column:operator\"`\n\tApprover        string `json:\"approver\" gorm:\"column:approver\"`\n\tApproveMsg      string `json:\"approve_msg\" gorm:\"column:approve_msg\"`\n\tStepType        string `json:\"step_type\" gorm:\"column:step_type\"`\n\tApproveRes      int    `json:\"approve_res\" gorm:\"column:approve_res\"`\n\tTotalApproveRes int    `json:\"total_approve_res\" gorm:\"column:total_approve_res\"`\n\tApproveTime     string `json:\"approve_time\" gorm:\"column:approve_time\"`\n\tApproveContent  string `json:\"approve_content\" gorm:\"column:approve_content\"`\n\tAction          string `json:\"action\" gorm:\"column:action\"`\n\tCreateAt        int64  `json:\"create_at\" gorm:\"column:create_at\"`\n\tUpdateAt        int64  `json:\"update_at\" gorm:\"column:update_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 82,
        "code_end_line": 82,
        "code_key": "UPDATE_COMMENT",
        "code_value": "const UPDATE_COMMENT = \"UPDATE\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 62,
        "code_end_line": 62,
        "code_key": "IvcApprovalEventTable",
        "code_value": "const IvcApprovalEventTable = \"ivc_approval_event\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindApprovalEventList",
    "orm_code": "func (ae *ApprovalEvent) FindApprovalEventList(filterSource map[string]interface{}, page, size int) ([]types.ApprovalEventSource, error) {\n\tas := make([]types.ApprovalEventSource, 0)\n\tcomment := ae.CommentFunc(SELECT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcApprovalEventTable).Order(\"update_at desc\").Scopes(PaginateDB(page, size)).\n\t\tWhere(filterSource).Find(&as).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn as, utils.RecordNotFoundError\n\t\t}\n\t\treturn as, err\n\t}\n\treturn as, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "无过滤条件",
            "sql": "SELECT id, order_id, creator, operator, approver, approve_msg, step_type, approve_res, total_approve_res, approve_time, approve_content, action, create_at, update_at FROM ivc_approval_event ORDER BY update_at DESC LIMIT ? OFFSET ?;"
          },
          {
            "scenario": "单个条件过滤",
            "sql": "SELECT id, order_id, creator, operator, approver, approve_msg, step_type, approve_res, total_approve_res, approve_time, approve_content, action, create_at, update_at FROM ivc_approval_event WHERE creator = ? ORDER BY update_at DESC LIMIT ? OFFSET ?;"
          },
          {
            "scenario": "多个条件AND组合过滤",
            "sql": "SELECT id, order_id, creator, operator, approver, approve_msg, step_type, approve_res, total_approve_res, approve_time, approve_content, action, create_at, update_at FROM ivc_approval_event WHERE approve_res = ? AND creator = ? AND step_type = ? ORDER BY update_at DESC LIMIT ? OFFSET ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 13,
        "code_end_line": 13,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 310,
        "code_end_line": 310,
        "code_key": "comment",
        "code_value": "ae.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 221,
        "code_end_line": 225,
        "code_key": "ApprovalEvent",
        "code_value": "type ApprovalEvent struct {\n\ttypes.ApprovalEventSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 113,
        "code_end_line": 128,
        "code_key": "ApprovalEventSource",
        "code_value": "type ApprovalEventSource struct {\n\tTaskId          string `json:\"task_id\" gorm:\"column:id\"`\n\tOrderId         int    `json:\"order_id\" gorm:\"column:order_id\"`\n\tCreator         string `json:\"creator\" gorm:\"column:creator\"`\n\tOperator        string `json:\"operator\" gorm:\"column:operator\"`\n\tApprover        string `json:\"approver\" gorm:\"column:approver\"`\n\tApproveMsg      string `json:\"approve_msg\" gorm:\"column:approve_msg\"`\n\tStepType        string `json:\"step_type\" gorm:\"column:step_type\"`\n\tApproveRes      int    `json:\"approve_res\" gorm:\"column:approve_res\"`\n\tTotalApproveRes int    `json:\"total_approve_res\" gorm:\"column:total_approve_res\"`\n\tApproveTime     string `json:\"approve_time\" gorm:\"column:approve_time\"`\n\tApproveContent  string `json:\"approve_content\" gorm:\"column:approve_content\"`\n\tAction          string `json:\"action\" gorm:\"column:action\"`\n\tCreateAt        int64  `json:\"create_at\" gorm:\"column:create_at\"`\n\tUpdateAt        int64  `json:\"update_at\" gorm:\"column:update_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 62,
        "code_end_line": 62,
        "code_key": "IvcApprovalEventTable",
        "code_value": "const IvcApprovalEventTable = \"ivc_approval_event\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 261,
        "code_end_line": 266,
        "code_key": "PaginateDB",
        "code_value": "func PaginateDB(page, size int) func(db *gorm.DB) *gorm.DB {\n\treturn func(db *gorm.DB) *gorm.DB {\n\t\toffset := (page - 1) * size\n\t\treturn db.Offset(offset).Limit(size)\n\t}\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 309,
        "code_end_line": 309,
        "code_key": "as",
        "code_value": "make([]types.ApprovalEventSource, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindApprovalEventListCount",
    "orm_code": "func (ae *ApprovalEvent) FindApprovalEventListCount(filterSource map[string]interface{}) (int, error) {\n\tvar (\n\t\tnums    int64\n\t\terr     error\n\t\tcomment = ae.CommentFunc(SELECT_COMMENT)\n\t)\n\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(IvcApprovalEventTable).Where(filterSource).Count(&nums).Error\n\treturn int(nums), err\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "filterSource为空",
            "sql": "SELECT count(*) FROM ivc_approval_event;"
          },
          {
            "scenario": "filterSource包含单个条件",
            "sql": "SELECT count(*) FROM ivc_approval_event WHERE task_id = ?;"
          },
          {
            "scenario": "filterSource包含多个条件",
            "sql": "SELECT count(*) FROM ivc_approval_event WHERE task_id = ? AND order_id = ? AND creator = ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 13,
        "code_end_line": 13,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 327,
        "code_end_line": 327,
        "code_key": "comment",
        "code_value": "ae.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 33,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 221,
        "code_end_line": 225,
        "code_key": "ApprovalEvent",
        "code_value": "type ApprovalEvent struct {\n\ttypes.ApprovalEventSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 113,
        "code_end_line": 128,
        "code_key": "ApprovalEventSource",
        "code_value": "type ApprovalEventSource struct {\n\tTaskId          string `json:\"task_id\" gorm:\"column:id\"`\n\tOrderId         int    `json:\"order_id\" gorm:\"column:order_id\"`\n\tCreator         string `json:\"creator\" gorm:\"column:creator\"`\n\tOperator        string `json:\"operator\" gorm:\"column:operator\"`\n\tApprover        string `json:\"approver\" gorm:\"column:approver\"`\n\tApproveMsg      string `json:\"approve_msg\" gorm:\"column:approve_msg\"`\n\tStepType        string `json:\"step_type\" gorm:\"column:step_type\"`\n\tApproveRes      int    `json:\"approve_res\" gorm:\"column:approve_res\"`\n\tTotalApproveRes int    `json:\"total_approve_res\" gorm:\"column:total_approve_res\"`\n\tApproveTime     string `json:\"approve_time\" gorm:\"column:approve_time\"`\n\tApproveContent  string `json:\"approve_content\" gorm:\"column:approve_content\"`\n\tAction          string `json:\"action\" gorm:\"column:action\"`\n\tCreateAt        int64  `json:\"create_at\" gorm:\"column:create_at\"`\n\tUpdateAt        int64  `json:\"update_at\" gorm:\"column:update_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 62,
        "code_end_line": 62,
        "code_key": "IvcApprovalEventTable",
        "code_value": "const IvcApprovalEventTable = \"ivc_approval_event\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/event.go",
        "code_start_line": 325,
        "code_end_line": 325,
        "code_key": "nums",
        "code_value": "int64",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindMediaWhitelists",
    "orm_code": "func (m *Media) FindMediaWhitelists(filterSource map[string]interface{}, page, size int) ([]types.MediaSource, error) {\n\tms := make([]types.MediaSource, 0)\n\tvar err error\n\tcomment := m.CommentFunc(SELECT_COMMENT)\n\tif name, ok := filterSource[\"name\"]; ok {\n\t\tfilter := make(map[string]interface{})\n\t\tfor k, v := range filterSource {\n\t\t\tif k == \"name\" {\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tfilter[k] = v\n\t\t}\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(IvcMediaWhitelistTable).Order(\"id\").Scopes(PaginateDB(page, size)).\n\t\t\tWhere(filter).Where(\"name like ?\", \"%\"+name.(string)+\"%\").Find(&ms).Error\n\t} else {\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(IvcMediaWhitelistTable).Order(\"id\").Scopes(PaginateDB(page, size)).\n\t\t\tWhere(filterSource).Find(&ms).Error\n\t}\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn ms, utils.RecordNotFoundError\n\t\t}\n\t\treturn ms, err\n\t}\n\treturn ms, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "filterSource包含name字段时，name使用LIKE模糊匹配，其他字段精确匹配",
            "sql": "SELECT id, name, uin, app_id, cluster_id, gb_media_addr, rtmp_media_addr, describe, create_at, update_at FROM ivc_media_whitelist WHERE uin = ? AND app_id = ? AND name LIKE ? ORDER BY id LIMIT 10 OFFSET 0;"
          },
          {
            "scenario": "filterSource不包含name字段时，所有字段都使用精确匹配",
            "sql": "SELECT id, name, uin, app_id, cluster_id, gb_media_addr, rtmp_media_addr, describe, create_at, update_at FROM ivc_media_whitelist WHERE uin = ? AND app_id = ? AND cluster_id = ? ORDER BY id LIMIT 10 OFFSET 0;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 35,
        "code_end_line": 35,
        "code_key": "comment",
        "code_value": "m.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 25,
        "code_end_line": 29,
        "code_key": "Media",
        "code_value": "type Media struct {\n\ttypes.MediaSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 774,
        "code_end_line": 785,
        "code_key": "MediaSource",
        "code_value": "type MediaSource struct {\n\tId            int    `json:\"Id\" gorm:\"column:id\"`\n\tName          string `json:\"Name\" gorm:\"column:name\"`\n\tUin           string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId         int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tClusterId     string `json:\"ClusterId\" gorm:\"column:cluster_id\"`\n\tGBMediaAddr   string `json:\"GBMediaAddr\" gorm:\"column:gb_media_addr\"`\n\tRTMPMediaAddr string `json:\"RTMPMediaAddr\" gorm:\"column:rtmp_media_addr\"`\n\tDescribe      string `json:\"Describe\" gorm:\"column:describe\"`\n\tCreatedAt     int    `json:\"CreateAt\" gorm:\"column:create_at;default:NULL\"`\n\tUpdatedAt     int    `json:\"UpdateAt\" gorm:\"column:update_at;default:NULL\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 15,
        "code_end_line": 15,
        "code_key": "IvcMediaWhitelistTable",
        "code_value": "const IvcMediaWhitelistTable = \"ivc_media_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 261,
        "code_end_line": 266,
        "code_key": "PaginateDB",
        "code_value": "func PaginateDB(page, size int) func(db *gorm.DB) *gorm.DB {\n\treturn func(db *gorm.DB) *gorm.DB {\n\t\toffset := (page - 1) * size\n\t\treturn db.Offset(offset).Limit(size)\n\t}\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 37,
        "code_end_line": 37,
        "code_key": "filter",
        "code_value": "make(map[string]interface{})",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 33,
        "code_end_line": 33,
        "code_key": "ms",
        "code_value": "make([]types.MediaSource, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 2,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindMediaWhitelistCount",
    "orm_code": "func (m *Media) FindMediaWhitelistCount(filterSource map[string]interface{}) (int, error) {\n\tvar (\n\t\tnums    int64\n\t\terr     error\n\t\tcomment = m.CommentFunc(SELECT_COMMENT)\n\t)\n\tif name, ok := filterSource[\"name\"]; ok {\n\t\tfilter := make(map[string]interface{})\n\t\tfor k, v := range filterSource {\n\t\t\tif k == \"name\" {\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tfilter[k] = v\n\t\t}\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(IvcMediaWhitelistTable).Where(filter).Where(\"name like ?\", \"%\"+name.(string)+\"%\").Count(&nums).Error\n\t} else {\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(IvcMediaWhitelistTable).Where(filterSource).Count(&nums).Error\n\t}\n\tif err != nil {\n\t\treturn int(nums), err\n\t}\n\treturn int(nums), nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "filterSource包含name键",
            "sql": "SELECT COUNT(*) FROM ivc_media_whitelist WHERE status = ? AND type = ? AND name LIKE ?;"
          },
          {
            "scenario": "filterSource不包含name键",
            "sql": "SELECT COUNT(*) FROM ivc_media_whitelist WHERE status = ? AND type = ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 64,
        "code_end_line": 64,
        "code_key": "comment",
        "code_value": "m.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 33,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 25,
        "code_end_line": 29,
        "code_key": "Media",
        "code_value": "type Media struct {\n\ttypes.MediaSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 774,
        "code_end_line": 785,
        "code_key": "MediaSource",
        "code_value": "type MediaSource struct {\n\tId            int    `json:\"Id\" gorm:\"column:id\"`\n\tName          string `json:\"Name\" gorm:\"column:name\"`\n\tUin           string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId         int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tClusterId     string `json:\"ClusterId\" gorm:\"column:cluster_id\"`\n\tGBMediaAddr   string `json:\"GBMediaAddr\" gorm:\"column:gb_media_addr\"`\n\tRTMPMediaAddr string `json:\"RTMPMediaAddr\" gorm:\"column:rtmp_media_addr\"`\n\tDescribe      string `json:\"Describe\" gorm:\"column:describe\"`\n\tCreatedAt     int    `json:\"CreateAt\" gorm:\"column:create_at;default:NULL\"`\n\tUpdatedAt     int    `json:\"UpdateAt\" gorm:\"column:update_at;default:NULL\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 15,
        "code_end_line": 15,
        "code_key": "IvcMediaWhitelistTable",
        "code_value": "const IvcMediaWhitelistTable = \"ivc_media_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 67,
        "code_end_line": 67,
        "code_key": "filter",
        "code_value": "make(map[string]interface{})",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 62,
        "code_end_line": 62,
        "code_key": "nums",
        "code_value": "int64",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 2,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "InsertMediaWhitelist",
    "orm_code": "func (m *Media) InsertMediaWhitelist() (int, error) {\n\tcomment := m.CommentFunc(INSERT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcMediaWhitelistTable).Create(&m).Error\n\tif err != nil {\n\t\treturn m.Id, err\n\t}\n\treturn m.Id, nil\n}",
    "caller": "",
    "sql_statement_list": [
      "/* INSERT: [UUID-COMMENT-STRING] */ INSERT INTO ivc_media_whitelist (id, name, uin, app_id, cluster_id, gb_media_addr, rtmp_media_addr, describe, create_at, update_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?);"
    ],
    "sql_types": [
      "OTHER"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 99,
        "code_end_line": 99,
        "code_key": "comment",
        "code_value": "m.CommentFunc(INSERT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 25,
        "code_end_line": 29,
        "code_key": "Media",
        "code_value": "type Media struct {\n\ttypes.MediaSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 774,
        "code_end_line": 785,
        "code_key": "MediaSource",
        "code_value": "type MediaSource struct {\n\tId            int    `json:\"Id\" gorm:\"column:id\"`\n\tName          string `json:\"Name\" gorm:\"column:name\"`\n\tUin           string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId         int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tClusterId     string `json:\"ClusterId\" gorm:\"column:cluster_id\"`\n\tGBMediaAddr   string `json:\"GBMediaAddr\" gorm:\"column:gb_media_addr\"`\n\tRTMPMediaAddr string `json:\"RTMPMediaAddr\" gorm:\"column:rtmp_media_addr\"`\n\tDescribe      string `json:\"Describe\" gorm:\"column:describe\"`\n\tCreatedAt     int    `json:\"CreateAt\" gorm:\"column:create_at;default:NULL\"`\n\tUpdatedAt     int    `json:\"UpdateAt\" gorm:\"column:update_at;default:NULL\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 83,
        "code_end_line": 83,
        "code_key": "INSERT_COMMENT",
        "code_value": "const INSERT_COMMENT = \"INSERT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 15,
        "code_end_line": 15,
        "code_key": "IvcMediaWhitelistTable",
        "code_value": "const IvcMediaWhitelistTable = \"ivc_media_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "QueryMediaWhitelistByAppIdAndClusterId",
    "orm_code": "func (m *Media) QueryMediaWhitelistByAppIdAndClusterId() (int, error) {\n\tvar num int64\n\tcomment := m.CommentFunc(SELECT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcMediaWhitelistTable).Where(map[string]interface{}{\"app_id\": m.MediaSource.AppId, \"cluster_id\": m.ClusterId}).\n\t\tCount(&num).Error\n\tif err != nil {\n\t\treturn int(num), err\n\t}\n\treturn int(num), nil\n}",
    "caller": "",
    "sql_statement_list": [
      "/* SELECT */ SELECT count(*) FROM ivc_media_whitelist WHERE app_id = ? AND cluster_id = ?;"
    ],
    "sql_types": [
      "OTHER"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 110,
        "code_end_line": 110,
        "code_key": "comment",
        "code_value": "m.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 25,
        "code_end_line": 29,
        "code_key": "Media",
        "code_value": "type Media struct {\n\ttypes.MediaSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 774,
        "code_end_line": 785,
        "code_key": "MediaSource",
        "code_value": "type MediaSource struct {\n\tId            int    `json:\"Id\" gorm:\"column:id\"`\n\tName          string `json:\"Name\" gorm:\"column:name\"`\n\tUin           string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId         int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tClusterId     string `json:\"ClusterId\" gorm:\"column:cluster_id\"`\n\tGBMediaAddr   string `json:\"GBMediaAddr\" gorm:\"column:gb_media_addr\"`\n\tRTMPMediaAddr string `json:\"RTMPMediaAddr\" gorm:\"column:rtmp_media_addr\"`\n\tDescribe      string `json:\"Describe\" gorm:\"column:describe\"`\n\tCreatedAt     int    `json:\"CreateAt\" gorm:\"column:create_at;default:NULL\"`\n\tUpdatedAt     int    `json:\"UpdateAt\" gorm:\"column:update_at;default:NULL\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 15,
        "code_end_line": 15,
        "code_key": "IvcMediaWhitelistTable",
        "code_value": "const IvcMediaWhitelistTable = \"ivc_media_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 109,
        "code_end_line": 109,
        "code_key": "num",
        "code_value": "int64",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "QueryMediaWhitelistById",
    "orm_code": "func (m *Media) QueryMediaWhitelistById() (*types.MediaSource, error) {\n\tvar media types.MediaSource\n\tcomment := m.CommentFunc(SELECT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcMediaWhitelistTable).First(&media, \"id = ?\", m.Id).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn &media, utils.RecordNotFoundError\n\t\t}\n\t\treturn &media, err\n\t}\n\treturn &media, nil\n}",
    "caller": "",
    "sql_statement_list": [
      "SELECT id, name, uin, app_id, cluster_id, gb_media_addr, rtmp_media_addr, describe, create_at, update_at FROM ivc_media_whitelist WHERE id = ? LIMIT 1;"
    ],
    "sql_types": [
      "SELECT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 122,
        "code_end_line": 122,
        "code_key": "comment",
        "code_value": "m.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 25,
        "code_end_line": 29,
        "code_key": "Media",
        "code_value": "type Media struct {\n\ttypes.MediaSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 774,
        "code_end_line": 785,
        "code_key": "MediaSource",
        "code_value": "type MediaSource struct {\n\tId            int    `json:\"Id\" gorm:\"column:id\"`\n\tName          string `json:\"Name\" gorm:\"column:name\"`\n\tUin           string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId         int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tClusterId     string `json:\"ClusterId\" gorm:\"column:cluster_id\"`\n\tGBMediaAddr   string `json:\"GBMediaAddr\" gorm:\"column:gb_media_addr\"`\n\tRTMPMediaAddr string `json:\"RTMPMediaAddr\" gorm:\"column:rtmp_media_addr\"`\n\tDescribe      string `json:\"Describe\" gorm:\"column:describe\"`\n\tCreatedAt     int    `json:\"CreateAt\" gorm:\"column:create_at;default:NULL\"`\n\tUpdatedAt     int    `json:\"UpdateAt\" gorm:\"column:update_at;default:NULL\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 15,
        "code_end_line": 15,
        "code_key": "IvcMediaWhitelistTable",
        "code_value": "const IvcMediaWhitelistTable = \"ivc_media_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/media.go",
        "code_start_line": 121,
        "code_end_line": 121,
        "code_key": "media",
        "code_value": "types.MediaSource",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "findUserInfoByAppId",
    "orm_code": "func (u *User) findUserInfoByAppId() (types.UserResponse, error) {\n\tvar user types.UserResponse\n\tcomment := u.CommentFunc(SELECT_COMMENT)\n\terr := base.GetInstance().BillingDriver().Clauses(comment).Table(UserInfoTable).Where(map[string]interface{}{\"app_id\": u.AppId}).Find(&user).Error\n\tif err != nil {\n\t\treturn user, err\n\t}\n\treturn user, nil\n}",
    "caller": "",
    "sql_statement_list": [
      "SELECT uin, app_id, name, status, industry_name, industry_grade, system_architect, business_manager, corporate, district_id, district_belong, internal, created_at, updated_at FROM ivc_user_info WHERE app_id = ?;"
    ],
    "sql_types": [
      "SELECT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 9,
        "code_end_line": 9,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 101,
        "code_end_line": 101,
        "code_key": "comment",
        "code_value": "u.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 44,
        "code_end_line": 50,
        "code_key": "User",
        "code_value": "type User struct {\n\tAppId int    `json:\"app_id\" gorm:\"column:app_id\"`\n\tUin   string `json:\"uin\" gorm:\"column:uin\"`\n\tName  string `json:\"name\" gorm:\"column:name\"`\n\n\t*Comment\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 19,
        "code_end_line": 19,
        "code_key": "UserInfoTable",
        "code_value": "const UserInfoTable        = \"ivc_user_info\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 100,
        "code_end_line": 100,
        "code_key": "user",
        "code_value": "types.UserResponse",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 1325,
        "code_end_line": 1341,
        "code_key": "UserResponse",
        "code_value": "type UserResponse struct {\n\tUin             string      `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId           int         `json:\"AppId\" gorm:\"column:app_id\"`\n\tName            string      `json:\"Name\" gorm:\"column:name\"`\n\tStatus          int         `json:\"Status\" gorm:\"column:status\"`\n\tIndustryName    string      `json:\"IndustryName\" gorm:\"column:industry_name\"`\n\tIndustryGrade   string      `json:\"IndustryGrade\" gorm:\"column:industry_grade\"`\n\tSystemArchitect string      `json:\"SystemArchitect\" gorm:\"column:system_architect\"`\n\tBusinessManager string      `json:\"BusinessManager\" gorm:\"column:business_manager\"`\n\tCorporate       int         `json:\"Corporate\" gorm:\"column:corporate\"`\n\tDistrictId      int         `json:\"DistrictId\" gorm:\"column:district_id\"`\n\tDistrictBelong  string      `json:\"DistrictBelong\" gorm:\"column:district_belong\"`\n\tInternal        int         `json:\"Internal\" gorm:\"column:internal\"`\n\tCreatedAt       string      `json:\"CreatedAt\" gorm:\"column:created_at\"`\n\tUpdatedAt       string      `json:\"UpdatedAt\" gorm:\"column:updated_at\"`\n\tBillingMode     BillingMode `json:\"BillingMode\" gorm:\"-\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 225,
        "code_end_line": 229,
        "code_key": "BillingMode",
        "code_value": "type BillingMode struct {\n\tDeviceMode int `json:\"DeviceMode\"`\n\tUpMode     int `json:\"UpMode\"`\n\tDownMode   int `json:\"DownMode\"`\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindUserInfoByName",
    "orm_code": "func (u *User) FindUserInfoByName() (QueryUserName, error) {\n\tvar user QueryUserName\n\tcomment := u.CommentFunc(SELECT_COMMENT)\n\tif strings.ToLower(u.Name) == base.DefaultFullDataIVC || strings.ToLower(u.Name) == base.DefaultFullDataALL {\n\t\treturn user, nil\n\t}\n\terr := base.GetInstance().BillingDriver().Clauses(comment).Table(UserInfoTable).Select(\"app_id,internal\").Where(\"name like ?\", \"%\"+u.Name+\"%\").First(&user).Error\n\tif err != nil {\n\t\treturn user, err\n\t}\n\t/*\n\t   if user.Internal > 0 {\n\t       return user, utils.InternalUserQueryError\n\t   }\n\t*/\n\treturn user, nil\n}",
    "caller": "",
    "sql_statement_list": [
      "SELECT app_id,internal FROM ivc_user_info WHERE name like ? LIMIT 1;"
    ],
    "sql_types": [
      "SELECT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 9,
        "code_end_line": 9,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 112,
        "code_end_line": 112,
        "code_key": "comment",
        "code_value": "u.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 44,
        "code_end_line": 50,
        "code_key": "User",
        "code_value": "type User struct {\n\tAppId int    `json:\"app_id\" gorm:\"column:app_id\"`\n\tUin   string `json:\"uin\" gorm:\"column:uin\"`\n\tName  string `json:\"name\" gorm:\"column:name\"`\n\n\t*Comment\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 19,
        "code_end_line": 19,
        "code_key": "UserInfoTable",
        "code_value": "const UserInfoTable        = \"ivc_user_info\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 111,
        "code_end_line": 111,
        "code_key": "user",
        "code_value": "QueryUserName",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 52,
        "code_end_line": 56,
        "code_key": "QueryUserName",
        "code_value": "type QueryUserName struct {\n\tAppId    int    `json:\"app_id\" gorm:\"column:app_id\"`\n\tUin      string `json:\"uin\" gorm:\"column:uin\"`\n\tInternal int    `json:\"internal\" gorm:\"column:internal\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindUsersByName",
    "orm_code": "func (u *User) FindUsersByName() ([]types.FuzzyUserInfo, error) {\n\tvar users []types.FuzzyUserInfo\n\tcomment := u.CommentFunc(SELECT_COMMENT)\n\terr := base.GetInstance().BillingDriver().Clauses(comment).Table(UserInfoTable).Select(\"app_id,uin,name\").Where(\"name like ?\", \"%\"+u.Name+\"%\").Find(&users).Error\n\tif err != nil {\n\t\treturn users, err\n\t}\n\treturn users, nil\n}",
    "caller": "",
    "sql_statement_list": [
      "SELECT app_id, uin, name FROM ivc_user_info WHERE name LIKE ?;"
    ],
    "sql_types": [
      "SELECT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 9,
        "code_end_line": 9,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 131,
        "code_end_line": 131,
        "code_key": "comment",
        "code_value": "u.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 44,
        "code_end_line": 50,
        "code_key": "User",
        "code_value": "type User struct {\n\tAppId int    `json:\"app_id\" gorm:\"column:app_id\"`\n\tUin   string `json:\"uin\" gorm:\"column:uin\"`\n\tName  string `json:\"name\" gorm:\"column:name\"`\n\n\t*Comment\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 19,
        "code_end_line": 19,
        "code_key": "UserInfoTable",
        "code_value": "const UserInfoTable        = \"ivc_user_info\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 130,
        "code_end_line": 130,
        "code_key": "users",
        "code_value": "[]types.FuzzyUserInfo",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 658,
        "code_end_line": 662,
        "code_key": "FuzzyUserInfo",
        "code_value": "type FuzzyUserInfo struct {\n\tUin   string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tName  string `json:\"Name\" gorm:\"column:name\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindYesterdayBillingModeAppId",
    "orm_code": "func (m *BillMode) FindYesterdayBillingModeAppId() (*types.BillingModeSource, error) {\n\tvar mode types.BillingModeSource\n\tcomment := m.CommentFunc(SELECT_COMMENT)\n\terr := base.GetInstance().BillingDriver().Clauses(comment).Table(BillingModeTable).Select(\"date,category,mode\").\n\t\tWhere(\"app_id = ? and category = ? and date < ?\", m.BillingModeSource.AppId, m.Category, m.CurrentDate).Order(\"date DESC\").First(&mode).Error\n\tif err != nil && err != db.ErrRecordNotFound {\n\t\treturn &mode, err\n\t}\n\n\treturn &mode, nil\n}",
    "caller": "",
    "sql_statement_list": [
      "SELECT date, category, mode FROM ivc_billing_mode WHERE app_id = ? AND category = ? AND date < ? ORDER BY date DESC LIMIT 1;"
    ],
    "sql_types": [
      "SELECT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 9,
        "code_end_line": 9,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 149,
        "code_end_line": 149,
        "code_key": "comment",
        "code_value": "m.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 139,
        "code_end_line": 145,
        "code_key": "BillMode",
        "code_value": "type BillMode struct {\n\ttypes.BillingModeSource\n\tCurrentDate string\n\tCategory    int\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 231,
        "code_end_line": 237,
        "code_key": "BillingModeSource",
        "code_value": "type BillingModeSource struct {\n\tAppId    int    `json:\"app_id\" gorm:\"column:app_id\"`\n\tUin      string `json:\"uin\" gorm:\"column:uin\"`\n\tDate     string `json:\"date\" gorm:\"column:date\"`\n\tMode     int    `json:\"mode\" gorm:\"column:mode\"`\n\tCategory int    `json:\"category\" gorm:\"column:category\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 22,
        "code_end_line": 22,
        "code_key": "BillingModeTable",
        "code_value": "const BillingModeTable     = \"ivc_billing_mode\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 148,
        "code_end_line": 148,
        "code_key": "mode",
        "code_value": "types.BillingModeSource",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "findIncomeIndustryIdList",
    "orm_code": "func (c *User) findIncomeIndustryIdList() ([]types.Industry, error) {\n\tvar industryInfo []types.Industry\n\tcomment := c.CommentFunc(SELECT_COMMENT)\n\terr := base.GetInstance().BillingDriver().Clauses(comment).Table(UserInfoTable).Select(\"income_industry_id,income_industry_name\").Where(\"status=? and income_industry_id <> ?\", 0, 0).\n\t\tGroup(\"income_industry_id,income_industry_name\").Find(&industryInfo).Error\n\tif err != nil {\n\t\treturn industryInfo, err\n\t}\n\treturn industryInfo, nil\n}",
    "caller": "",
    "sql_statement_list": [
      "SELECT income_industry_id, income_industry_name FROM ivc_user_info WHERE status = ? AND income_industry_id <> ? GROUP BY income_industry_id, income_industry_name;"
    ],
    "sql_types": [
      "SELECT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 9,
        "code_end_line": 9,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 204,
        "code_end_line": 204,
        "code_key": "comment",
        "code_value": "c.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 44,
        "code_end_line": 50,
        "code_key": "User",
        "code_value": "type User struct {\n\tAppId int    `json:\"app_id\" gorm:\"column:app_id\"`\n\tUin   string `json:\"uin\" gorm:\"column:uin\"`\n\tName  string `json:\"name\" gorm:\"column:name\"`\n\n\t*Comment\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 19,
        "code_end_line": 19,
        "code_key": "UserInfoTable",
        "code_value": "const UserInfoTable        = \"ivc_user_info\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 203,
        "code_end_line": 203,
        "code_key": "industryInfo",
        "code_value": "[]types.Industry",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 706,
        "code_end_line": 709,
        "code_key": "Industry",
        "code_value": "type Industry struct {\n\tIndustryId   int    `json:\"IndustryId\" gorm:\"column:income_industry_id\"`\n\tIndustryName string `json:\"IndustryName\" gorm:\"column:income_industry_name\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "findViewStorageResourcePackByAppId",
    "orm_code": "func (u *User) findViewStorageResourcePackByAppId() ([]types.PrepayResource, error) {\n\tresources := make([]types.PrepayResource, 0)\n\terr := base.GetInstance().BillingDriver().Raw(RawComment(u.Comment, \"SELECT resource_id,amount_detail,start_date,end_date,ctime,regions,field, \"+\n\t\t\"CASE WHEN end_date < CURDATE() THEN 'expired' ELSE 'valid' END as date_category \"+\n\t\t\"FROM iss_prepay_resource where app_id=? and field='view_storage';\"), u.AppId).Scan(&resources).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn resources, utils.RecordNotFoundError\n\t\t}\n\t\treturn resources, err\n\t}\n\n\treturn resources, nil\n}",
    "caller": "",
    "sql_statement_list": [
      "SELECT resource_id,amount_detail,start_date,end_date,ctime,regions,field, CASE WHEN end_date < CURDATE() THEN 'expired' ELSE 'valid' END as date_category FROM iss_prepay_resource WHERE app_id=? AND field='view_storage';"
    ],
    "sql_types": [
      "SELECT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 9,
        "code_end_line": 9,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 111,
        "code_end_line": 116,
        "code_key": "RawComment",
        "code_value": "func RawComment(comment *Comment, Sql string) string {\n\tif comment == nil {\n\t\treturn fmt.Sprintf(\"/* %v */ %v \", *DefaultComment, Sql)\n\t}\n\treturn fmt.Sprintf(\"/* %v */ %v \", *comment, Sql)\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 215,
        "code_end_line": 215,
        "code_key": "resources",
        "code_value": "make([]types.PrepayResource, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 911,
        "code_end_line": 922,
        "code_key": "PrepayResource",
        "code_value": "type PrepayResource struct {\n\tDateCategory    string `json:\"Region\" gorm:\"column:date_category\"`\n\tResourceId      string `json:\"ResourceId\" gorm:\"column:resource_id\"`\n\tRegions         string `json:\"Regions\" gorm:\"column:regions\"`\n\tCreateTime      string `json:\"CreateTime\" gorm:\"column:ctime\"`\n\tStartDate       string `json:\"StartDate\" gorm:\"column:start_date\"`\n\tEndDate         string `json:\"EndDate\" gorm:\"column:end_date\"`\n\tField           string `json:\"Field\" gorm:\"column:field\"`\n\tPrice           string `json:\"Price\" gorm:\"-\"`\n\tAmountDetail    string `json:\"AmountDetail\" gorm:\"column:amount_detail\"`\n\tRemainingDetail string `json:\"RemainingDetail\" gorm:\"column:remaining_detail\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "findOneTimeResourcePackByAppId",
    "orm_code": "func (u *User) findOneTimeResourcePackByAppId() ([]types.PrepayResource, error) {\n\tresources := make([]types.PrepayResource, 0)\n\t/*\n\t\tSELECT A.app_id,A.resource_id, A.amount_detail, A.Start_date, A.end_date,A.ctime,A.regions, A.field, B.remaining_detail,B.date,B.ctime,B.utime,\n\t\tCASE WHEN A.end_date < CURDATE() THEN 'expired' ELSE 'valid' END as date_category\n\t\tFROM iss_prepay_resource AS A\n\t\tLEFT JOIN (\n\t\t  SELECT resource_id, MAX(date) AS max_date\n\t\t  FROM iss_prepay_resource_userecord\n\t\t  GROUP BY resource_id\n\t\t) AS B_max_date ON A.resource_id = B_max_date.resource_id\n\t\tLEFT JOIN iss_prepay_resource_userecord AS B ON B.resource_id = B_max_date.resource_id AND B.date = B_max_date.max_date\n\t\tWHERE A.field != 'view_storage' and A.field != 'access' and A.app_id=1258344699;\n\t*/\n\terr := base.GetInstance().BillingDriver().Raw(RawComment(u.Comment, \"SELECT A.resource_id, A.start_date, A.end_date, A.ctime, A.regions, A.field, A.amount_detail, B.remaining_detail, \"+\n\t\t\"CASE WHEN end_date < CURDATE() THEN 'expired' ELSE 'valid' END as date_category \"+\n\t\t\"FROM iss_prepay_resource AS A LEFT JOIN (SELECT resource_id, MAX(date) AS max_date FROM iss_prepay_resource_userecord GROUP BY resource_id) AS B_max_date ON A.resource_id = B_max_date.resource_id \"+\n\t\t\"LEFT JOIN iss_prepay_resource_userecord AS B ON B.resource_id = B_max_date.resource_id AND B.date = B_max_date.max_date \"+\n\t\t\"where app_id=? and A.field != 'view_storage' and A.field != 'access';\"), u.AppId).Scan(&resources).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn resources, utils.RecordNotFoundError\n\t\t}\n\t\treturn resources, err\n\t}\n\n\treturn resources, nil\n}",
    "caller": "",
    "sql_statement_list": [
      "SELECT A.resource_id, A.start_date, A.end_date, A.ctime, A.regions, A.field, A.amount_detail, B.remaining_detail, CASE WHEN end_date < CURDATE() THEN 'expired' ELSE 'valid' END as date_category FROM iss_prepay_resource AS A LEFT JOIN (SELECT resource_id, MAX(date) AS max_date FROM iss_prepay_resource_userecord GROUP BY resource_id) AS B_max_date ON A.resource_id = B_max_date.resource_id LEFT JOIN iss_prepay_resource_userecord AS B ON B.resource_id = B_max_date.resource_id AND B.date = B_max_date.max_date WHERE app_id=? AND A.field != 'view_storage' AND A.field != 'access';"
    ],
    "sql_types": [
      "SELECT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 9,
        "code_end_line": 9,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 111,
        "code_end_line": 116,
        "code_key": "RawComment",
        "code_value": "func RawComment(comment *Comment, Sql string) string {\n\tif comment == nil {\n\t\treturn fmt.Sprintf(\"/* %v */ %v \", *DefaultComment, Sql)\n\t}\n\treturn fmt.Sprintf(\"/* %v */ %v \", *comment, Sql)\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 231,
        "code_end_line": 231,
        "code_key": "resources",
        "code_value": "make([]types.PrepayResource, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 911,
        "code_end_line": 922,
        "code_key": "PrepayResource",
        "code_value": "type PrepayResource struct {\n\tDateCategory    string `json:\"Region\" gorm:\"column:date_category\"`\n\tResourceId      string `json:\"ResourceId\" gorm:\"column:resource_id\"`\n\tRegions         string `json:\"Regions\" gorm:\"column:regions\"`\n\tCreateTime      string `json:\"CreateTime\" gorm:\"column:ctime\"`\n\tStartDate       string `json:\"StartDate\" gorm:\"column:start_date\"`\n\tEndDate         string `json:\"EndDate\" gorm:\"column:end_date\"`\n\tField           string `json:\"Field\" gorm:\"column:field\"`\n\tPrice           string `json:\"Price\" gorm:\"-\"`\n\tAmountDetail    string `json:\"AmountDetail\" gorm:\"column:amount_detail\"`\n\tRemainingDetail string `json:\"RemainingDetail\" gorm:\"column:remaining_detail\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "findUserPermissionByName",
    "orm_code": "func (u *User) findUserPermissionByName() ([]QueryUserPermission, error) {\n\tresp := make([]QueryUserPermission, 0)\n\t/*\n\t   SELECT u.name AS user_name, r.name AS role_name, r.permission\n\t   FROM ivc_ops_user AS u JOIN ivc_ops_role AS r ON u.role_id = r.id\n\t   WHERE u.delete_at is NULL AND u.name = 'xsv';\n\t*/\n\tsql := \"SELECT u.name AS user_name, r.name AS role_name, r.permission FROM ivc_ops_user AS u \" +\n\t\t\"JOIN ivc_ops_role AS r ON u.role_id = r.id WHERE u.delete_at is NULL AND u.name = ?\"\n\terr := base.GetInstance().IvcDriver().Raw(RawComment(u.Comment, sql), u.Name).Scan(&resp).Error\n\tif err != nil {\n\t\treturn resp, err\n\t}\n\treturn resp, nil\n}",
    "caller": "",
    "sql_statement_list": [
      "SELECT u.name AS user_name, r.name AS role_name, r.permission FROM ivc_ops_user AS u JOIN ivc_ops_role AS r ON u.role_id = r.id WHERE u.delete_at is NULL AND u.name = ?;"
    ],
    "sql_types": [
      "SELECT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 9,
        "code_end_line": 9,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 111,
        "code_end_line": 116,
        "code_key": "RawComment",
        "code_value": "func RawComment(comment *Comment, Sql string) string {\n\tif comment == nil {\n\t\treturn fmt.Sprintf(\"/* %v */ %v \", *DefaultComment, Sql)\n\t}\n\treturn fmt.Sprintf(\"/* %v */ %v \", *comment, Sql)\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 434,
        "code_end_line": 434,
        "code_key": "sql",
        "code_value": "\"SELECT u.name AS user_name, r.name AS role_name, r.permission FROM ivc_ops_user AS u \" +\n\t\t\"JOIN ivc_ops_role AS r ON u.role_id = r.id WHERE u.delete_at is NULL AND u.name = ?\"",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 428,
        "code_end_line": 428,
        "code_key": "resp",
        "code_value": "make([]QueryUserPermission, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 380,
        "code_end_line": 384,
        "code_key": "QueryUserPermission",
        "code_value": "type QueryUserPermission struct {\n\tUserName   string `json:\"user_name\" gorm:\"column:user_name\"`\n\tRoleName   string `json:\"role_name\" gorm:\"column:role_name\"`\n\tPermission int    `json:\"permission\" gorm:\"column:permission\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindOwnerUinByAppid",
    "orm_code": "func (u *User) FindOwnerUinByAppid(log *logger.IvcLog) (string, error) {\n\tcomment := u.CommentFunc(SELECT_COMMENT)\n\terr := base.GetInstance().BillingDriver().Clauses(comment).Table(UserInfoTable).First(u, \"app_id = ?\", u.AppId).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn \"\", utils.RecordNotFoundError\n\t\t}\n\t\tlog.ErrorV(fmt.Sprintf(\"[FindOwnerUinByAppid] Find err:%v\", err))\n\t\treturn \"\", err\n\t}\n\treturn u.Uin, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "LACK_INFORMATION",
        "variants": [
          {
            "scenario": "原始分析没有提供完整的User结构体字段信息，只提到了3个字段(uin, name, app_id)，但根据User结构体的定义应该包含更多字段",
            "sql": "SELECT uin, name, app_id FROM ivc_user_info WHERE app_id = ? LIMIT 1;"
          }
        ]
      }
    ],
    "sql_types": [
      "LACK_INFORMATION"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 9,
        "code_end_line": 9,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 467,
        "code_end_line": 467,
        "code_key": "comment",
        "code_value": "u.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 44,
        "code_end_line": 50,
        "code_key": "User",
        "code_value": "type User struct {\n\tAppId int    `json:\"app_id\" gorm:\"column:app_id\"`\n\tUin   string `json:\"uin\" gorm:\"column:uin\"`\n\tName  string `json:\"name\" gorm:\"column:name\"`\n\n\t*Comment\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 19,
        "code_end_line": 19,
        "code_key": "UserInfoTable",
        "code_value": "const UserInfoTable        = \"ivc_user_info\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "IsExist",
    "orm_code": "func (r *UpdatePlsRequest) IsExist() (bool, error) {\n\tvar count int64\n\tcomment := r.CommentFunc(SELECT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcPlayerLicenseTable).Where(\"id=? and delete_time is null\", r.Id).Count(&count).Error\n\tif err != nil {\n\t\treturn false, err\n\t}\n\treturn count == 1, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "检查指定ID的玩家许可证记录是否存在且未被删除",
            "sql": "SELECT COUNT(*) FROM ivc_player_license WHERE id = ? AND delete_time IS NULL;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/playerlicense.go",
        "code_start_line": 13,
        "code_end_line": 13,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/playerlicense.go",
        "code_start_line": 188,
        "code_end_line": 188,
        "code_key": "comment",
        "code_value": "r.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/playerlicense.go",
        "code_start_line": 152,
        "code_end_line": 159,
        "code_key": "UpdatePlsRequest",
        "code_value": "type UpdatePlsRequest struct {\n\tGeneralPlsRequest\n\tId                        string `json:\"id\"`\n\tDomainWhitelist           string `json:\"DomainWhitelist\"`\n\tDisableDomainRestrictions int    `json:\"DisableDomainRestrictions\"`\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/playerlicense.go",
        "code_start_line": 36,
        "code_end_line": 41,
        "code_key": "GeneralPlsRequest",
        "code_value": "type GeneralPlsRequest struct {\n\tRequestId string `json:\"request_id\"`\n\tAppId     int    `json:\"app_id\"`\n\tSubUin    string `json:\"sub_uin\"`\n\tOwnerUin  string `json:\"owner_uin\"`\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/playerlicense.go",
        "code_start_line": 22,
        "code_end_line": 22,
        "code_key": "IvcPlayerLicenseTable",
        "code_value": "const IvcPlayerLicenseTable = \"ivc_player_license\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/playerlicense.go",
        "code_start_line": 187,
        "code_end_line": 187,
        "code_key": "count",
        "code_value": "int64",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindLicenses",
    "orm_code": "func (l *License) FindLicenses(filterSource map[string]interface{}, page, size int) ([]types.PlayerLicenseSource, error) {\n\tvar ls []types.PlayerLicenseSource\n\tcomment := l.CommentFunc(SELECT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcPlayerLicenseTable).Scopes(PaginateDB(page, size)).Where(\"delete_time is null\").\n\t\tWhere(filterSource).Find(&ls).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn ls, utils.RecordNotFoundError\n\t\t}\n\t\treturn nil, err\n\t}\n\treturn ls, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "空的filterSource",
            "sql": "SELECT id, appid, license_key, type, features, technologies, valid_days, disable_domain_restrictions, domain_whitelist, effective_time FROM ivc_player_license WHERE delete_time is null OFFSET ? LIMIT ?;"
          },
          {
            "scenario": "单个过滤条件",
            "sql": "SELECT id, appid, license_key, type, features, technologies, valid_days, disable_domain_restrictions, domain_whitelist, effective_time FROM ivc_player_license WHERE delete_time is null AND appid = ? OFFSET ? LIMIT ?;"
          },
          {
            "scenario": "多个过滤条件",
            "sql": "SELECT id, appid, license_key, type, features, technologies, valid_days, disable_domain_restrictions, domain_whitelist, effective_time FROM ivc_player_license WHERE delete_time is null AND appid = ? AND type = ? OFFSET ? LIMIT ?;"
          },
          {
            "scenario": "复杂过滤条件",
            "sql": "SELECT id, appid, license_key, type, features, technologies, valid_days, disable_domain_restrictions, domain_whitelist, effective_time FROM ivc_player_license WHERE delete_time is null AND appid = ? AND type = ? AND valid_days = ? OFFSET ? LIMIT ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/playerlicense.go",
        "code_start_line": 13,
        "code_end_line": 13,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/playerlicense.go",
        "code_start_line": 211,
        "code_end_line": 211,
        "code_key": "comment",
        "code_value": "l.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/playerlicense.go",
        "code_start_line": 205,
        "code_end_line": 207,
        "code_key": "License",
        "code_value": "type License struct {\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/playerlicense.go",
        "code_start_line": 22,
        "code_end_line": 22,
        "code_key": "IvcPlayerLicenseTable",
        "code_value": "const IvcPlayerLicenseTable = \"ivc_player_license\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 261,
        "code_end_line": 266,
        "code_key": "PaginateDB",
        "code_value": "func PaginateDB(page, size int) func(db *gorm.DB) *gorm.DB {\n\treturn func(db *gorm.DB) *gorm.DB {\n\t\toffset := (page - 1) * size\n\t\treturn db.Offset(offset).Limit(size)\n\t}\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/playerlicense.go",
        "code_start_line": 210,
        "code_end_line": 210,
        "code_key": "ls",
        "code_value": "[]types.PlayerLicenseSource",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 878,
        "code_end_line": 889,
        "code_key": "PlayerLicenseSource",
        "code_value": "type PlayerLicenseSource struct {\n\tId                        string `json:\"Id\" gorm:\"column:id\"`\n\tAppId                     int    `json:\"AppId\" gorm:\"column:appid\"`\n\tLicenseKey                string `json:\"LicenseKey\" gorm:\"column:license_key\"`\n\tType                      string `json:\"Type\" gorm:\"column:type\"`\n\tFeatures                  int    `json:\"Features\" gorm:\"features\"`\n\tTechnologies              int    `json:\"Technologies\" gorm:\"technologies\"`\n\tValidDays                 int    `json:\"ValidDays\" gorm:\"column:valid_days\"`\n\tDisableDomainRestrictions int    `json:\"DisableDomainRestrictions\" gorm:\"column:disable_domain_restrictions\"`\n\tDomainWhitelist           string `json:\"DomainWhitelist\" gorm:\"column:domain_whitelist\"`\n\tEffectiveTime             int    `json:\"EffectiveTime\" gorm:\"column:effective_time\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindKeys",
    "orm_code": "func (l *License) FindKeys(Ids []string) ([]string, error) {\n\tvar keys []string\n\tcomment := l.CommentFunc(SELECT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcPlayerLicenseTable).Where(\"id in (?) and effective_time is null and delete_time is null\", Ids).Pluck(\"license_key\", &keys).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn keys, utils.RecordNotFoundError\n\t\t}\n\t\treturn nil, err\n\t}\n\treturn keys, nil\n}",
    "caller": "",
    "sql_statement_list": [
      "SELECT license_key FROM ivc_player_license WHERE id IN (?) AND effective_time IS NULL AND delete_time IS NULL;"
    ],
    "sql_types": [
      "SELECT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/playerlicense.go",
        "code_start_line": 13,
        "code_end_line": 13,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/playerlicense.go",
        "code_start_line": 225,
        "code_end_line": 225,
        "code_key": "comment",
        "code_value": "l.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/playerlicense.go",
        "code_start_line": 205,
        "code_end_line": 207,
        "code_key": "License",
        "code_value": "type License struct {\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/playerlicense.go",
        "code_start_line": 22,
        "code_end_line": 22,
        "code_key": "IvcPlayerLicenseTable",
        "code_value": "const IvcPlayerLicenseTable = \"ivc_player_license\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/playerlicense.go",
        "code_start_line": 224,
        "code_end_line": 224,
        "code_key": "keys",
        "code_value": "[]string",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "CountLicenses",
    "orm_code": "func (l *License) CountLicenses(filterSource map[string]interface{}) (int, error) {\n\tvar count int64\n\tcomment := l.CommentFunc(\"CountLicenses\")\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcPlayerLicenseTable).Where(filterSource).Where(\"delete_time is null\").Count(&count).Error\n\treturn int(count), err\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "无动态过滤条件",
            "sql": "SELECT count(*) FROM ivc_player_license WHERE delete_time is null;"
          },
          {
            "scenario": "有动态过滤条件",
            "sql": "SELECT count(*) FROM ivc_player_license WHERE status = ? AND user_id = ? AND delete_time is null;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/playerlicense.go",
        "code_start_line": 13,
        "code_end_line": 13,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/playerlicense.go",
        "code_start_line": 293,
        "code_end_line": 293,
        "code_key": "comment",
        "code_value": "l.CommentFunc(\"CountLicenses\")",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/playerlicense.go",
        "code_start_line": 205,
        "code_end_line": 207,
        "code_key": "License",
        "code_value": "type License struct {\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/playerlicense.go",
        "code_start_line": 22,
        "code_end_line": 22,
        "code_key": "IvcPlayerLicenseTable",
        "code_value": "const IvcPlayerLicenseTable = \"ivc_player_license\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/playerlicense.go",
        "code_start_line": 292,
        "code_end_line": 292,
        "code_key": "count",
        "code_value": "int64",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "findSrvInterfaceList",
    "orm_code": "func (r *RateLimit) findSrvInterfaceList() ([]types.ServiceInterfaceSource, error) {\n\tvar srvInters []types.ServiceInterfaceSource\n\tcomment := r.CommentFunc(SELECT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(ServiceInterfaceConfTable).Find(&srvInters).Error\n\tif err != nil {\n\t\treturn srvInters, err\n\t}\n\treturn srvInters, nil\n}",
    "caller": "",
    "sql_statement_list": [
      "/* SELECT */ SELECT service, interface FROM ivc_service_interface;"
    ],
    "sql_types": [
      "OTHER"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/ratelimit.go",
        "code_start_line": 14,
        "code_end_line": 14,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/ratelimit.go",
        "code_start_line": 93,
        "code_end_line": 93,
        "code_key": "comment",
        "code_value": "r.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 1064,
        "code_end_line": 1073,
        "code_key": "RateLimit",
        "code_value": "type RateLimit struct {\n\tID              int    `json:\"Id\"`\n\tAction          string `json:\"Action\"`\n\tAppId           string `json:\"AppId\"`\n\tServiceObject   string `json:\"ServiceObject\"`\n\tSpeedLimitModel string `json:\"SpeedLimitModel\"`\n\tRegionZone      string `json:\"Region\"`\n\tCreatedAt       string `json:\"CreateAt\"`\n\tUpdatedAt       string `json:\"UpdateAt\"`\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/ratelimit.go",
        "code_start_line": 45,
        "code_end_line": 47,
        "code_key": "RateLimit",
        "code_value": "type RateLimit struct {\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/ratelimit.go",
        "code_start_line": 24,
        "code_end_line": 24,
        "code_key": "ServiceInterfaceConfTable",
        "code_value": "const ServiceInterfaceConfTable = \"ivc_service_interface\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/ratelimit.go",
        "code_start_line": 92,
        "code_end_line": 92,
        "code_key": "srvInters",
        "code_value": "[]types.ServiceInterfaceSource",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 1142,
        "code_end_line": 1145,
        "code_key": "ServiceInterfaceSource",
        "code_value": "type ServiceInterfaceSource struct {\n\tServiceObject   string `json:\"Service\" gorm:\"column:service\"`\n\tInterfaceObject string `json:\"Interface\" gorm:\"column:interface\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindRateLimitConfList",
    "orm_code": "func (r *RateLimit) FindRateLimitConfList(filter map[string]interface{}) ([]types.RateLimitSource, error) {\n\trls := make([]types.RateLimitSource, 0)\n\tfilter[\"deleted\"] = 0\n\tcomment := r.CommentFunc(SELECT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(FcsFcpTable).Where(filter).Find(&rls).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn rls, utils.RecordNotFoundError\n\t\t}\n\t\treturn rls, err\n\t}\n\treturn rls, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "根据filter参数动态生成WHERE条件，固定包含deleted=0",
            "sql": "SELECT id, action, appid, service_object, speed_limit_model, region_zone, c_time, u_time FROM ivc_fcs_fcp WHERE deleted = ? AND action = ? AND appid = ? AND service_object = ? AND region_zone = ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/ratelimit.go",
        "code_start_line": 14,
        "code_end_line": 14,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/ratelimit.go",
        "code_start_line": 105,
        "code_end_line": 105,
        "code_key": "comment",
        "code_value": "r.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 1064,
        "code_end_line": 1073,
        "code_key": "RateLimit",
        "code_value": "type RateLimit struct {\n\tID              int    `json:\"Id\"`\n\tAction          string `json:\"Action\"`\n\tAppId           string `json:\"AppId\"`\n\tServiceObject   string `json:\"ServiceObject\"`\n\tSpeedLimitModel string `json:\"SpeedLimitModel\"`\n\tRegionZone      string `json:\"Region\"`\n\tCreatedAt       string `json:\"CreateAt\"`\n\tUpdatedAt       string `json:\"UpdateAt\"`\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/ratelimit.go",
        "code_start_line": 45,
        "code_end_line": 47,
        "code_key": "RateLimit",
        "code_value": "type RateLimit struct {\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/ratelimit.go",
        "code_start_line": 26,
        "code_end_line": 26,
        "code_key": "FcsFcpTable",
        "code_value": "const FcsFcpTable               = \"ivc_fcs_fcp\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/ratelimit.go",
        "code_start_line": 103,
        "code_end_line": 103,
        "code_key": "rls",
        "code_value": "make([]types.RateLimitSource, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 1075,
        "code_end_line": 1084,
        "code_key": "RateLimitSource",
        "code_value": "type RateLimitSource struct {\n\tId              int    `json:\"Id\" gorm:\"column:id\"`\n\tAction          string `json:\"Action\" gorm:\"column:action\"`\n\tAppId           string `json:\"AppId\" gorm:\"column:appid\"`\n\tServiceObject   string `json:\"ServiceObject\" gorm:\"column:service_object\"`\n\tSpeedLimitModel string `json:\"SpeedLimitModel\" gorm:\"column:speed_limit_model\"`\n\tRegionZone      string `json:\"RegionZone\" gorm:\"column:region_zone\"`\n\tCreatedAt       string `json:\"CreateAt\" gorm:\"column:c_time\"`\n\tUpdatedAt       string `json:\"UpdateAt\" gorm:\"column:u_time\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindFlowControlConfList",
    "orm_code": "func (f *FlowControl) FindFlowControlConfList(filter map[string]interface{}) ([]types.FlowControl, error) {\n\tfcs := make([]types.FlowControl, 0)\n\tcomment := f.CommentFunc(SELECT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(VdsTable).Where(filter).Find(&fcs).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn fcs, utils.RecordNotFoundError\n\t\t}\n\t\treturn fcs, err\n\t}\n\treturn fcs, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "空filter条件",
            "sql": "/* SELECT */ SELECT * FROM ivc_down_bandwidth_conf;"
          },
          {
            "scenario": "非空filter条件(示例:单个条件)",
            "sql": "/* SELECT */ SELECT * FROM ivc_down_bandwidth_conf WHERE id = ?;"
          },
          {
            "scenario": "非空filter条件(示例:多个条件)",
            "sql": "/* SELECT */ SELECT * FROM ivc_down_bandwidth_conf WHERE id = ? AND cluster_id = ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/ratelimit.go",
        "code_start_line": 14,
        "code_end_line": 14,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/ratelimit.go",
        "code_start_line": 290,
        "code_end_line": 290,
        "code_key": "comment",
        "code_value": "f.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 647,
        "code_end_line": 656,
        "code_key": "FlowControl",
        "code_value": "type FlowControl struct {\n\tID                        int    `json:\"Id\" gorm:\"column:id\"`\n\tClusterId                 string `json:\"ClusterId\" gorm:\"column:cluster_id\"`\n\tClusterName               string `json:\"ClusterName\"`\n\tAppId                     string `json:\"AppId\" gorm:\"column:appid\"`\n\tDownBandwidthLimit        int    `json:\"DownBandwidthLimit\" gorm:\"column:down_bandwidth_limit\"`\n\tDownloadBandwidthLimit    int    `json:\"DownloadBandwidthLimit\" gorm:\"column:download_bandwidth_limit\"`\n\tDownloadConnectCountLimit int    `json:\"DownloadConnectCountLimit\" gorm:\"column:download_connect_count_limit\"`\n\tDownloadSpeedLimit        int    `json:\"DownloadSpeedLimit\" gorm:\"column:download_speed_limit\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/ratelimit.go",
        "code_start_line": 283,
        "code_end_line": 285,
        "code_key": "FlowControl",
        "code_value": "type FlowControl struct {\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/ratelimit.go",
        "code_start_line": 27,
        "code_end_line": 27,
        "code_key": "VdsTable",
        "code_value": "const VdsTable                  = \"ivc_down_bandwidth_conf\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/ratelimit.go",
        "code_start_line": 289,
        "code_end_line": 289,
        "code_key": "fcs",
        "code_value": "make([]types.FlowControl, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindQuotasByAppId",
    "orm_code": "func (q *Quota) FindQuotasByAppId(start, end string) ([]types.PostpayBill, error) {\n\tqs := make([]types.PostpayBill, 0)\n\t// issBills := make([]IssPayBill, 0)\n\t// select date,field,sum(amount) as amounts from iss_postpay_bill where app_id = %v and date >= '%v' and date <= '%v' group by date,field;\n\tvar err error\n\tcomment := q.CommentFunc(SELECT_COMMENT)\n\tif q.PostpayBill.AppId == 0 {\n\t\terr = base.GetInstance().BillingDriver().Clauses(comment).Table(IssPayBillTable).Select(\"date,field,sum(amount) as amounts\").\n\t\t\tWhere(\"date >= ? AND date <= ?\", start, end).Where(\"cycle = 'Day'\").Group(\"date,field\").Scan(&qs).Error\n\t} else {\n\t\terr = base.GetInstance().BillingDriver().Clauses(comment).Table(IssPayBillTable).Select(\"date,field,sum(amount) as amounts\").\n\t\t\tWhere(\"app_id = ?\", q.PostpayBill.AppId).Where(\"cycle = 'Day'\").Where(\"date >= ? AND date <= ?\", start, end).Group(\"date,field\").Scan(&qs).Error\n\t}\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn nil, utils.RecordNotFoundError\n\t\t}\n\t\treturn nil, err\n\t}\n\t// TODO 转化time.Time？\n\n\treturn qs, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "AppId为0时，查询所有应用的数据",
            "sql": "SELECT date,field,sum(amount) as amounts FROM iss_postpay_bill WHERE date >= ? AND date <= ? AND cycle = 'Day' GROUP BY date,field;"
          },
          {
            "scenario": "AppId不为0时，查询指定应用的数据",
            "sql": "SELECT date,field,sum(amount) as amounts FROM iss_postpay_bill WHERE app_id = ? AND cycle = 'Day' AND date >= ? AND date <= ? GROUP BY date,field;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/quota.go",
        "code_start_line": 7,
        "code_end_line": 7,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/quota.go",
        "code_start_line": 69,
        "code_end_line": 69,
        "code_key": "comment",
        "code_value": "q.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/quota.go",
        "code_start_line": 58,
        "code_end_line": 62,
        "code_key": "Quota",
        "code_value": "type Quota struct {\n\ttypes.PostpayBill\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 904,
        "code_end_line": 909,
        "code_key": "PostpayBill",
        "code_value": "type PostpayBill struct {\n\tAppId   int     `json:\"app_id\" gorm:\"column:app_id\"`\n\tDate    string  `json:\"date\" gorm:\"type:date;column:date\"`\n\tField   string  `json:\"field\" gorm:\"column:field\"`\n\tAmounts float64 `json:\"amounts\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 42,
        "code_end_line": 47,
        "code_key": "PostpayBill",
        "code_value": "type PostpayBill struct {\n\tAppId   int     `json:\"app_id\" gorm:\"column:app_id\"`\n\tDate    string  `json:\"date\" gorm:\"type:date;column:date\"`\n\tField   string  `json:\"field\" gorm:\"column:field\"`\n\tAmounts float64 `json:\"amounts\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/quota.go",
        "code_start_line": 14,
        "code_end_line": 14,
        "code_key": "IssPayBillTable",
        "code_value": "const IssPayBillTable          = \"iss_postpay_bill\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/quota.go",
        "code_start_line": 65,
        "code_end_line": 65,
        "code_key": "qs",
        "code_value": "make([]types.PostpayBill, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 2,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindIntranetWhitelists",
    "orm_code": "func (intra *Intranet) FindIntranetWhitelists(filterSource map[string]interface{}, page, size int) ([]types.IntranetSource, error) {\n\tintras := make([]types.IntranetSource, 0)\n\tvar err error\n\tcomment := intra.CommentFunc(SELECT_COMMENT)\n\tif name, ok := filterSource[\"name\"]; ok {\n\t\tfilter := make(map[string]interface{})\n\t\tfor k, v := range filterSource {\n\t\t\tif k == \"name\" {\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tfilter[k] = v\n\t\t}\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(IvcIntranetWhitelistTable).Order(\"id\").Scopes(PaginateDB(page, size)).\n\t\t\tWhere(filter).Where(\"name like ?\", \"%\"+name.(string)+\"%\").Find(&intras).Error\n\t} else {\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(IvcIntranetWhitelistTable).Order(\"id\").Scopes(PaginateDB(page, size)).\n\t\t\tWhere(filterSource).Find(&intras).Error\n\t}\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn intras, utils.RecordNotFoundError\n\t\t}\n\t\treturn intras, err\n\t}\n\treturn intras, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "LACK_INFORMATION",
        "variants": [
          {
            "scenario": "缺少types.IntranetSource结构体的完整字段定义和gorm标签映射信息，基于代码逻辑推测SQL结构",
            "sql": "SELECT id, name, uin, app_id, cluster_id, intranet_addr, describe, create_at, update_at FROM ivc_intranet_whitelist WHERE uin = ? AND app_id = ? AND name LIKE ? ORDER BY id LIMIT 10 OFFSET 0;"
          }
        ]
      },
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "filterSource包含name键时，name字段用于LIKE模糊查询，其他字段用于精确匹配",
            "sql": "SELECT id, name, uin, app_id, cluster_id, intranet_addr, describe, create_at, update_at FROM ivc_intranet_whitelist WHERE uin = ? AND app_id = ? AND name LIKE ? ORDER BY id LIMIT ? OFFSET ?;"
          },
          {
            "scenario": "filterSource不包含name键时，所有字段都用于精确匹配",
            "sql": "SELECT id, name, uin, app_id, cluster_id, intranet_addr, describe, create_at, update_at FROM ivc_intranet_whitelist WHERE uin = ? AND app_id = ? AND cluster_id = ? ORDER BY id LIMIT ? OFFSET ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "LACK_INFORMATION",
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 24,
        "code_end_line": 24,
        "code_key": "comment",
        "code_value": "intra.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 14,
        "code_end_line": 18,
        "code_key": "Intranet",
        "code_value": "type Intranet struct {\n\ttypes.IntranetSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 730,
        "code_end_line": 740,
        "code_key": "IntranetSource",
        "code_value": "type IntranetSource struct {\n\tId           int    `json:\"Id\" gorm:\"column:id\"`\n\tName         string `json:\"Name\" gorm:\"column:name\"`\n\tUin          string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId        int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tClusterId    string `json:\"ClusterId\" gorm:\"column:cluster_id\"`\n\tIntranetAddr string `json:\"IntranetAddr\" gorm:\"column:intranet_addr\"`\n\tDescribe     string `json:\"Describe\" gorm:\"column:describe\"`\n\tCreatedAt    int    `json:\"CreateAt\" gorm:\"column:create_at;default:NULL\"`\n\tUpdatedAt    int    `json:\"UpdateAt\" gorm:\"column:update_at;default:NULL\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 11,
        "code_end_line": 11,
        "code_key": "IvcIntranetWhitelistTable",
        "code_value": "const IvcIntranetWhitelistTable = \"ivc_intranet_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 261,
        "code_end_line": 266,
        "code_key": "PaginateDB",
        "code_value": "func PaginateDB(page, size int) func(db *gorm.DB) *gorm.DB {\n\treturn func(db *gorm.DB) *gorm.DB {\n\t\toffset := (page - 1) * size\n\t\treturn db.Offset(offset).Limit(size)\n\t}\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 26,
        "code_end_line": 26,
        "code_key": "filter",
        "code_value": "make(map[string]interface{})",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 22,
        "code_end_line": 22,
        "code_key": "intras",
        "code_value": "make([]types.IntranetSource, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 2,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindIntranetWhitelistCount",
    "orm_code": "func (intra *Intranet) FindIntranetWhitelistCount(filterSource map[string]interface{}) (int, error) {\n\tvar (\n\t\tnums int64\n\t\terr  error\n\t)\n\tcomment := intra.CommentFunc(SELECT_COMMENT)\n\tif name, ok := filterSource[\"name\"]; ok {\n\t\tfilter := make(map[string]interface{})\n\t\tfor k, v := range filterSource {\n\t\t\tif k == \"name\" {\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tfilter[k] = v\n\t\t}\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(IvcIntranetWhitelistTable).Where(filter).Where(\"name like ?\", \"%\"+name.(string)+\"%\").Count(&nums).Error\n\t} else {\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(IvcIntranetWhitelistTable).Where(filterSource).Count(&nums).Error\n\t}\n\treturn int(nums), err\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "filterSource包含name字段和其他字段",
            "sql": "SELECT count(*) FROM ivc_intranet_whitelist WHERE app_id = ? AND uin = ? AND name like ?;"
          },
          {
            "scenario": "filterSource只包含name字段",
            "sql": "SELECT count(*) FROM ivc_intranet_whitelist WHERE name like ?;"
          },
          {
            "scenario": "filterSource不包含name字段但包含其他字段",
            "sql": "SELECT count(*) FROM ivc_intranet_whitelist WHERE app_id = ? AND uin = ?;"
          },
          {
            "scenario": "filterSource为空map",
            "sql": "SELECT count(*) FROM ivc_intranet_whitelist;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 54,
        "code_end_line": 54,
        "code_key": "comment",
        "code_value": "intra.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 14,
        "code_end_line": 18,
        "code_key": "Intranet",
        "code_value": "type Intranet struct {\n\ttypes.IntranetSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 730,
        "code_end_line": 740,
        "code_key": "IntranetSource",
        "code_value": "type IntranetSource struct {\n\tId           int    `json:\"Id\" gorm:\"column:id\"`\n\tName         string `json:\"Name\" gorm:\"column:name\"`\n\tUin          string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId        int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tClusterId    string `json:\"ClusterId\" gorm:\"column:cluster_id\"`\n\tIntranetAddr string `json:\"IntranetAddr\" gorm:\"column:intranet_addr\"`\n\tDescribe     string `json:\"Describe\" gorm:\"column:describe\"`\n\tCreatedAt    int    `json:\"CreateAt\" gorm:\"column:create_at;default:NULL\"`\n\tUpdatedAt    int    `json:\"UpdateAt\" gorm:\"column:update_at;default:NULL\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 11,
        "code_end_line": 11,
        "code_key": "IvcIntranetWhitelistTable",
        "code_value": "const IvcIntranetWhitelistTable = \"ivc_intranet_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 56,
        "code_end_line": 56,
        "code_key": "filter",
        "code_value": "make(map[string]interface{})",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 51,
        "code_end_line": 51,
        "code_key": "nums",
        "code_value": "int64",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 2,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "InsertIntranetWhitelist",
    "orm_code": "func (intra *Intranet) InsertIntranetWhitelist() (int, error) {\n\tcomment := intra.CommentFunc(INSERT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcIntranetWhitelistTable).Create(&intra).Error\n\tif err != nil {\n\t\treturn intra.Id, err\n\t}\n\treturn intra.Id, nil\n}",
    "caller": "",
    "sql_statement_list": [
      "INSERT INTO ivc_intranet_whitelist (id, name, uin, app_id, cluster_id, intranet_addr, describe, create_at, update_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?);"
    ],
    "sql_types": [
      "INSERT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "comment",
        "code_value": "intra.CommentFunc(INSERT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 14,
        "code_end_line": 18,
        "code_key": "Intranet",
        "code_value": "type Intranet struct {\n\ttypes.IntranetSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 730,
        "code_end_line": 740,
        "code_key": "IntranetSource",
        "code_value": "type IntranetSource struct {\n\tId           int    `json:\"Id\" gorm:\"column:id\"`\n\tName         string `json:\"Name\" gorm:\"column:name\"`\n\tUin          string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId        int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tClusterId    string `json:\"ClusterId\" gorm:\"column:cluster_id\"`\n\tIntranetAddr string `json:\"IntranetAddr\" gorm:\"column:intranet_addr\"`\n\tDescribe     string `json:\"Describe\" gorm:\"column:describe\"`\n\tCreatedAt    int    `json:\"CreateAt\" gorm:\"column:create_at;default:NULL\"`\n\tUpdatedAt    int    `json:\"UpdateAt\" gorm:\"column:update_at;default:NULL\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 83,
        "code_end_line": 83,
        "code_key": "INSERT_COMMENT",
        "code_value": "const INSERT_COMMENT = \"INSERT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 11,
        "code_end_line": 11,
        "code_key": "IvcIntranetWhitelistTable",
        "code_value": "const IvcIntranetWhitelistTable = \"ivc_intranet_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "QueryIntranetWhitelistByAppIdAndClusterId",
    "orm_code": "func (intra *Intranet) QueryIntranetWhitelistByAppIdAndClusterId() (int, error) {\n\tvar num int64\n\tcomment := intra.CommentFunc(SELECT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcIntranetWhitelistTable).Where(map[string]interface{}{\"app_id\": intra.IntranetSource.AppId, \"cluster_id\": intra.ClusterId}).\n\t\tCount(&num).Error\n\treturn int(num), err\n}",
    "caller": "",
    "sql_statement_list": [
      "SELECT COUNT(*) FROM ivc_intranet_whitelist WHERE app_id = ? AND cluster_id = ?;"
    ],
    "sql_types": [
      "SELECT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 96,
        "code_end_line": 96,
        "code_key": "comment",
        "code_value": "intra.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 14,
        "code_end_line": 18,
        "code_key": "Intranet",
        "code_value": "type Intranet struct {\n\ttypes.IntranetSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 730,
        "code_end_line": 740,
        "code_key": "IntranetSource",
        "code_value": "type IntranetSource struct {\n\tId           int    `json:\"Id\" gorm:\"column:id\"`\n\tName         string `json:\"Name\" gorm:\"column:name\"`\n\tUin          string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId        int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tClusterId    string `json:\"ClusterId\" gorm:\"column:cluster_id\"`\n\tIntranetAddr string `json:\"IntranetAddr\" gorm:\"column:intranet_addr\"`\n\tDescribe     string `json:\"Describe\" gorm:\"column:describe\"`\n\tCreatedAt    int    `json:\"CreateAt\" gorm:\"column:create_at;default:NULL\"`\n\tUpdatedAt    int    `json:\"UpdateAt\" gorm:\"column:update_at;default:NULL\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 11,
        "code_end_line": 11,
        "code_key": "IvcIntranetWhitelistTable",
        "code_value": "const IvcIntranetWhitelistTable = \"ivc_intranet_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "num",
        "code_value": "int64",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "QueryIntranetWhitelistById",
    "orm_code": "func (intra *Intranet) QueryIntranetWhitelistById() (*types.IntranetSource, error) {\n\tvar intranet types.IntranetSource\n\tcomment := intra.CommentFunc(SELECT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcIntranetWhitelistTable).First(&intranet, \"id = ?\", intra.Id).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn &intranet, utils.RecordNotFoundError\n\t\t}\n\t\treturn &intranet, err\n\t}\n\treturn &intranet, nil\n}",
    "caller": "",
    "sql_statement_list": [
      "SELECT id, name, uin, app_id, cluster_id, intranet_addr, describe, create_at, update_at FROM ivc_intranet_whitelist WHERE id = ? LIMIT 1;"
    ],
    "sql_types": [
      "SELECT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 105,
        "code_end_line": 105,
        "code_key": "comment",
        "code_value": "intra.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 14,
        "code_end_line": 18,
        "code_key": "Intranet",
        "code_value": "type Intranet struct {\n\ttypes.IntranetSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 730,
        "code_end_line": 740,
        "code_key": "IntranetSource",
        "code_value": "type IntranetSource struct {\n\tId           int    `json:\"Id\" gorm:\"column:id\"`\n\tName         string `json:\"Name\" gorm:\"column:name\"`\n\tUin          string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId        int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tClusterId    string `json:\"ClusterId\" gorm:\"column:cluster_id\"`\n\tIntranetAddr string `json:\"IntranetAddr\" gorm:\"column:intranet_addr\"`\n\tDescribe     string `json:\"Describe\" gorm:\"column:describe\"`\n\tCreatedAt    int    `json:\"CreateAt\" gorm:\"column:create_at;default:NULL\"`\n\tUpdatedAt    int    `json:\"UpdateAt\" gorm:\"column:update_at;default:NULL\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 11,
        "code_end_line": 11,
        "code_key": "IvcIntranetWhitelistTable",
        "code_value": "const IvcIntranetWhitelistTable = \"ivc_intranet_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/intranet.go",
        "code_start_line": 104,
        "code_end_line": 104,
        "code_key": "intranet",
        "code_value": "types.IntranetSource",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindAppIdByUin",
    "orm_code": "func (d *IVCDevice) FindAppIdByUin() error {\n\tcomment := d.CommentFunc(SELECT_COMMENT)\n\treturn base.GetInstance().IvcDriver().Clauses(comment).Table(IvcDeviceTable).Where(\"owner_uin = ?\", d.OwnerUin).First(d).Error\n}",
    "caller": "",
    "sql_statement_list": [
      "SELECT * FROM ivc_device WHERE owner_uin = ? LIMIT 1;"
    ],
    "sql_types": [
      "SELECT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 12,
        "code_end_line": 12,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 79,
        "code_end_line": 79,
        "code_key": "comment",
        "code_value": "d.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 49,
        "code_end_line": 66,
        "code_key": "IVCDevice",
        "code_value": "type IVCDevice struct {\n\tID             string `json:\"id\"`\n\tAppId          int    `json:\"app_id\"`\n\tOwnerUin       string `json:\"owner_uin\"`\n\tSubUin         string `json:\"sub_uin\"`\n\tProtocolType   int    `json:\"protocol_type\"`\n\tName           string `json:\"name\"`\n\tCode           string `json:\"code\"`\n\tAccessProtocol int    `json:\"access_protocol\"`\n\tType           int    `json:\"type\"`\n\tRegion         string `json:\"region\"`\n\tClusterId      string `json:\"cluster_id\"`\n\tCreatedAt      int    `json:\"created_at\"`\n\tUpdateAt       int    `json:\"update_at\"`\n\tDeletedAt      int    `json:\"deleted_at\"`\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 74,
        "code_end_line": 76,
        "code_key": "TableName",
        "code_value": "func (IVCDevice) TableName() string {\n\treturn \"ivc_device\"\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 22,
        "code_end_line": 22,
        "code_key": "IvcDeviceTable",
        "code_value": "const IvcDeviceTable  = \"ivc_device\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindTotalDeviceByAppId",
    "orm_code": "func (d *Device) FindTotalDeviceByAppId() ([]types.DeviceAmount, error) {\n\t/*\n\t   \"select count(1) as total, count(IF(status=0,1,null)) as unregistered, count(IF(status=1,1,null)) as online, \" +\n\t          \"count(IF(status=2,1,null)) as offline, count(IF(status=3,1,null)) as disable from ivc_device \" +\n\t          \"where app_id = %v and deleted_at is null and access_protocol = %v;\"\n\t*/\n\tvar err error\n\tcomment := d.CommentFunc(SELECT_COMMENT)\n\ttypeDevs := make([]types.DeviceAmount, 0)\n\tif d.DeviceQuery.AppId == 0 {\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(IvcDeviceTable).Select(\"access_protocol, count(*) as total, sum(status=0) as unregistered, \" +\n\t\t\t\"sum(status=1) as online, sum(status=2) as offline, sum(status=3) as disable\").\n\t\t\tWhere(\"deleted_at is null\").Group(\"access_protocol\").Scan(&typeDevs).Error\n\t} else {\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(IvcDeviceTable).Select(\"access_protocol, count(*) as total, sum(status=0) as unregistered, \" +\n\t\t\t\"sum(status=1) as online, sum(status=2) as offline, sum(status=3) as disable\").\n\t\t\tWhere(\"deleted_at is null\").Where(map[string]interface{}{\"app_id\": d.DeviceQuery.AppId}).Group(\"access_protocol\").Scan(&typeDevs).Error\n\t}\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn nil, utils.RecordNotFoundError\n\t\t}\n\t\treturn typeDevs, err\n\t}\n\n\treturn typeDevs, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "AppId为0，查询所有应用的设备统计",
            "sql": "SELECT access_protocol, count(*) as total, sum(status=0) as unregistered, sum(status=1) as online, sum(status=2) as offline, sum(status=3) as disable FROM ivc_device WHERE deleted_at is null GROUP BY access_protocol;"
          },
          {
            "scenario": "AppId不为0，查询特定应用的设备统计",
            "sql": "SELECT access_protocol, count(*) as total, sum(status=0) as unregistered, sum(status=1) as online, sum(status=2) as offline, sum(status=3) as disable FROM ivc_device WHERE deleted_at is null AND app_id = ? GROUP BY access_protocol;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 12,
        "code_end_line": 12,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 182,
        "code_end_line": 182,
        "code_key": "comment",
        "code_value": "d.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 83,
        "code_end_line": 87,
        "code_key": "Device",
        "code_value": "type Device struct {\n\ttypes.DeviceQuery\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 583,
        "code_end_line": 586,
        "code_key": "DeviceQuery",
        "code_value": "type DeviceQuery struct {\n\tAppId          int `json:\"app_id\"`\n\tAccessProtocol int `json:\"access_protocol\"` // 1:rtmp 2:gb 3:gw\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 22,
        "code_end_line": 22,
        "code_key": "IvcDeviceTable",
        "code_value": "const IvcDeviceTable  = \"ivc_device\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 183,
        "code_end_line": 183,
        "code_key": "typeDevs",
        "code_value": "make([]types.DeviceAmount, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 508,
        "code_end_line": 515,
        "code_key": "DeviceAmount",
        "code_value": "type DeviceAmount struct {\n\tAccessProtocol int `json:\"AccessProtocol\" gorm:\"column:access_protocol\"`\n\tTotal          int `json:\"Total\"`\n\tUnregistered   int `json:\"Unregistered\"` //0:未注册\n\tOnline         int `json:\"Online\"`       // 1:在线\n\tOffline        int `json:\"Offline\"`      // 2:离线\n\tDisable        int `json:\"Disabled\"`     // 3:禁用\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 2,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindTotalChannelByAppId",
    "orm_code": "func (d *Device) FindTotalChannelByAppId() ([]types.ChannelAmount, error) {\n\t/*\n\t   \"select count(1) as total, count(IF(c.state=0,1,null)) as offline, count(IF(c.state=1,1,null)) as online \" +\n\t          \"from ivc_channel as c left join ivc_device as d on c.device_id=d.id where d.deleted_at is null and c.deleted_at is null \" +\n\t          \"and d.app_id = %v and d.access_protocol = %v;\"\n\t*/\n\ttypeChs := make([]types.ChannelAmount, 0)\n\tvar err error\n\tif d.DeviceQuery.AppId == 0 {\n\t\terr = base.GetInstance().IvcDriver().Raw(RawComment(d.Comment, \"select d.access_protocol, count(*) as total, SUM(c.state = 0) as offline, SUM(c.state = 1) as online \"+\n\t\t\t\"from ivc_channel as c inner join ivc_device as d on c.device_id=d.id where d.deleted_at is null and c.deleted_at is null \"+\n\t\t\t\"group by d.access_protocol\")).Scan(&typeChs).Error\n\t} else {\n\t\terr = base.GetInstance().IvcDriver().Raw(RawComment(d.Comment, \"select d.access_protocol, count(*) as total, SUM(c.state = 0) as offline, SUM(c.state = 1) as online \"+\n\t\t\t\"from ivc_channel as c inner join ivc_device as d on c.device_id=d.id where d.deleted_at is null and c.deleted_at is null \"+\n\t\t\t\"and d.app_id = ? group by d.access_protocol\"), d.DeviceQuery.AppId).Scan(&typeChs).Error\n\t}\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn nil, utils.RecordNotFoundError\n\t\t}\n\t\treturn typeChs, err\n\t}\n\n\treturn typeChs, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "AppId为0，查询所有应用的设备通道统计",
            "sql": "select d.access_protocol, count(*) as total, SUM(c.state = 0) as offline, SUM(c.state = 1) as online from ivc_channel as c inner join ivc_device as d on c.device_id=d.id where d.deleted_at is null and c.deleted_at is null group by d.access_protocol;"
          },
          {
            "scenario": "AppId不为0，查询特定应用的设备通道统计",
            "sql": "select d.access_protocol, count(*) as total, SUM(c.state = 0) as offline, SUM(c.state = 1) as online from ivc_channel as c inner join ivc_device as d on c.device_id=d.id where d.deleted_at is null and c.deleted_at is null and d.app_id = ? group by d.access_protocol;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 12,
        "code_end_line": 12,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 111,
        "code_end_line": 116,
        "code_key": "RawComment",
        "code_value": "func RawComment(comment *Comment, Sql string) string {\n\tif comment == nil {\n\t\treturn fmt.Sprintf(\"/* %v */ %v \", *DefaultComment, Sql)\n\t}\n\treturn fmt.Sprintf(\"/* %v */ %v \", *comment, Sql)\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 210,
        "code_end_line": 210,
        "code_key": "typeChs",
        "code_value": "make([]types.ChannelAmount, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 304,
        "code_end_line": 309,
        "code_key": "ChannelAmount",
        "code_value": "type ChannelAmount struct {\n\tAccessProtocol int `json:\"AccessProtocol\" gorm:\"column:access_protocol\"`\n\tTotal          int `json:\"Total\"`\n\tOnline         int `json:\"Online\"`  // 1:在线\n\tOffline        int `json:\"Offline\"` // 2:离线\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 583,
        "code_end_line": 586,
        "code_key": "DeviceQuery",
        "code_value": "type DeviceQuery struct {\n\tAppId          int `json:\"app_id\"`\n\tAccessProtocol int `json:\"access_protocol\"` // 1:rtmp 2:gb 3:gw\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 2,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindChannelStatsByAppId",
    "orm_code": "func (d *Device) FindChannelStatsByAppId() ([]types.DeviceChannelAmount, error) {\n\t/*\n\t   \"select d.access_protocol, d.status, count(1) as total, count(IF(c.state=0,1,null)) as offline, count(IF(c.state=1,1,null)) as online \" +\n\t          \"from ivc_channel as c left join ivc_device as d on c.device_id=d.id where d.deleted_at is null and c.deleted_at is null \" +\n\t          \"and d.app_id = %v group by d.access_protocol,d.status;\"\n\t*/\n\ttypeDevChs := make([]types.DeviceChannelAmount, 0)\n\tvar err error\n\tif d.DeviceQuery.AppId == 0 {\n\t\terr = base.GetInstance().IvcDriver().Raw(RawComment(d.Comment, \"select d.access_protocol, d.status as device_status, SUM(c.state = 0) as offline_channel_num, SUM(c.state = 1) as online_channel_num \"+\n\t\t\t\"from ivc_channel as c inner join ivc_device as d on c.device_id=d.id where d.deleted_at is null and c.deleted_at is null \"+\n\t\t\t\"group by d.access_protocol,d.status\")).Scan(&typeDevChs).Error\n\t} else {\n\t\terr = base.GetInstance().IvcDriver().Raw(RawComment(d.Comment, \"select d.access_protocol, d.status as device_status, SUM(c.state = 0) as offline_channel_num, SUM(c.state = 1) as online_channel_num \"+\n\t\t\t\"from ivc_channel as c inner join ivc_device as d on c.device_id=d.id where d.deleted_at is null and c.deleted_at is null \"+\n\t\t\t\"and d.app_id = ? group by d.access_protocol,d.status\"), d.DeviceQuery.AppId).Scan(&typeDevChs).Error\n\t}\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn nil, utils.RecordNotFoundError\n\t\t}\n\t\treturn typeDevChs, err\n\t}\n\n\treturn typeDevChs, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "AppId为0，查询所有应用的设备通道统计",
            "sql": "select d.access_protocol, d.status as device_status, SUM(c.state = 0) as offline_channel_num, SUM(c.state = 1) as online_channel_num from ivc_channel as c inner join ivc_device as d on c.device_id=d.id where d.deleted_at is null and c.deleted_at is null group by d.access_protocol,d.status;"
          },
          {
            "scenario": "AppId不为0，查询指定应用的设备通道统计",
            "sql": "select d.access_protocol, d.status as device_status, SUM(c.state = 0) as offline_channel_num, SUM(c.state = 1) as online_channel_num from ivc_channel as c inner join ivc_device as d on c.device_id=d.id where d.deleted_at is null and c.deleted_at is null and d.app_id = ? group by d.access_protocol,d.status;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 12,
        "code_end_line": 12,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 111,
        "code_end_line": 116,
        "code_key": "RawComment",
        "code_value": "func RawComment(comment *Comment, Sql string) string {\n\tif comment == nil {\n\t\treturn fmt.Sprintf(\"/* %v */ %v \", *DefaultComment, Sql)\n\t}\n\treturn fmt.Sprintf(\"/* %v */ %v \", *comment, Sql)\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 326,
        "code_end_line": 326,
        "code_key": "typeDevChs",
        "code_value": "make([]types.DeviceChannelAmount, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 523,
        "code_end_line": 528,
        "code_key": "DeviceChannelAmount",
        "code_value": "type DeviceChannelAmount struct {\n\tAccessProtocol    int `json:\"AccessProtocol\" gorm:\"column:access_protocol\"`\n\tDeviceStatus      int `json:\"DeviceStatus\" gorm:\"column:device_status\"`\n\tOnlineChannelNum  int `json:\"OnlineChannelNum\" gorm:\"column:online_channel_num\"`\n\tOfflineChannelNum int `json:\"OfflineChannelNum\" gorm:\"column:offline_channel_num\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 583,
        "code_end_line": 586,
        "code_key": "DeviceQuery",
        "code_value": "type DeviceQuery struct {\n\tAppId          int `json:\"app_id\"`\n\tAccessProtocol int `json:\"access_protocol\"` // 1:rtmp 2:gb 3:gw\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 2,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindDevicesByAppIdBak",
    "orm_code": "func (d *Device) FindDevicesByAppIdBak(filter map[string]interface{}, page, size int) ([]types.DeviceSource, error) {\n\tds := make([]types.DeviceSource, 0)\n\tcomment := d.CommentFunc(SELECT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcDeviceTable).Order(\"id\").Scopes(PaginateDB(page, size)).\n\t\tWhere(filter).Where(\"deleted_at is null\").Find(&ds).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn ds, utils.RecordNotFoundError\n\t\t}\n\t\treturn ds, err\n\t}\n\treturn ds, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "filter为空时",
            "sql": "SELECT id, name, code, access_protocol, type, status, cluster_id, cluster_name, region, created_at, updated_at FROM ivc_device WHERE deleted_at IS NULL ORDER BY id LIMIT ? OFFSET ?;"
          },
          {
            "scenario": "filter包含动态条件时",
            "sql": "SELECT id, name, code, access_protocol, type, status, cluster_id, cluster_name, region, created_at, updated_at FROM ivc_device WHERE cluster_id = ? AND deleted_at IS NULL ORDER BY id LIMIT ? OFFSET ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 12,
        "code_end_line": 12,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 350,
        "code_end_line": 350,
        "code_key": "comment",
        "code_value": "d.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 83,
        "code_end_line": 87,
        "code_key": "Device",
        "code_value": "type Device struct {\n\ttypes.DeviceQuery\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 583,
        "code_end_line": 586,
        "code_key": "DeviceQuery",
        "code_value": "type DeviceQuery struct {\n\tAppId          int `json:\"app_id\"`\n\tAccessProtocol int `json:\"access_protocol\"` // 1:rtmp 2:gb 3:gw\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 22,
        "code_end_line": 22,
        "code_key": "IvcDeviceTable",
        "code_value": "const IvcDeviceTable  = \"ivc_device\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 261,
        "code_end_line": 266,
        "code_key": "PaginateDB",
        "code_value": "func PaginateDB(page, size int) func(db *gorm.DB) *gorm.DB {\n\treturn func(db *gorm.DB) *gorm.DB {\n\t\toffset := (page - 1) * size\n\t\treturn db.Offset(offset).Limit(size)\n\t}\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 349,
        "code_end_line": 349,
        "code_key": "ds",
        "code_value": "make([]types.DeviceSource, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 599,
        "code_end_line": 611,
        "code_key": "DeviceSource",
        "code_value": "type DeviceSource struct {\n\tID             string `json:\"Id\" gorm:\"column:id\"`\n\tName           string `json:\"Name\" gorm:\"column:name\"`\n\tCode           string `json:\"Code\" gorm:\"column:code\"`\n\tAccessProtocol int    `json:\"AccessProtocol\" gorm:\"column:access_protocol\"`\n\tType           int    `json:\"Type\" gorm:\"column:type\"`\n\tStatus         int    `json:\"Status\" gorm:\"column:status\"`\n\tClusterId      string `json:\"ClusterId\" gorm:\"column:cluster_id\"`\n\tClusterName    string `json:\"ClusterName\" gorm:\"column:cluster_name\"`\n\tRegion         string `json:\"Region\" gorm:\"column:region\"`\n\tCreatedAt      int    `json:\"CreateAt\" gorm:\"column:created_at\"`\n\tUpdatedAt      int    `json:\"UpdateAt\" gorm:\"column:updated_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindDevicesByFilter",
    "orm_code": "func (d *Device) FindDevicesByFilter(filter map[string]interface{}, page, size int) ([]types.DeviceSource, error) {\n\tds := make([]types.DeviceSource, 0)\n\tval := make([]interface{}, 0)\n\tsql := \"SELECT * FROM ivc_device WHERE deleted_at is NULL \"\n\tfor k, v := range filter {\n\t\tif k == \"app_id\" {\n\t\t\tsql += \"AND app_id=? \"\n\t\t\tval = append(val, v)\n\t\t} else if k == \"id\" {\n\t\t\tsql += \"AND id=? \"\n\t\t\tval = append(val, v)\n\t\t} else if k == \"code\" {\n\t\t\tsql += \"AND code=? \"\n\t\t\tval = append(val, v)\n\t\t} else if k == \"cluster_id\" {\n\t\t\tsql += \"AND cluster_id=? \"\n\t\t\tval = append(val, v)\n\t\t} else if k == \"status\" {\n\t\t\tsql += \"AND status=? \"\n\t\t\tval = append(val, v)\n\t\t} else if k == \"access_protocol\" {\n\t\t\tsql += \"AND access_protocol=? \"\n\t\t\tval = append(val, v)\n\t\t} else if k == \"name\" {\n\t\t\tsql += \"AND name like ? \"\n\t\t\tval = append(val, \"%\"+v.(string)+\"%\")\n\t\t} else if k == \"region\" {\n\t\t\tcls := v.([]string)\n\t\t\tif len(cls) > 0 {\n\t\t\t\tsql += \"AND cluster_id in (?) \"\n\t\t\t\tval = append(val, cls)\n\t\t\t}\n\t\t}\n\t}\n\tsql += \"ORDER BY id LIMIT ? OFFSET ?;\"\n\tval = append(val, size, (page-1)*size)\n\terr := base.GetInstance().IvcDriver().Raw(RawComment(d.Comment, sql), val...).Scan(&ds).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn ds, utils.RecordNotFoundError\n\t\t}\n\t\treturn ds, err\n\t}\n\treturn ds, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "无过滤条件",
            "sql": "SELECT * FROM ivc_device WHERE deleted_at is NULL ORDER BY id LIMIT ? OFFSET ?;"
          },
          {
            "scenario": "单个app_id条件",
            "sql": "SELECT * FROM ivc_device WHERE deleted_at is NULL AND app_id=? ORDER BY id LIMIT ? OFFSET ?;"
          },
          {
            "scenario": "单个id条件",
            "sql": "SELECT * FROM ivc_device WHERE deleted_at is NULL AND id=? ORDER BY id LIMIT ? OFFSET ?;"
          },
          {
            "scenario": "单个code条件",
            "sql": "SELECT * FROM ivc_device WHERE deleted_at is NULL AND code=? ORDER BY id LIMIT ? OFFSET ?;"
          },
          {
            "scenario": "单个cluster_id条件",
            "sql": "SELECT * FROM ivc_device WHERE deleted_at is NULL AND cluster_id=? ORDER BY id LIMIT ? OFFSET ?;"
          },
          {
            "scenario": "单个status条件",
            "sql": "SELECT * FROM ivc_device WHERE deleted_at is NULL AND status=? ORDER BY id LIMIT ? OFFSET ?;"
          },
          {
            "scenario": "单个access_protocol条件",
            "sql": "SELECT * FROM ivc_device WHERE deleted_at is NULL AND access_protocol=? ORDER BY id LIMIT ? OFFSET ?;"
          },
          {
            "scenario": "单个name模糊查询条件",
            "sql": "SELECT * FROM ivc_device WHERE deleted_at is NULL AND name like ? ORDER BY id LIMIT ? OFFSET ?;"
          },
          {
            "scenario": "单个region条件（非空数组）",
            "sql": "SELECT * FROM ivc_device WHERE deleted_at is NULL AND cluster_id in (?) ORDER BY id LIMIT ? OFFSET ?;"
          },
          {
            "scenario": "多条件组合示例（app_id + status + name）",
            "sql": "SELECT * FROM ivc_device WHERE deleted_at is NULL AND app_id=? AND status=? AND name like ? ORDER BY id LIMIT ? OFFSET ?;"
          },
          {
            "scenario": "完整条件组合（包含所有支持的filter字段）",
            "sql": "SELECT * FROM ivc_device WHERE deleted_at is NULL AND app_id=? AND id=? AND code=? AND cluster_id=? AND status=? AND access_protocol=? AND name like ? AND cluster_id in (?) ORDER BY id LIMIT ? OFFSET ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 12,
        "code_end_line": 12,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 111,
        "code_end_line": 116,
        "code_key": "RawComment",
        "code_value": "func RawComment(comment *Comment, Sql string) string {\n\tif comment == nil {\n\t\treturn fmt.Sprintf(\"/* %v */ %v \", *DefaultComment, Sql)\n\t}\n\treturn fmt.Sprintf(\"/* %v */ %v \", *comment, Sql)\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 366,
        "code_end_line": 366,
        "code_key": "sql",
        "code_value": "\"SELECT * FROM ivc_device WHERE deleted_at is NULL \"",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 365,
        "code_end_line": 365,
        "code_key": "val",
        "code_value": "make([]interface{}, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 364,
        "code_end_line": 364,
        "code_key": "ds",
        "code_value": "make([]types.DeviceSource, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 599,
        "code_end_line": 611,
        "code_key": "DeviceSource",
        "code_value": "type DeviceSource struct {\n\tID             string `json:\"Id\" gorm:\"column:id\"`\n\tName           string `json:\"Name\" gorm:\"column:name\"`\n\tCode           string `json:\"Code\" gorm:\"column:code\"`\n\tAccessProtocol int    `json:\"AccessProtocol\" gorm:\"column:access_protocol\"`\n\tType           int    `json:\"Type\" gorm:\"column:type\"`\n\tStatus         int    `json:\"Status\" gorm:\"column:status\"`\n\tClusterId      string `json:\"ClusterId\" gorm:\"column:cluster_id\"`\n\tClusterName    string `json:\"ClusterName\" gorm:\"column:cluster_name\"`\n\tRegion         string `json:\"Region\" gorm:\"column:region\"`\n\tCreatedAt      int    `json:\"CreateAt\" gorm:\"column:created_at\"`\n\tUpdatedAt      int    `json:\"UpdateAt\" gorm:\"column:updated_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindDeviceCountByFilter",
    "orm_code": "func (d *Device) FindDeviceCountByFilter(filter map[string]interface{}) (int, error) {\n\tvar devCounts Nums\n\tval := make([]interface{}, 0)\n\tsql := \"SELECT count(*) as counts FROM ivc_device WHERE deleted_at is NULL \"\n\tfor k, v := range filter {\n\t\tif k == \"app_id\" {\n\t\t\tsql += \"AND app_id=? \"\n\t\t\tval = append(val, v)\n\t\t} else if k == \"id\" {\n\t\t\tsql += \"AND id=? \"\n\t\t\tval = append(val, v)\n\t\t} else if k == \"code\" {\n\t\t\tsql += \"AND code=? \"\n\t\t\tval = append(val, v)\n\t\t} else if k == \"cluster_id\" {\n\t\t\tsql += \"AND cluster_id=? \"\n\t\t\tval = append(val, v)\n\t\t} else if k == \"status\" {\n\t\t\tsql += \"AND status=? \"\n\t\t\tval = append(val, v)\n\t\t} else if k == \"access_protocol\" {\n\t\t\tsql += \"AND access_protocol=? \"\n\t\t\tval = append(val, v)\n\t\t} else if k == \"name\" {\n\t\t\tsql += \"AND name like ? \"\n\t\t\tval = append(val, \"%\"+v.(string)+\"%\")\n\t\t} else if k == \"region\" {\n\t\t\tcls := v.([]string)\n\t\t\tif len(cls) > 0 {\n\t\t\t\tsql += \"AND cluster_id in (?) \"\n\t\t\t\tval = append(val, cls)\n\t\t\t}\n\t\t}\n\t}\n\terr := base.GetInstance().IvcDriver().Raw(RawComment(d.Comment, sql), val...).Scan(&devCounts).Error\n\tif err != nil {\n\t\treturn devCounts.Counts, err\n\t}\n\treturn devCounts.Counts, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "无filter条件或filter为空",
            "sql": "SELECT count(*) as counts FROM ivc_device WHERE deleted_at is NULL;"
          },
          {
            "scenario": "包含等值条件（app_id、id、code、cluster_id、status、access_protocol）",
            "sql": "SELECT count(*) as counts FROM ivc_device WHERE deleted_at is NULL AND app_id=?;"
          },
          {
            "scenario": "包含name模糊查询条件",
            "sql": "SELECT count(*) as counts FROM ivc_device WHERE deleted_at is NULL AND name like ?;"
          },
          {
            "scenario": "包含region条件（非空数组）",
            "sql": "SELECT count(*) as counts FROM ivc_device WHERE deleted_at is NULL AND cluster_id in (?);"
          },
          {
            "scenario": "多种条件组合",
            "sql": "SELECT count(*) as counts FROM ivc_device WHERE deleted_at is NULL AND app_id=? AND cluster_id=? AND status=? AND name like ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 12,
        "code_end_line": 12,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 111,
        "code_end_line": 116,
        "code_key": "RawComment",
        "code_value": "func RawComment(comment *Comment, Sql string) string {\n\tif comment == nil {\n\t\treturn fmt.Sprintf(\"/* %v */ %v \", *DefaultComment, Sql)\n\t}\n\treturn fmt.Sprintf(\"/* %v */ %v \", *comment, Sql)\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 413,
        "code_end_line": 413,
        "code_key": "sql",
        "code_value": "\"SELECT count(*) as counts FROM ivc_device WHERE deleted_at is NULL \"",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 412,
        "code_end_line": 412,
        "code_key": "val",
        "code_value": "make([]interface{}, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 411,
        "code_end_line": 411,
        "code_key": "devCounts",
        "code_value": "Nums",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 68,
        "code_end_line": 72,
        "code_key": "Nums",
        "code_value": "type Nums struct {\n\tCounts int `json:\"Counts\" gorm:\"column:counts\"`\n\n\t*Comment\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindDeviceCountByAppId",
    "orm_code": "func (d *Device) FindDeviceCountByAppId(filter map[string]interface{}) (int, error) {\n\tvar nums int64\n\tcomment := d.CommentFunc(SELECT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcDeviceTable).Where(filter).Where(\"deleted_at is null\").Count(&nums).Error\n\tif err != nil {\n\t\treturn int(nums), err\n\t}\n\treturn int(nums), nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "filter为空时",
            "sql": "SELECT count(*) FROM ivc_device WHERE deleted_at is null;"
          },
          {
            "scenario": "filter包含条件时",
            "sql": "SELECT count(*) FROM ivc_device WHERE filter_field = ? AND deleted_at is null;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 12,
        "code_end_line": 12,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 454,
        "code_end_line": 454,
        "code_key": "comment",
        "code_value": "d.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 83,
        "code_end_line": 87,
        "code_key": "Device",
        "code_value": "type Device struct {\n\ttypes.DeviceQuery\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 583,
        "code_end_line": 586,
        "code_key": "DeviceQuery",
        "code_value": "type DeviceQuery struct {\n\tAppId          int `json:\"app_id\"`\n\tAccessProtocol int `json:\"access_protocol\"` // 1:rtmp 2:gb 3:gw\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 22,
        "code_end_line": 22,
        "code_key": "IvcDeviceTable",
        "code_value": "const IvcDeviceTable  = \"ivc_device\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 453,
        "code_end_line": 453,
        "code_key": "nums",
        "code_value": "int64",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindDeviceChannelsByAppId",
    "orm_code": "func (d *Device) FindDeviceChannelsByAppId() ([]DevChannels, error) {\n\tdcs := make([]DevChannels, 0)\n\tvar err error\n\tif d.DeviceQuery.AppId == 0 {\n\t\terr = base.GetInstance().IvcDriver().Raw(RawComment(d.Comment, \"select c.device_id, count(*) as counts from ivc_channel c inner join ivc_device d \"+\n\t\t\t\"on c.device_id=d.id where d.deleted_at is null and c.deleted_at is null group by c.device_id\")).Scan(&dcs).Error\n\t} else {\n\t\terr = base.GetInstance().IvcDriver().Raw(RawComment(d.Comment, \"select c.device_id, count(*) as counts from ivc_channel c inner join ivc_device d \"+\n\t\t\t\"on c.device_id=d.id where d.deleted_at is null and c.deleted_at is null and \"+\n\t\t\t\"d.app_id = ? group by c.device_id\"), d.DeviceQuery.AppId).Scan(&dcs).Error\n\t}\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn dcs, utils.RecordNotFoundError\n\t\t}\n\t\treturn dcs, err\n\t}\n\treturn dcs, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "AppId为0时，查询所有未删除设备的通道统计",
            "sql": "select c.device_id, count(*) as counts from ivc_channel c inner join ivc_device d on c.device_id=d.id where d.deleted_at is null and c.deleted_at is null group by c.device_id;"
          },
          {
            "scenario": "AppId不为0时，查询指定应用下未删除设备的通道统计",
            "sql": "select c.device_id, count(*) as counts from ivc_channel c inner join ivc_device d on c.device_id=d.id where d.deleted_at is null and c.deleted_at is null and d.app_id = ? group by c.device_id;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 12,
        "code_end_line": 12,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 111,
        "code_end_line": 116,
        "code_key": "RawComment",
        "code_value": "func RawComment(comment *Comment, Sql string) string {\n\tif comment == nil {\n\t\treturn fmt.Sprintf(\"/* %v */ %v \", *DefaultComment, Sql)\n\t}\n\treturn fmt.Sprintf(\"/* %v */ %v \", *comment, Sql)\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 464,
        "code_end_line": 464,
        "code_key": "dcs",
        "code_value": "make([]DevChannels, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 42,
        "code_end_line": 47,
        "code_key": "DevChannels",
        "code_value": "type DevChannels struct {\n\tDeviceId string `json:\"device_id\" gorm:\"column:device_id\"`\n\tNums     int    `json:\"counts\" gorm:\"column:counts\"`\n\n\t*Comment\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 583,
        "code_end_line": 586,
        "code_key": "DeviceQuery",
        "code_value": "type DeviceQuery struct {\n\tAppId          int `json:\"app_id\"`\n\tAccessProtocol int `json:\"access_protocol\"` // 1:rtmp 2:gb 3:gw\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 2,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindChannelsByAppId",
    "orm_code": "func (d *Device) FindChannelsByAppId(filter map[string]interface{}, page, size int) ([]types.ChannelSource, error) {\n\tcs := make([]types.ChannelSource, 0)\n\tdbt := base.GetInstance().IvcDriver().Clauses(d.CommentFunc(SELECT_COMMENT)).Select(FindChannelColumn).\n\t\tTable(\"ivc_channel as c\").Joins(\"inner join ivc_device as d on c.device_id=d.id\").Where(\"d.deleted_at is null and c.deleted_at is null\")\n\tif d.DeviceQuery.AppId != 0 {\n\t\tdbt = dbt.Where(\"d.app_id=?\", d.DeviceQuery.AppId)\n\t}\n\tif deviceId, ok := filter[\"device_id\"]; ok {\n\t\tdbt = dbt.Where(\"d.id=?\", deviceId)\n\t}\n\tif accessType, ok := filter[\"access_protocol\"]; ok {\n\t\tdbt = dbt.Where(\"d.access_protocol=?\", accessType)\n\t}\n\tif status, ok := filter[\"status\"]; ok {\n\t\tdbt = dbt.Where(\"d.status=?\", status)\n\t}\n\tif state, ok := filter[\"state\"]; ok {\n\t\tdbt = dbt.Where(\"c.state=?\", state)\n\t}\n\tif id, ok := filter[\"id\"]; ok {\n\t\tdbt = dbt.Where(\"c.id=?\", id)\n\t}\n\tif name, ok := filter[\"name\"]; ok {\n\t\tdbt = dbt.Where(\"c.name like ?\", \"%\"+name.(string)+\"%\")\n\t}\n\terr := dbt.Order(\"c.id\").Scopes(PaginateDB(page, size)).Scan(&cs).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn cs, utils.RecordNotFoundError\n\t\t}\n\t\treturn cs, err\n\t}\n\treturn cs, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "AppId=0时的查询",
            "sql": "SELECT c.id, c.code, c.name, c.state, c.device_id, c.ptz_type, d.name as device_name, d.code as device_code, d.access_protocol, d.status, c.created_at, c.updated_at FROM ivc_channel as c INNER JOIN ivc_device as d ON c.device_id = d.id WHERE d.deleted_at IS NULL AND c.deleted_at IS NULL AND d.id = ? AND d.access_protocol = ? AND d.status = ? AND c.state = ? AND c.id = ? AND c.name LIKE ? ORDER BY c.id LIMIT ? OFFSET ?;"
          },
          {
            "scenario": "AppId!=0时的查询",
            "sql": "SELECT c.id, c.code, c.name, c.state, c.device_id, c.ptz_type, d.name as device_name, d.code as device_code, d.access_protocol, d.status, c.created_at, c.updated_at FROM ivc_channel as c INNER JOIN ivc_device as d ON c.device_id = d.id WHERE d.deleted_at IS NULL AND c.deleted_at IS NULL AND d.app_id = ? AND d.id = ? AND d.access_protocol = ? AND d.status = ? AND c.state = ? AND c.id = ? AND c.name LIKE ? ORDER BY c.id LIMIT ? OFFSET ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 12,
        "code_end_line": 12,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 534,
        "code_end_line": 535,
        "code_key": "FindChannelColumn",
        "code_value": "var FindChannelColumn = \"c.id, c.code, c.name, c.state, c.device_id, c.ptz_type, d.name as device_name, \" +\n\t\t\"d.code as device_code, d.access_protocol, d.status ,c.created_at,c.updated_at\"",
        "code_label": null,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 540,
        "code_end_line": 540,
        "code_key": "dbt",
        "code_value": "base.GetInstance().IvcDriver().Clauses(d.CommentFunc(SELECT_COMMENT)).Select(FindChannelColumn).\n\t\tTable(\"ivc_channel as c\").Joins(\"inner join ivc_device as d on c.device_id=d.id\").Where(\"d.deleted_at is null and c.deleted_at is null\")",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 583,
        "code_end_line": 586,
        "code_key": "DeviceQuery",
        "code_value": "type DeviceQuery struct {\n\tAppId          int `json:\"app_id\"`\n\tAccessProtocol int `json:\"access_protocol\"` // 1:rtmp 2:gb 3:gw\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 545,
        "code_end_line": 545,
        "code_key": "deviceId",
        "code_value": "filter[\"device_id\"]",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 548,
        "code_end_line": 548,
        "code_key": "accessType",
        "code_value": "filter[\"access_protocol\"]",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 551,
        "code_end_line": 551,
        "code_key": "status",
        "code_value": "filter[\"status\"]",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 554,
        "code_end_line": 554,
        "code_key": "state",
        "code_value": "filter[\"state\"]",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 557,
        "code_end_line": 557,
        "code_key": "id",
        "code_value": "filter[\"id\"]",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 261,
        "code_end_line": 266,
        "code_key": "PaginateDB",
        "code_value": "func PaginateDB(page, size int) func(db *gorm.DB) *gorm.DB {\n\treturn func(db *gorm.DB) *gorm.DB {\n\t\toffset := (page - 1) * size\n\t\treturn db.Offset(offset).Limit(size)\n\t}\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 539,
        "code_end_line": 539,
        "code_key": "cs",
        "code_value": "make([]types.ChannelSource, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 359,
        "code_end_line": 372,
        "code_key": "ChannelSource",
        "code_value": "type ChannelSource struct {\n\tChannelId      string `json:\"ChannelId\" gorm:\"column:id\"`\n\tDeviceID       string `json:\"DeviceId\" gorm:\"column:device_id\"`\n\tChannelCode    string `json:\"ChannelCode\" gorm:\"column:code\"`\n\tName           string `json:\"Name\" gorm:\"column:name\"`\n\tState          int    `json:\"State\" gorm:\"column:state\"`\n\tPTZType        int    `json:\"PTZType\" gorm:\"column:ptz_type\"`\n\tDeviceCode     string `json:\"DeviceCode\" gorm:\"column:device_code\"`\n\tDeviceName     string `json:\"DeviceName\" gorm:\"column:device_name\"`\n\tDeviceStatus   int    `json:\"DeviceStatus\" gorm:\"column:status\"`\n\tAccessProtocol int    `json:\"AccessProtocol\" gorm:\"column:access_protocol\"`\n\tCreatedAt      int    `json:\"CreateAt\" gorm:\"column:created_at\"`\n\tUpdatedAt      int    `json:\"UpdateAt\" gorm:\"column:updated_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindChannelCountByAppId",
    "orm_code": "func (d *Device) FindChannelCountByAppId(filter map[string]interface{}) (int, error) {\n\tvar chCounts Nums\n\tval := make([]interface{}, 0)\n\tvar sql string\n\tif d.DeviceQuery.AppId == 0 {\n\t\tsql = \"select count(*) as counts from ivc_channel as c inner join ivc_device as d on c.device_id=d.id where d.deleted_at is null and c.deleted_at is null \"\n\t} else {\n\t\tsql = \"select count(*) as counts from ivc_channel as c inner join ivc_device as d on c.device_id=d.id where d.deleted_at is null and c.deleted_at is null and d.app_id=? \"\n\t\tval = append(val, d.DeviceQuery.AppId)\n\t}\n\n\tif deviceId, ok := filter[\"device_id\"]; ok {\n\t\tsql += \"and d.id=? \"\n\t\tval = append(val, deviceId)\n\t}\n\n\tif accessType, ok := filter[\"access_protocol\"]; ok {\n\t\tsql += \"and d.access_protocol=? \"\n\t\tval = append(val, accessType)\n\t}\n\tif status, ok := filter[\"status\"]; ok {\n\t\tsql += \"and d.status=? \"\n\t\tval = append(val, status)\n\t}\n\tif state, ok := filter[\"state\"]; ok {\n\t\tsql += \"and c.state=? \"\n\t\tval = append(val, state)\n\t}\n\tif id, ok := filter[\"id\"]; ok {\n\t\tsql += \"and c.id=? \"\n\t\tval = append(val, id)\n\t}\n\tif name, ok := filter[\"name\"]; ok {\n\t\tsql += \"and c.name like ? \"\n\t\tval = append(val, \"%\"+name.(string)+\"%\")\n\t}\n\terr := base.GetInstance().IvcDriver().Raw(RawComment(d.Comment, sql), val...).Scan(&chCounts).Error\n\tif err != nil {\n\t\treturn chCounts.Counts, err\n\t}\n\treturn chCounts.Counts, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "AppId为0，无filter条件",
            "sql": "select count(*) as counts from ivc_channel as c inner join ivc_device as d on c.device_id=d.id where d.deleted_at is null and c.deleted_at is null;"
          },
          {
            "scenario": "AppId不为0，无filter条件",
            "sql": "select count(*) as counts from ivc_channel as c inner join ivc_device as d on c.device_id=d.id where d.deleted_at is null and c.deleted_at is null and d.app_id=?;"
          },
          {
            "scenario": "AppId为0，包含filter条件",
            "sql": "select count(*) as counts from ivc_channel as c inner join ivc_device as d on c.device_id=d.id where d.deleted_at is null and c.deleted_at is null and d.id=?;"
          },
          {
            "scenario": "AppId不为0，包含filter条件",
            "sql": "select count(*) as counts from ivc_channel as c inner join ivc_device as d on c.device_id=d.id where d.deleted_at is null and c.deleted_at is null and d.app_id=? and d.id=? and d.access_protocol=? and d.status=? and c.state=? and c.id=? and c.name like ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 12,
        "code_end_line": 12,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 111,
        "code_end_line": 116,
        "code_key": "RawComment",
        "code_value": "func RawComment(comment *Comment, Sql string) string {\n\tif comment == nil {\n\t\treturn fmt.Sprintf(\"/* %v */ %v \", *DefaultComment, Sql)\n\t}\n\treturn fmt.Sprintf(\"/* %v */ %v \", *comment, Sql)\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 577,
        "code_end_line": 577,
        "code_key": "sql",
        "code_value": "string",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 576,
        "code_end_line": 576,
        "code_key": "val",
        "code_value": "make([]interface{}, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 575,
        "code_end_line": 575,
        "code_key": "chCounts",
        "code_value": "Nums",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 68,
        "code_end_line": 72,
        "code_key": "Nums",
        "code_value": "type Nums struct {\n\tCounts int `json:\"Counts\" gorm:\"column:counts\"`\n\n\t*Comment\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindTotalChannelList",
    "orm_code": "func (dm *DeviceChanManger) FindTotalChannelList(filter map[string]interface{}) {\n\ttempdb := base.GetInstance().IvcDriver().Clauses(dm.Dev.CommentFunc(SELECT_COMMENT)).Table(\"ivc_channel as c\").\n\t\tJoins(\"inner join ivc_device as d on c.device_id=d.id\").Where(\"d.deleted_at is null and c.deleted_at is null\")\n\tif dm.Dev.DeviceQuery.AppId != 0 {\n\t\ttempdb = tempdb.Where(\"d.app_id=?\", dm.Dev.DeviceQuery.AppId)\n\t}\n\tif deviceId, ok := filter[\"device_id\"]; ok {\n\t\ttempdb = tempdb.Where(\"d.id=?\", deviceId)\n\t}\n\tif accessType, ok := filter[\"access_protocol\"]; ok {\n\t\ttempdb = tempdb.Where(\"d.access_protocol=?\", accessType)\n\t}\n\tif status, ok := filter[\"status\"]; ok {\n\t\ttempdb = tempdb.Where(\"d.status=?\", status)\n\t}\n\tif state, ok := filter[\"state\"]; ok {\n\t\ttempdb = tempdb.Where(\"c.state=?\", state)\n\t}\n\tif id, ok := filter[\"id\"]; ok {\n\t\ttempdb = tempdb.Where(\"c.id=?\", id)\n\t}\n\tif name, ok := filter[\"name\"]; ok {\n\t\ttempdb = tempdb.Where(\"c.name like ?\", \"%\"+name.(string)+\"%\")\n\t}\n\tvar total int64\n\terr := tempdb.Count(&total).Error\n\ttempdb = tempdb.Select(FindTotalChannelListColumn)\n\ttempTotal := int(total)\n\tdm.TotalNum = &tempTotal\n\tif err != nil {\n\t\tdm.errChan <- err\n\t\treturn\n\t}\n\tvar wg sync.WaitGroup\n\tfor i := 0; i <= tempTotal/base.DefaultDownloadSize; i++ {\n\t\twg.Add(1)\n\t\tgo dm.paginateQueryChannelListByAppId(&wg, tempdb, i+1, base.DefaultDownloadSize)\n\t}\n\twg.Wait()\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "仅基础条件（AppId为0，无filter参数）",
            "sql": "SELECT COUNT(*) FROM ivc_channel as c INNER JOIN ivc_device as d ON c.device_id=d.id WHERE d.deleted_at IS NULL AND c.deleted_at IS NULL;"
          },
          {
            "scenario": "包含AppId条件",
            "sql": "SELECT COUNT(*) FROM ivc_channel as c INNER JOIN ivc_device as d ON c.device_id=d.id WHERE d.deleted_at IS NULL AND c.deleted_at IS NULL AND d.app_id=?;"
          },
          {
            "scenario": "包含AppId和单个filter条件",
            "sql": "SELECT COUNT(*) FROM ivc_channel as c INNER JOIN ivc_device as d ON c.device_id=d.id WHERE d.deleted_at IS NULL AND c.deleted_at IS NULL AND d.app_id=? AND d.id=?;"
          },
          {
            "scenario": "包含AppId和多个filter条件",
            "sql": "SELECT COUNT(*) FROM ivc_channel as c INNER JOIN ivc_device as d ON c.device_id=d.id WHERE d.deleted_at IS NULL AND c.deleted_at IS NULL AND d.app_id=? AND d.id=? AND d.access_protocol=? AND d.status=? AND c.state=? AND c.id=? AND c.name LIKE ?;"
          }
        ]
      },
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "仅基础条件（AppId为0，无filter参数）",
            "sql": "SELECT c.id, c.code, c.name, c.state, c.device_id, c.ptz_type, c.created_at, c.updated_at, d.name as device_name, d.code as device_code, d.access_protocol, d.status FROM ivc_channel as c INNER JOIN ivc_device as d ON c.device_id=d.id WHERE d.deleted_at IS NULL AND c.deleted_at IS NULL;"
          },
          {
            "scenario": "包含AppId条件",
            "sql": "SELECT c.id, c.code, c.name, c.state, c.device_id, c.ptz_type, c.created_at, c.updated_at, d.name as device_name, d.code as device_code, d.access_protocol, d.status FROM ivc_channel as c INNER JOIN ivc_device as d ON c.device_id=d.id WHERE d.deleted_at IS NULL AND c.deleted_at IS NULL AND d.app_id=?;"
          },
          {
            "scenario": "包含AppId和单个filter条件",
            "sql": "SELECT c.id, c.code, c.name, c.state, c.device_id, c.ptz_type, c.created_at, c.updated_at, d.name as device_name, d.code as device_code, d.access_protocol, d.status FROM ivc_channel as c INNER JOIN ivc_device as d ON c.device_id=d.id WHERE d.deleted_at IS NULL AND c.deleted_at IS NULL AND d.app_id=? AND d.id=?;"
          },
          {
            "scenario": "包含AppId和多个filter条件",
            "sql": "SELECT c.id, c.code, c.name, c.state, c.device_id, c.ptz_type, c.created_at, c.updated_at, d.name as device_name, d.code as device_code, d.access_protocol, d.status FROM ivc_channel as c INNER JOIN ivc_device as d ON c.device_id=d.id WHERE d.deleted_at IS NULL AND c.deleted_at IS NULL AND d.app_id=? AND d.id=? AND d.access_protocol=? AND d.status=? AND c.state=? AND c.id=? AND c.name LIKE ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT",
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 12,
        "code_end_line": 12,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 741,
        "code_end_line": 741,
        "code_key": "tempdb",
        "code_value": "base.GetInstance().IvcDriver().Clauses(dm.Dev.CommentFunc(SELECT_COMMENT)).Table(\"ivc_channel as c\").\n\t\tJoins(\"inner join ivc_device as d on c.device_id=d.id\").Where(\"d.deleted_at is null and c.deleted_at is null\")",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 746,
        "code_end_line": 746,
        "code_key": "deviceId",
        "code_value": "filter[\"device_id\"]",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 749,
        "code_end_line": 749,
        "code_key": "accessType",
        "code_value": "filter[\"access_protocol\"]",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 752,
        "code_end_line": 752,
        "code_key": "status",
        "code_value": "filter[\"status\"]",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 755,
        "code_end_line": 755,
        "code_key": "state",
        "code_value": "filter[\"state\"]",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 758,
        "code_end_line": 758,
        "code_key": "id",
        "code_value": "filter[\"id\"]",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 764,
        "code_end_line": 764,
        "code_key": "total",
        "code_value": "int64",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 737,
        "code_end_line": 737,
        "code_key": "FindTotalChannelListColumn",
        "code_value": "var FindTotalChannelListColumn = \"c.code, c.name, c.state, c.device_id, c.ptz_type, d.name as device_name, d.code as device_code, d.access_protocol, d.status ,c.created_at,c.updated_at\"",
        "code_label": null,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "paginateQueryChannelListByAppId",
    "orm_code": "func (dm *DeviceChanManger) paginateQueryChannelListByAppId(wg *sync.WaitGroup, db *gorm.DB, page, size int) {\n\tcs := make([]types.ChannelSource, 0)\n\tdefer wg.Done()\n\terr := db.Order(\"c.id\").Scopes(PaginateDB(page, size)).Scan(&cs).Error\n\tif dm == nil || dm.DeviceChanInfoChan() == nil || dm.ErrQueryChan() == nil {\n\t\treturn\n\t}\n\tif err != nil && err == gorm.ErrRecordNotFound {\n\t\tdm.errChan <- err\n\t\treturn\n\t}\n\tdm.chanListChan <- cs\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "LACK_INFORMATION",
        "variants": [
          {
            "scenario": "缺少FROM子句信息，无法确定具体查询的表名，ORDER BY使用了表别名c但来源不明",
            "sql": "SELECT id, device_id, code, name, state, ptz_type, device_code, device_name, status, access_protocol, created_at, updated_at FROM channel_source c ORDER BY c.id LIMIT ? OFFSET ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "LACK_INFORMATION"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 261,
        "code_end_line": 266,
        "code_key": "PaginateDB",
        "code_value": "func PaginateDB(page, size int) func(db *gorm.DB) *gorm.DB {\n\treturn func(db *gorm.DB) *gorm.DB {\n\t\toffset := (page - 1) * size\n\t\treturn db.Offset(offset).Limit(size)\n\t}\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/device.go",
        "code_start_line": 782,
        "code_end_line": 782,
        "code_key": "cs",
        "code_value": "make([]types.ChannelSource, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 359,
        "code_end_line": 372,
        "code_key": "ChannelSource",
        "code_value": "type ChannelSource struct {\n\tChannelId      string `json:\"ChannelId\" gorm:\"column:id\"`\n\tDeviceID       string `json:\"DeviceId\" gorm:\"column:device_id\"`\n\tChannelCode    string `json:\"ChannelCode\" gorm:\"column:code\"`\n\tName           string `json:\"Name\" gorm:\"column:name\"`\n\tState          int    `json:\"State\" gorm:\"column:state\"`\n\tPTZType        int    `json:\"PTZType\" gorm:\"column:ptz_type\"`\n\tDeviceCode     string `json:\"DeviceCode\" gorm:\"column:device_code\"`\n\tDeviceName     string `json:\"DeviceName\" gorm:\"column:device_name\"`\n\tDeviceStatus   int    `json:\"DeviceStatus\" gorm:\"column:status\"`\n\tAccessProtocol int    `json:\"AccessProtocol\" gorm:\"column:access_protocol\"`\n\tCreatedAt      int    `json:\"CreateAt\" gorm:\"column:created_at\"`\n\tUpdatedAt      int    `json:\"UpdateAt\" gorm:\"column:updated_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "QueryGBinviteWhitelistByAppId",
    "orm_code": "func (c *GBinvite) QueryGBinviteWhitelistByAppId() (int, error) {\n\tvar num int64\n\tcomment := c.CommentFunc(SELECT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcGBinviteWhitelistTable).Where(\"app_id = ?\", c.GBinviteSource.AppId).Count(&num).Error\n\treturn int(num), err\n}",
    "caller": "",
    "sql_statement_list": [
      "SELECT COUNT(*) FROM ivc_gb_invite_whitelist WHERE app_id = ?;"
    ],
    "sql_types": [
      "SELECT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/gbinvite.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/gbinvite.go",
        "code_start_line": 22,
        "code_end_line": 22,
        "code_key": "comment",
        "code_value": "c.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/gbinvite.go",
        "code_start_line": 14,
        "code_end_line": 18,
        "code_key": "GBinvite",
        "code_value": "type GBinvite struct {\n\ttypes.GBinviteSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 669,
        "code_end_line": 675,
        "code_key": "GBinviteSource",
        "code_value": "type GBinviteSource struct {\n\tId       int    `json:\"Id\" gorm:\"column:id\"`\n\tName     string `json:\"Name\" gorm:\"column:name\"`\n\tUin      string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId    int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tCreateAt int    `json:\"CreateAt\" gorm:\"column:created_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/gbinvite.go",
        "code_start_line": 11,
        "code_end_line": 11,
        "code_key": "IvcGBinviteWhitelistTable",
        "code_value": "const IvcGBinviteWhitelistTable = \"ivc_gb_invite_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/gbinvite.go",
        "code_start_line": 21,
        "code_end_line": 21,
        "code_key": "num",
        "code_value": "int64",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "QueryGBinviteWhitelistById",
    "orm_code": "func (c *GBinvite) QueryGBinviteWhitelistById() (*types.GBinviteSource, error) {\n\tvar gbinvite types.GBinviteSource\n\tcomment := c.CommentFunc(SELECT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcGBinviteWhitelistTable).First(&gbinvite, \"id = ?\", c.Id).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn &gbinvite, utils.RecordNotFoundError\n\t\t}\n\t\treturn &gbinvite, err\n\t}\n\treturn &gbinvite, nil\n}",
    "caller": "",
    "sql_statement_list": [
      "SELECT id, name, uin, app_id, created_at FROM ivc_gb_invite_whitelist WHERE id = ? LIMIT 1;"
    ],
    "sql_types": [
      "SELECT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/gbinvite.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/gbinvite.go",
        "code_start_line": 29,
        "code_end_line": 29,
        "code_key": "comment",
        "code_value": "c.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/gbinvite.go",
        "code_start_line": 14,
        "code_end_line": 18,
        "code_key": "GBinvite",
        "code_value": "type GBinvite struct {\n\ttypes.GBinviteSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 669,
        "code_end_line": 675,
        "code_key": "GBinviteSource",
        "code_value": "type GBinviteSource struct {\n\tId       int    `json:\"Id\" gorm:\"column:id\"`\n\tName     string `json:\"Name\" gorm:\"column:name\"`\n\tUin      string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId    int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tCreateAt int    `json:\"CreateAt\" gorm:\"column:created_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/gbinvite.go",
        "code_start_line": 11,
        "code_end_line": 11,
        "code_key": "IvcGBinviteWhitelistTable",
        "code_value": "const IvcGBinviteWhitelistTable = \"ivc_gb_invite_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/gbinvite.go",
        "code_start_line": 28,
        "code_end_line": 28,
        "code_key": "gbinvite",
        "code_value": "types.GBinviteSource",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindGBinviteWhitelists",
    "orm_code": "func (c *GBinvite) FindGBinviteWhitelists(filterSource map[string]interface{}, page, size int) ([]types.GBinviteSource, error) {\n\tbs := make([]types.GBinviteSource, 0)\n\tvar err error\n\tcomment := c.CommentFunc(SELECT_COMMENT)\n\tif name, ok := filterSource[\"name\"]; ok {\n\t\tfilter := make(map[string]interface{})\n\t\tfor k, v := range filterSource {\n\t\t\tif k == \"name\" {\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tfilter[k] = v\n\t\t}\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(IvcGBinviteWhitelistTable).Order(\"id\").Scopes(PaginateDB(page, size)).\n\t\t\tWhere(\"name like ?\", \"%\"+name.(string)+\"%\").Find(&bs).Error\n\t} else {\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(IvcGBinviteWhitelistTable).Order(\"id\").Scopes(PaginateDB(page, size)).\n\t\t\tWhere(filterSource).Find(&bs).Error\n\t}\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn bs, utils.RecordNotFoundError\n\t\t}\n\t\treturn bs, err\n\t}\n\treturn bs, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "filterSource包含name键时，使用LIKE模糊查询name字段，忽略name之外的其他过滤条件",
            "sql": "SELECT * FROM ivc_gb_invite_whitelist WHERE name LIKE ? ORDER BY id LIMIT ? OFFSET ?;"
          },
          {
            "scenario": "filterSource不包含name键时，对filterSource中的所有字段进行精确匹配",
            "sql": "SELECT * FROM ivc_gb_invite_whitelist WHERE app_id = ? AND uin = ? ORDER BY id LIMIT ? OFFSET ?;"
          },
          {
            "scenario": "filterSource为空map时，查询所有记录",
            "sql": "SELECT * FROM ivc_gb_invite_whitelist ORDER BY id LIMIT ? OFFSET ?;"
          },
          {
            "scenario": "filterSource只包含name键时，只进行name的LIKE查询",
            "sql": "SELECT * FROM ivc_gb_invite_whitelist WHERE name LIKE ? ORDER BY id LIMIT ? OFFSET ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/gbinvite.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/gbinvite.go",
        "code_start_line": 43,
        "code_end_line": 43,
        "code_key": "comment",
        "code_value": "c.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/gbinvite.go",
        "code_start_line": 14,
        "code_end_line": 18,
        "code_key": "GBinvite",
        "code_value": "type GBinvite struct {\n\ttypes.GBinviteSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 669,
        "code_end_line": 675,
        "code_key": "GBinviteSource",
        "code_value": "type GBinviteSource struct {\n\tId       int    `json:\"Id\" gorm:\"column:id\"`\n\tName     string `json:\"Name\" gorm:\"column:name\"`\n\tUin      string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId    int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tCreateAt int    `json:\"CreateAt\" gorm:\"column:created_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/gbinvite.go",
        "code_start_line": 11,
        "code_end_line": 11,
        "code_key": "IvcGBinviteWhitelistTable",
        "code_value": "const IvcGBinviteWhitelistTable = \"ivc_gb_invite_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 261,
        "code_end_line": 266,
        "code_key": "PaginateDB",
        "code_value": "func PaginateDB(page, size int) func(db *gorm.DB) *gorm.DB {\n\treturn func(db *gorm.DB) *gorm.DB {\n\t\toffset := (page - 1) * size\n\t\treturn db.Offset(offset).Limit(size)\n\t}\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/gbinvite.go",
        "code_start_line": 41,
        "code_end_line": 41,
        "code_key": "bs",
        "code_value": "make([]types.GBinviteSource, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 2,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "CreateGBinviteWhitelist",
    "orm_code": "func (c *GBinvite) CreateGBinviteWhitelist() (int, error) {\n\tcomment := c.CommentFunc(INSERT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcGBinviteWhitelistTable).Create(&c).Error\n\treturn c.Id, err\n}",
    "caller": "",
    "sql_statement_list": [
      "INSERT INTO ivc_gb_invite_whitelist (id, name, uin, app_id, created_at) VALUES (?, ?, ?, ?, ?);"
    ],
    "sql_types": [
      "INSERT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/gbinvite.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/gbinvite.go",
        "code_start_line": 68,
        "code_end_line": 68,
        "code_key": "comment",
        "code_value": "c.CommentFunc(INSERT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/gbinvite.go",
        "code_start_line": 14,
        "code_end_line": 18,
        "code_key": "GBinvite",
        "code_value": "type GBinvite struct {\n\ttypes.GBinviteSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 669,
        "code_end_line": 675,
        "code_key": "GBinviteSource",
        "code_value": "type GBinviteSource struct {\n\tId       int    `json:\"Id\" gorm:\"column:id\"`\n\tName     string `json:\"Name\" gorm:\"column:name\"`\n\tUin      string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId    int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tCreateAt int    `json:\"CreateAt\" gorm:\"column:created_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 83,
        "code_end_line": 83,
        "code_key": "INSERT_COMMENT",
        "code_value": "const INSERT_COMMENT = \"INSERT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/gbinvite.go",
        "code_start_line": 11,
        "code_end_line": 11,
        "code_key": "IvcGBinviteWhitelistTable",
        "code_value": "const IvcGBinviteWhitelistTable = \"ivc_gb_invite_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "CountGBinviteWhitelists",
    "orm_code": "func (c *GBinvite) CountGBinviteWhitelists(filterSource map[string]interface{}) (int, error) {\n\tvar count int64\n\tcomment := c.CommentFunc(SELECT_COMMENT)\n\tif name, ok := filterSource[\"name\"]; ok {\n\t\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcGBinviteWhitelistTable).Where(\"name like ?\", \"%\"+name.(string)+\"%\").Count(&count).Error\n\t\treturn int(count), err\n\t} else {\n\t\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcGBinviteWhitelistTable).Where(filterSource).Count(&count).Error\n\t\treturn int(count), err\n\t}\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "filterSource包含name键时进行模糊查询",
            "sql": "SELECT count(*) FROM ivc_gb_invite_whitelist WHERE name like ?;"
          },
          {
            "scenario": "filterSource不包含name键时使用map条件查询（包括空map情况）",
            "sql": "SELECT count(*) FROM ivc_gb_invite_whitelist WHERE field1 = ? AND field2 = ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/gbinvite.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/gbinvite.go",
        "code_start_line": 87,
        "code_end_line": 87,
        "code_key": "comment",
        "code_value": "c.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/gbinvite.go",
        "code_start_line": 14,
        "code_end_line": 18,
        "code_key": "GBinvite",
        "code_value": "type GBinvite struct {\n\ttypes.GBinviteSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 669,
        "code_end_line": 675,
        "code_key": "GBinviteSource",
        "code_value": "type GBinviteSource struct {\n\tId       int    `json:\"Id\" gorm:\"column:id\"`\n\tName     string `json:\"Name\" gorm:\"column:name\"`\n\tUin      string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId    int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tCreateAt int    `json:\"CreateAt\" gorm:\"column:created_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/gbinvite.go",
        "code_start_line": 11,
        "code_end_line": 11,
        "code_key": "IvcGBinviteWhitelistTable",
        "code_value": "const IvcGBinviteWhitelistTable = \"ivc_gb_invite_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/gbinvite.go",
        "code_start_line": 86,
        "code_end_line": 86,
        "code_key": "count",
        "code_value": "int64",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 2,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindTotalPlanByAppId",
    "orm_code": "func (r *Record) FindTotalPlanByAppId() (int, error) {\n\tvar (\n\t\tnums int64\n\t\terr  error\n\t)\n\t// select count(*) from ivc_record_plan where app_id = %v and status = 1;\n\tcomment := r.CommentFunc(SELECT_COMMENT)\n\tif r.AppId == 0 {\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(RecordPlanTable).Where(map[string]interface{}{\"status\": 1}).Count(&nums).Error\n\t} else {\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(RecordPlanTable).Where(map[string]interface{}{\"app_id\": r.AppId, \"status\": 1}).Count(&nums).Error\n\t}\n\tif err != nil {\n\t\treturn int(nums), err\n\t}\n\n\treturn int(nums), nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "AppId为0时，只按status条件查询",
            "sql": "SELECT count(*) FROM ivc_record_plan WHERE status = ?;"
          },
          {
            "scenario": "AppId不为0时，按app_id和status条件查询",
            "sql": "SELECT count(*) FROM ivc_record_plan WHERE app_id = ? AND status = ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 8,
        "code_end_line": 8,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 114,
        "code_end_line": 114,
        "code_key": "comment",
        "code_value": "r.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 30,
        "code_end_line": 34,
        "code_key": "Record",
        "code_value": "type Record struct {\n\tAppId int\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 19,
        "code_end_line": 19,
        "code_key": "RecordPlanTable",
        "code_value": "const RecordPlanTable              = \"ivc_record_plan\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 110,
        "code_end_line": 110,
        "code_key": "nums",
        "code_value": "int64",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 2,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindTotalTaskByAppId",
    "orm_code": "func (r *Record) FindTotalTaskByAppId() (int, error) {\n\tvar (\n\t\tnums int64\n\t\terr  error\n\t)\n\n\tcomment := r.CommentFunc(SELECT_COMMENT)\n\t// select count(*) from ivc_record_retrieve_task where app_id = %v\n\tif r.AppId == 0 {\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(RecordTaskTable).Count(&nums).Error\n\t} else {\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(RecordTaskTable).Where(\"app_id = ?\", r.AppId).Count(&nums).Error\n\t}\n\tif err != nil {\n\t\treturn int(nums), err\n\t}\n\n\treturn int(nums), nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "AppId为0时查询所有记录总数",
            "sql": "SELECT count(*) FROM ivc_record_retrieve_task;"
          },
          {
            "scenario": "AppId不为0时查询指定AppId的记录总数",
            "sql": "SELECT count(*) FROM ivc_record_retrieve_task WHERE app_id = ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 8,
        "code_end_line": 8,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 133,
        "code_end_line": 133,
        "code_key": "comment",
        "code_value": "r.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 30,
        "code_end_line": 34,
        "code_key": "Record",
        "code_value": "type Record struct {\n\tAppId int\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 21,
        "code_end_line": 21,
        "code_key": "RecordTaskTable",
        "code_value": "const RecordTaskTable              = \"ivc_record_retrieve_task\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 129,
        "code_end_line": 129,
        "code_key": "nums",
        "code_value": "int64",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 2,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindTotalTemplateByAppId",
    "orm_code": "func (r *Record) FindTotalTemplateByAppId() (int, error) {\n\tvar (\n\t\tnums    int64\n\t\terr     error\n\t\tcomment = r.CommentFunc(SELECT_COMMENT)\n\t)\n\t// select count(*) from ivc_record_template where app_id = %v\n\tif r.AppId == 0 {\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(RecordTemplateTable).Count(&nums).Error\n\t} else {\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(RecordTemplateTable).Where(\"app_id = ?\", r.AppId).Count(&nums).Error\n\t}\n\tif err != nil {\n\t\treturn int(nums), err\n\t}\n\n\treturn int(nums), nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "AppId为0时查询所有记录",
            "sql": "SELECT COUNT(*) FROM ivc_record_template;"
          },
          {
            "scenario": "AppId不为0时按应用ID过滤查询",
            "sql": "SELECT COUNT(*) FROM ivc_record_template WHERE app_id = ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 8,
        "code_end_line": 8,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 151,
        "code_end_line": 151,
        "code_key": "comment",
        "code_value": "r.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 33,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 30,
        "code_end_line": 34,
        "code_key": "Record",
        "code_value": "type Record struct {\n\tAppId int\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 20,
        "code_end_line": 20,
        "code_key": "RecordTemplateTable",
        "code_value": "const RecordTemplateTable          = \"ivc_record_template\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 149,
        "code_end_line": 149,
        "code_key": "nums",
        "code_value": "int64",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 2,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindTemplatesByAppId",
    "orm_code": "func (r *Record) FindTemplatesByAppId(page, size int) ([]types.Template, error) {\n\ttms := make([]types.Template, 0)\n\tvar err error\n\tcomment := r.CommentFunc(SELECT_COMMENT)\n\tif r.AppId == 0 {\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(RecordTemplateTable).Order(\"template_id\").Scopes(PaginateDB(page, size)).Find(&tms).Error\n\t} else {\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(RecordTemplateTable).Order(\"template_id\").Scopes(PaginateDB(page, size)).\n\t\t\tWhere(map[string]interface{}{\"app_id\": r.AppId}).Find(&tms).Error\n\t}\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn tms, utils.RecordNotFoundError\n\t\t}\n\t\treturn tms, err\n\t}\n\treturn tms, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "当 r.AppId == 0 时（无应用ID过滤）",
            "sql": "SELECT template_id, template_name, describe, create_at, update_at, time_sections FROM ivc_record_template ORDER BY template_id LIMIT ? OFFSET ?;"
          },
          {
            "scenario": "当 r.AppId != 0 时（有应用ID过滤）",
            "sql": "SELECT template_id, template_name, describe, create_at, update_at, time_sections FROM ivc_record_template WHERE app_id = ? ORDER BY template_id LIMIT ? OFFSET ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 8,
        "code_end_line": 8,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 169,
        "code_end_line": 169,
        "code_key": "comment",
        "code_value": "r.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 30,
        "code_end_line": 34,
        "code_key": "Record",
        "code_value": "type Record struct {\n\tAppId int\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 20,
        "code_end_line": 20,
        "code_key": "RecordTemplateTable",
        "code_value": "const RecordTemplateTable          = \"ivc_record_template\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 261,
        "code_end_line": 266,
        "code_key": "PaginateDB",
        "code_value": "func PaginateDB(page, size int) func(db *gorm.DB) *gorm.DB {\n\treturn func(db *gorm.DB) *gorm.DB {\n\t\toffset := (page - 1) * size\n\t\treturn db.Offset(offset).Limit(size)\n\t}\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 167,
        "code_end_line": 167,
        "code_key": "tms",
        "code_value": "make([]types.Template, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 1213,
        "code_end_line": 1220,
        "code_key": "Template",
        "code_value": "type Template struct {\n\tTemplateId   string `json:\"TemplateId\" gorm:\"column:template_id\"`\n\tTemplateName string `json:\"TemplateName\" gorm:\"column:template_name\"`\n\tDescribe     string `json:\"Describe\" gorm:\"column:describe\"`\n\tCreateAt     string `json:\"CreateAt\" gorm:\"column:create_at\"`\n\tUpdateAt     string `json:\"UpdateAt\" gorm:\"column:update_at\"`\n\tTimeSections string `json:\"TimeSections\" gorm:\"column:time_sections\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 2,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindPlansByAppId",
    "orm_code": "func (r *Record) FindPlansByAppId(page, size int) ([]types.Plan, error) {\n\tpns := make([]types.Plan, 0)\n\tvar err error\n\tcomment := r.CommentFunc(SELECT_COMMENT)\n\tif r.AppId == 0 {\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(RecordPlanTable).Order(\"plan_id\").Scopes(PaginateDB(page, size)).Find(&pns).Error\n\t} else {\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(RecordPlanTable).Order(\"plan_id\").Scopes(PaginateDB(page, size)).\n\t\t\tWhere(map[string]interface{}{\"app_id\": r.AppId}).Find(&pns).Error\n\t}\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn pns, utils.RecordNotFoundError\n\t\t}\n\t\treturn pns, err\n\t}\n\treturn pns, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "AppId为0时的无筛选查询",
            "sql": "SELECT plan_id, plan_name, status, stream_type, transition, expiration, describe, create_at, update_at FROM ivc_record_plan ORDER BY plan_id LIMIT ? OFFSET ?;"
          },
          {
            "scenario": "AppId不为0时的应用ID筛选查询",
            "sql": "SELECT plan_id, plan_name, status, stream_type, transition, expiration, describe, create_at, update_at FROM ivc_record_plan WHERE app_id = ? ORDER BY plan_id LIMIT ? OFFSET ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 8,
        "code_end_line": 8,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 188,
        "code_end_line": 188,
        "code_key": "comment",
        "code_value": "r.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 30,
        "code_end_line": 34,
        "code_key": "Record",
        "code_value": "type Record struct {\n\tAppId int\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 19,
        "code_end_line": 19,
        "code_key": "RecordPlanTable",
        "code_value": "const RecordPlanTable              = \"ivc_record_plan\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 261,
        "code_end_line": 266,
        "code_key": "PaginateDB",
        "code_value": "func PaginateDB(page, size int) func(db *gorm.DB) *gorm.DB {\n\treturn func(db *gorm.DB) *gorm.DB {\n\t\toffset := (page - 1) * size\n\t\treturn db.Offset(offset).Limit(size)\n\t}\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 186,
        "code_end_line": 186,
        "code_key": "pns",
        "code_value": "make([]types.Plan, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 858,
        "code_end_line": 869,
        "code_key": "Plan",
        "code_value": "type Plan struct {\n\tPlanId      string `json:\"PlanId\" gorm:\"column:plan_id\"`\n\tPlanName    string `json:\"PlanName\" gorm:\"column:plan_name\"`\n\tStatus      int    `json:\"Status\" gorm:\"column:status\"`\n\tStreamType  string `json:\"StreamType\" gorm:\"column:stream_type\"`\n\tChannelNums int    `json:\"ChannelNums\" gorm:\"-\"`\n\tTransition  int    `json:\"Transition\" gorm:\"column:transition\"`\n\tExpiration  int    `json:\"Expiration\" gorm:\"column:expiration\"`\n\tDescribe    string `json:\"Describe\" gorm:\"column:describe\"`\n\tCreateAt    string `json:\"CreateAt\" gorm:\"column:create_at\"`\n\tUpdateAt    string `json:\"UpdateAt\" gorm:\"column:update_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 2,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindTasksByAppId",
    "orm_code": "func (r *Record) FindTasksByAppId(page, size int) ([]types.Task, error) {\n\ttks := make([]types.Task, 0)\n\tvar err error\n\tcomment := r.CommentFunc(SELECT_COMMENT)\n\tif r.AppId == 0 {\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(RecordTaskTable).Order(\"task_id\").Scopes(PaginateDB(page, size)).Find(&tks).Error\n\t} else {\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(RecordTaskTable).Order(\"task_id\").Scopes(PaginateDB(page, size)).\n\t\t\tWhere(map[string]interface{}{\"app_id\": r.AppId}).Find(&tks).Error\n\t}\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn tks, utils.RecordNotFoundError\n\t\t}\n\t\treturn tks, err\n\t}\n\treturn tks, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "AppId为0的情况",
            "sql": "SELECT task_id, task_name, status, mod, start_time, end_time, expiration, capacity, describe, create_at, update_at FROM ivc_record_retrieve_task ORDER BY task_id LIMIT ? OFFSET ?;"
          },
          {
            "scenario": "AppId不为0的情况",
            "sql": "SELECT task_id, task_name, status, mod, start_time, end_time, expiration, capacity, describe, create_at, update_at FROM ivc_record_retrieve_task WHERE app_id = ? ORDER BY task_id LIMIT ? OFFSET ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 8,
        "code_end_line": 8,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 207,
        "code_end_line": 207,
        "code_key": "comment",
        "code_value": "r.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 30,
        "code_end_line": 34,
        "code_key": "Record",
        "code_value": "type Record struct {\n\tAppId int\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 21,
        "code_end_line": 21,
        "code_key": "RecordTaskTable",
        "code_value": "const RecordTaskTable              = \"ivc_record_retrieve_task\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 261,
        "code_end_line": 266,
        "code_key": "PaginateDB",
        "code_value": "func PaginateDB(page, size int) func(db *gorm.DB) *gorm.DB {\n\treturn func(db *gorm.DB) *gorm.DB {\n\t\toffset := (page - 1) * size\n\t\treturn db.Offset(offset).Limit(size)\n\t}\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 205,
        "code_end_line": 205,
        "code_key": "tks",
        "code_value": "make([]types.Task, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 1191,
        "code_end_line": 1204,
        "code_key": "Task",
        "code_value": "type Task struct {\n\tTaskId      string `json:\"TaskId\" gorm:\"column:task_id\"`\n\tTaskName    string `json:\"TaskName\" gorm:\"column:task_name\"`\n\tStatus      int    `json:\"Status\" gorm:\"column:status\"`\n\tMod         int    `json:\"Mod\" gorm:\"column:mod\"`\n\tStartTime   int    `json:\"StartTime\" gorm:\"column:start_time\"`\n\tEndTime     int    `json:\"EndTime\" gorm:\"column:end_time\"`\n\tExpiration  int    `json:\"Expiration\" gorm:\"column:expiration\"`\n\tChannelNums int    `json:\"ChannelNums\" gorm:\"-\"`\n\tCapacity    int    `json:\"Capacity\" gorm:\"column:capacity\"`\n\tDescribe    string `json:\"Describe\" gorm:\"column:describe\"`\n\tCreateAt    string `json:\"CreateAt\" gorm:\"column:create_at\"`\n\tUpdateAt    string `json:\"UpdateAt\" gorm:\"column:update_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 2,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindPlanChannelsByAppId",
    "orm_code": "func (r *Record) FindPlanChannelsByAppId() ([]PlanChannels, error) {\n\tpcs := make([]PlanChannels, 0)\n\tvar err error\n\tcomment := r.CommentFunc(SELECT_COMMENT)\n\tif r.AppId == 0 {\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(PlanChannelsTable).Select(\"plan_id,count(*) as counts\").Group(\"plan_id\").Scan(&pcs).Error\n\t} else {\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(PlanChannelsTable).Select(\"plan_id,count(*) as counts\").\n\t\t\tWhere(map[string]interface{}{\"app_id\": r.AppId}).Group(\"plan_id\").Scan(&pcs).Error\n\t}\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn pcs, utils.RecordNotFoundError\n\t\t}\n\t\treturn pcs, err\n\t}\n\treturn pcs, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "AppId为0时的全局统计查询",
            "sql": "SELECT plan_id, count(*) as counts FROM ivc_record_plan_channels GROUP BY plan_id;"
          },
          {
            "scenario": "AppId不为0时的指定应用统计查询",
            "sql": "SELECT plan_id, count(*) as counts FROM ivc_record_plan_channels WHERE app_id = ? GROUP BY plan_id;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 8,
        "code_end_line": 8,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 226,
        "code_end_line": 226,
        "code_key": "comment",
        "code_value": "r.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 30,
        "code_end_line": 34,
        "code_key": "Record",
        "code_value": "type Record struct {\n\tAppId int\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 22,
        "code_end_line": 22,
        "code_key": "PlanChannelsTable",
        "code_value": "const PlanChannelsTable            = \"ivc_record_plan_channels\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 224,
        "code_end_line": 224,
        "code_key": "pcs",
        "code_value": "make([]PlanChannels, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 36,
        "code_end_line": 39,
        "code_key": "PlanChannels",
        "code_value": "type PlanChannels struct {\n\tPlanId string `json:\"plan_id\" gorm:\"column:plan_id\"`\n\tNums   int    `json:\"counts\" gorm:\"column:counts\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 2,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindTaskChannelsByAppId",
    "orm_code": "func (r *Record) FindTaskChannelsByAppId() ([]TaskChannels, error) {\n\ttcs := make([]TaskChannels, 0)\n\tvar err error\n\tcomment := r.CommentFunc(SELECT_COMMENT)\n\tif r.AppId == 0 {\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(TaskChannelsTable).Select(\"task_id,count(*) as counts\").Group(\"task_id\").Scan(&tcs).Error\n\t} else {\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(TaskChannelsTable).Select(\"task_id,count(*) as counts\").\n\t\t\tWhere(map[string]interface{}{\"app_id\": r.AppId}).Group(\"task_id\").Scan(&tcs).Error\n\t}\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn tcs, utils.RecordNotFoundError\n\t\t}\n\t\treturn tcs, err\n\t}\n\treturn tcs, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "当 r.AppId == 0 时",
            "sql": "/* SELECT */ SELECT task_id,count(*) as counts FROM ivc_record_retrieve_task_channel GROUP BY task_id;"
          },
          {
            "scenario": "当 r.AppId != 0 时",
            "sql": "/* SELECT */ SELECT task_id,count(*) as counts FROM ivc_record_retrieve_task_channel WHERE app_id = ? GROUP BY task_id;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 8,
        "code_end_line": 8,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 245,
        "code_end_line": 245,
        "code_key": "comment",
        "code_value": "r.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 30,
        "code_end_line": 34,
        "code_key": "Record",
        "code_value": "type Record struct {\n\tAppId int\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 23,
        "code_end_line": 23,
        "code_key": "TaskChannelsTable",
        "code_value": "const TaskChannelsTable            = \"ivc_record_retrieve_task_channel\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 243,
        "code_end_line": 243,
        "code_key": "tcs",
        "code_value": "make([]TaskChannels, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 41,
        "code_end_line": 44,
        "code_key": "TaskChannels",
        "code_value": "type TaskChannels struct {\n\tTaskId string `json:\"task_id\" gorm:\"column:task_id\"`\n\tNums   int    `json:\"counts\" gorm:\"column:counts\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 2,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "IsExit",
    "orm_code": "func (b *Blockeruser) IsExit() (bool, error) {\n\tcount := int64(0)\n\tcomment := b.CommentFunc(SELECT_COMMENT)\n\tif b.Id == 0 {\n\t\tif err := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcBlockUserTable).Where(\"app_id = ? and uin = ?\", b.BlockerUserSource.AppId, b.Uin).Count(&count).Error; err != nil {\n\t\t\treturn false, err\n\t\t}\n\t} else {\n\t\tif err := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcBlockUserTable).Where(\"id = ?\", b.Id).Count(&count).Error; err != nil {\n\t\t\treturn false, err\n\t\t}\n\t}\n\treturn count > 0, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "当b.Id为0时，使用app_id和uin查询",
            "sql": "SELECT count(*) FROM ivc_blocker_user WHERE app_id = ? AND uin = ?;"
          },
          {
            "scenario": "当b.Id不为0时，使用id查询",
            "sql": "SELECT count(*) FROM ivc_blocker_user WHERE id = ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/blockeruser.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/blockeruser.go",
        "code_start_line": 20,
        "code_end_line": 20,
        "code_key": "comment",
        "code_value": "b.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/blockeruser.go",
        "code_start_line": 12,
        "code_end_line": 16,
        "code_key": "Blockeruser",
        "code_value": "type Blockeruser struct {\n\ttypes.BlockerUserSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 253,
        "code_end_line": 260,
        "code_key": "BlockerUserSource",
        "code_value": "type BlockerUserSource struct {\n\tId       int    `json:\"Id\" gorm:\"column:id\"`\n\tAppId    int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tUin      string `json:\"Uin\" gorm:\"column:uin\"`\n\tName     string `json:\"Name\" gorm:\"column:name\"`\n\tDescribe string `json:\"Describe\" gorm:\"describe\"`\n\tCreateAt int    `json:\"CreateAt\" gorm:\"column:created_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/blockeruser.go",
        "code_start_line": 9,
        "code_end_line": 9,
        "code_key": "IvcBlockUserTable",
        "code_value": "const IvcBlockUserTable = \"ivc_blocker_user\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/blockeruser.go",
        "code_start_line": 19,
        "code_end_line": 19,
        "code_key": "count",
        "code_value": "int64(0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 2,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindBlockerUsers",
    "orm_code": "func (b *Blockeruser) FindBlockerUsers(filterSource map[string]interface{}, page, size int) ([]types.BlockerUserSource, error) {\n\tvar ret []types.BlockerUserSource\n\tvar err error\n\tcomment := b.CommentFunc(SELECT_COMMENT)\n\tif name, ok := filterSource[\"name\"]; ok {\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(IvcBlockUserTable).Order(\"id\").Scopes(PaginateDB(page, size)).\n\t\t\tWhere(\"name like ?\", \"%\"+name.(string)+\"%\").Find(&ret).Error\n\t} else if appId, ok := filterSource[\"app_id\"]; ok {\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(IvcBlockUserTable).Order(\"id\").Scopes(PaginateDB(page, size)).\n\t\t\tWhere(\"app_id = ?\", appId).Find(&ret).Error\n\t} else if uin, ok := filterSource[\"uin\"]; ok {\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(IvcBlockUserTable).Order(\"id\").Scopes(PaginateDB(page, size)).\n\t\t\tWhere(\"uin = ?\", uin).Find(&ret).Error\n\t} else {\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(IvcBlockUserTable).Order(\"id\").Scopes(PaginateDB(page, size)).\n\t\t\tFind(&ret).Error\n\t}\n\treturn ret, err\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "按name字段模糊查询",
            "sql": "SELECT id, app_id, uin, name, describe, created_at FROM ivc_blocker_user WHERE name LIKE ? ORDER BY id LIMIT ? OFFSET ?;"
          },
          {
            "scenario": "按app_id字段精确查询",
            "sql": "SELECT id, app_id, uin, name, describe, created_at FROM ivc_blocker_user WHERE app_id = ? ORDER BY id LIMIT ? OFFSET ?;"
          },
          {
            "scenario": "按uin字段精确查询",
            "sql": "SELECT id, app_id, uin, name, describe, created_at FROM ivc_blocker_user WHERE uin = ? ORDER BY id LIMIT ? OFFSET ?;"
          },
          {
            "scenario": "无过滤条件查询",
            "sql": "SELECT id, app_id, uin, name, describe, created_at FROM ivc_blocker_user ORDER BY id LIMIT ? OFFSET ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/blockeruser.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/blockeruser.go",
        "code_start_line": 36,
        "code_end_line": 36,
        "code_key": "comment",
        "code_value": "b.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/blockeruser.go",
        "code_start_line": 12,
        "code_end_line": 16,
        "code_key": "Blockeruser",
        "code_value": "type Blockeruser struct {\n\ttypes.BlockerUserSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 253,
        "code_end_line": 260,
        "code_key": "BlockerUserSource",
        "code_value": "type BlockerUserSource struct {\n\tId       int    `json:\"Id\" gorm:\"column:id\"`\n\tAppId    int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tUin      string `json:\"Uin\" gorm:\"column:uin\"`\n\tName     string `json:\"Name\" gorm:\"column:name\"`\n\tDescribe string `json:\"Describe\" gorm:\"describe\"`\n\tCreateAt int    `json:\"CreateAt\" gorm:\"column:created_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/blockeruser.go",
        "code_start_line": 9,
        "code_end_line": 9,
        "code_key": "IvcBlockUserTable",
        "code_value": "const IvcBlockUserTable = \"ivc_blocker_user\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 261,
        "code_end_line": 266,
        "code_key": "PaginateDB",
        "code_value": "func PaginateDB(page, size int) func(db *gorm.DB) *gorm.DB {\n\treturn func(db *gorm.DB) *gorm.DB {\n\t\toffset := (page - 1) * size\n\t\treturn db.Offset(offset).Limit(size)\n\t}\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/blockeruser.go",
        "code_start_line": 34,
        "code_end_line": 34,
        "code_key": "ret",
        "code_value": "[]types.BlockerUserSource",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/blockeruser.go",
        "code_start_line": 40,
        "code_end_line": 40,
        "code_key": "appId",
        "code_value": "filterSource[\"app_id\"]",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/blockeruser.go",
        "code_start_line": 43,
        "code_end_line": 43,
        "code_key": "uin",
        "code_value": "filterSource[\"uin\"]",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 4,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "CreateBlockerUser",
    "orm_code": "func (b *Blockeruser) CreateBlockerUser() (int, error) {\n\tcomment := b.CommentFunc(INSERT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcBlockUserTable).Create(&b.BlockerUserSource).Error\n\treturn b.BlockerUserSource.Id, err\n}",
    "caller": "",
    "sql_statement_list": [
      "INSERT INTO ivc_blocker_user (id, app_id, uin, name, describe, created_at) VALUES (?, ?, ?, ?, ?, ?);"
    ],
    "sql_types": [
      "INSERT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/blockeruser.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/blockeruser.go",
        "code_start_line": 54,
        "code_end_line": 54,
        "code_key": "comment",
        "code_value": "b.CommentFunc(INSERT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/blockeruser.go",
        "code_start_line": 12,
        "code_end_line": 16,
        "code_key": "Blockeruser",
        "code_value": "type Blockeruser struct {\n\ttypes.BlockerUserSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 253,
        "code_end_line": 260,
        "code_key": "BlockerUserSource",
        "code_value": "type BlockerUserSource struct {\n\tId       int    `json:\"Id\" gorm:\"column:id\"`\n\tAppId    int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tUin      string `json:\"Uin\" gorm:\"column:uin\"`\n\tName     string `json:\"Name\" gorm:\"column:name\"`\n\tDescribe string `json:\"Describe\" gorm:\"describe\"`\n\tCreateAt int    `json:\"CreateAt\" gorm:\"column:created_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 83,
        "code_end_line": 83,
        "code_key": "INSERT_COMMENT",
        "code_value": "const INSERT_COMMENT = \"INSERT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/blockeruser.go",
        "code_start_line": 9,
        "code_end_line": 9,
        "code_key": "IvcBlockUserTable",
        "code_value": "const IvcBlockUserTable = \"ivc_blocker_user\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "CountBlockerUsers",
    "orm_code": "func (b *Blockeruser) CountBlockerUsers(filterSource map[string]interface{}) (int, error) {\n\tcount := int64(0)\n\tvar err error\n\tcomment := b.CommentFunc(SELECT_COMMENT)\n\tif name, ok := filterSource[\"name\"]; ok {\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(IvcBlockUserTable).Where(\"name like ?\", \"%\"+name.(string)+\"%\").Count(&count).Error\n\t} else {\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(IvcBlockUserTable).Count(&count).Error\n\t}\n\treturn int(count), err\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "filterSource包含name字段",
            "sql": "SELECT COUNT(*) FROM ivc_blocker_user WHERE name like ?;"
          },
          {
            "scenario": "filterSource不包含name字段",
            "sql": "SELECT COUNT(*) FROM ivc_blocker_user;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/blockeruser.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/blockeruser.go",
        "code_start_line": 68,
        "code_end_line": 68,
        "code_key": "comment",
        "code_value": "b.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/blockeruser.go",
        "code_start_line": 12,
        "code_end_line": 16,
        "code_key": "Blockeruser",
        "code_value": "type Blockeruser struct {\n\ttypes.BlockerUserSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 253,
        "code_end_line": 260,
        "code_key": "BlockerUserSource",
        "code_value": "type BlockerUserSource struct {\n\tId       int    `json:\"Id\" gorm:\"column:id\"`\n\tAppId    int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tUin      string `json:\"Uin\" gorm:\"column:uin\"`\n\tName     string `json:\"Name\" gorm:\"column:name\"`\n\tDescribe string `json:\"Describe\" gorm:\"describe\"`\n\tCreateAt int    `json:\"CreateAt\" gorm:\"column:created_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/blockeruser.go",
        "code_start_line": 9,
        "code_end_line": 9,
        "code_key": "IvcBlockUserTable",
        "code_value": "const IvcBlockUserTable = \"ivc_blocker_user\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/blockeruser.go",
        "code_start_line": 66,
        "code_end_line": 66,
        "code_key": "count",
        "code_value": "int64(0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 2,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "findClusterList",
    "orm_code": "func (c *Cluster) findClusterList() ([]types.Cluster, error) {\n\tvar clusterInfo []types.Cluster\n\tcomment := c.CommentFunc(SELECT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(ClusterConfTable).Where(\"deleted_at is null\").Find(&clusterInfo).Error\n\tif err != nil {\n\t\treturn clusterInfo, err\n\t}\n\treturn clusterInfo, nil\n}",
    "caller": "",
    "sql_statement_list": [
      "SELECT id, name, region FROM ivc_cluster_conf WHERE deleted_at is null;"
    ],
    "sql_types": [
      "SELECT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/cluster.go",
        "code_start_line": 9,
        "code_end_line": 9,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/cluster.go",
        "code_start_line": 72,
        "code_end_line": 72,
        "code_key": "comment",
        "code_value": "c.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 397,
        "code_end_line": 401,
        "code_key": "Cluster",
        "code_value": "type Cluster struct {\n\tClusterId   string `json:\"ClusterId\" gorm:\"column:id\"`\n\tClusterName string `json:\"ClusterName\" gorm:\"column:name\"`\n\tRegion      string `json:\"Region\" gorm:\"column:region\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/cluster.go",
        "code_start_line": 25,
        "code_end_line": 27,
        "code_key": "Cluster",
        "code_value": "type Cluster struct {\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/cluster.go",
        "code_start_line": 19,
        "code_end_line": 19,
        "code_key": "ClusterConfTable",
        "code_value": "const ClusterConfTable  = \"ivc_cluster_conf\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/cluster.go",
        "code_start_line": 71,
        "code_end_line": 71,
        "code_key": "clusterInfo",
        "code_value": "[]types.Cluster",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "findRegionCodeList",
    "orm_code": "func (c *Cluster) findRegionCodeList() ([]RegionCode, error) {\n\tvar rcs []RegionCode\n\terr := base.GetInstance().IvcDriver().Raw(RawComment(c.Comment, \"select DISTINCT(region) from ivc_cluster_conf\")).Scan(&rcs).Error\n\tif err != nil {\n\t\treturn rcs, err\n\t}\n\treturn rcs, nil\n}",
    "caller": "",
    "sql_statement_list": [
      "/* findRegionCodeList */ SELECT DISTINCT(region) FROM ivc_cluster_conf;"
    ],
    "sql_types": [
      "OTHER"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/cluster.go",
        "code_start_line": 9,
        "code_end_line": 9,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 111,
        "code_end_line": 116,
        "code_key": "RawComment",
        "code_value": "func RawComment(comment *Comment, Sql string) string {\n\tif comment == nil {\n\t\treturn fmt.Sprintf(\"/* %v */ %v \", *DefaultComment, Sql)\n\t}\n\treturn fmt.Sprintf(\"/* %v */ %v \", *comment, Sql)\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/cluster.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "rcs",
        "code_value": "[]RegionCode",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/cluster.go",
        "code_start_line": 80,
        "code_end_line": 82,
        "code_key": "RegionCode",
        "code_value": "type RegionCode struct {\n\tRegion string `json:\"Region\" gorm:\"column:region\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindRegisteredUsersCounts",
    "orm_code": "func (o *Overview) FindRegisteredUsersCounts() (int, error) {\n\tvar nums int64\n\tcomment := o.CommentFunc(SELECT_COMMENT)\n\terr := base.GetInstance().BillingDriver().Clauses(comment).Table(UserInfoTable).Count(&nums).Error\n\tif err != nil {\n\t\treturn int(nums), err\n\t}\n\treturn int(nums), nil\n}",
    "caller": "",
    "sql_statement_list": [
      "SELECT count(*) FROM ivc_user_info;"
    ],
    "sql_types": [
      "SELECT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 8,
        "code_end_line": 8,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 57,
        "code_end_line": 57,
        "code_key": "comment",
        "code_value": "o.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 23,
        "code_end_line": 29,
        "code_key": "Overview",
        "code_value": "type Overview struct {\n\tCustomerType int\n\tIndustryId   int\n\tAppId        int\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 19,
        "code_end_line": 19,
        "code_key": "UserInfoTable",
        "code_value": "const UserInfoTable        = \"ivc_user_info\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 56,
        "code_end_line": 56,
        "code_key": "nums",
        "code_value": "int64",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindUserAppIdListByCustomerType",
    "orm_code": "func (o *Overview) FindUserAppIdListByCustomerType(endTime int64) ([]AppIds, error) {\n\tappIds := make([]AppIds, 0)\n\tfilter := make(map[string]interface{})\n\tfilter[\"status\"] = 0\n\tif o.IndustryId > 0 {\n\t\tfilter[\"income_industry_id\"] = o.IndustryId\n\t}\n\tif o.AppId > 0 {\n\t\tfilter[\"app_id\"] = o.AppId\n\t}\n\tif o.CustomerType > 0 {\n\t\tswitch o.CustomerType {\n\t\tcase External:\n\t\t\tfilter[\"internal\"] = 0\n\t\tcase Internal:\n\t\t\tfilter[\"internal\"] = 1\n\t\tcase Big:\n\t\t\tfilter[\"big_customer\"] = 1\n\t\tcase Small:\n\t\t\tfilter[\"big_customer\"] = 0\n\t\tcase Corporate:\n\t\t\tfilter[\"corporate\"] = 1\n\t\tcase Personal:\n\t\t\tfilter[\"corporate\"] = 0\n\t\tdefault:\n\t\t\treturn nil, utils.UnSupportedCustomerTypeError\n\t\t}\n\t}\n\tvar err error\n\tcomment := o.CommentFunc(SELECT_COMMENT)\n\tif endTime > 0 {\n\t\terr = base.GetInstance().BillingDriver().Clauses(comment).Table(UserInfoTable).Select(\"app_id\").Where(filter).\n\t\t\tWhere(\"created_at <= FROM_UNIXTIME(?)\", endTime).Scan(&appIds).Error\n\t} else {\n\t\terr = base.GetInstance().BillingDriver().Clauses(comment).Table(UserInfoTable).Select(\"app_id\").Where(filter).Scan(&appIds).Error\n\t}\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn appIds, utils.RecordNotFoundError\n\t\t}\n\t\treturn appIds, err\n\t}\n\treturn appIds, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "基础查询：endTime=0, IndustryId=0, AppId=0, CustomerType=0",
            "sql": "SELECT app_id FROM ivc_user_info WHERE status = ?;"
          },
          {
            "scenario": "包含时间条件：endTime>0, IndustryId=0, AppId=0, CustomerType=0",
            "sql": "SELECT app_id FROM ivc_user_info WHERE status = ? AND created_at <= FROM_UNIXTIME(?);"
          },
          {
            "scenario": "包含行业ID：endTime=0, IndustryId>0, AppId=0, CustomerType=0",
            "sql": "SELECT app_id FROM ivc_user_info WHERE status = ? AND income_industry_id = ?;"
          },
          {
            "scenario": "包含应用ID：endTime=0, IndustryId=0, AppId>0, CustomerType=0",
            "sql": "SELECT app_id FROM ivc_user_info WHERE status = ? AND app_id = ?;"
          },
          {
            "scenario": "External客户类型：endTime=0, IndustryId=0, AppId=0, CustomerType=External",
            "sql": "SELECT app_id FROM ivc_user_info WHERE status = ? AND internal = ?;"
          },
          {
            "scenario": "Internal客户类型：endTime=0, IndustryId=0, AppId=0, CustomerType=Internal",
            "sql": "SELECT app_id FROM ivc_user_info WHERE status = ? AND internal = ?;"
          },
          {
            "scenario": "Big客户类型：endTime=0, IndustryId=0, AppId=0, CustomerType=Big",
            "sql": "SELECT app_id FROM ivc_user_info WHERE status = ? AND big_customer = ?;"
          },
          {
            "scenario": "Small客户类型：endTime=0, IndustryId=0, AppId=0, CustomerType=Small",
            "sql": "SELECT app_id FROM ivc_user_info WHERE status = ? AND big_customer = ?;"
          },
          {
            "scenario": "Corporate客户类型：endTime=0, IndustryId=0, AppId=0, CustomerType=Corporate",
            "sql": "SELECT app_id FROM ivc_user_info WHERE status = ? AND corporate = ?;"
          },
          {
            "scenario": "Personal客户类型：endTime=0, IndustryId=0, AppId=0, CustomerType=Personal",
            "sql": "SELECT app_id FROM ivc_user_info WHERE status = ? AND corporate = ?;"
          },
          {
            "scenario": "复合条件示例（时间+行业+应用+External客户）：endTime>0, IndustryId>0, AppId>0, CustomerType=External",
            "sql": "SELECT app_id FROM ivc_user_info WHERE status = ? AND income_industry_id = ? AND app_id = ? AND internal = ? AND created_at <= FROM_UNIXTIME(?);"
          },
          {
            "scenario": "复合条件示例（时间+行业+Big客户）：endTime>0, IndustryId>0, AppId=0, CustomerType=Big",
            "sql": "SELECT app_id FROM ivc_user_info WHERE status = ? AND income_industry_id = ? AND big_customer = ? AND created_at <= FROM_UNIXTIME(?);"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 8,
        "code_end_line": 8,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "comment",
        "code_value": "o.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 23,
        "code_end_line": 29,
        "code_key": "Overview",
        "code_value": "type Overview struct {\n\tCustomerType int\n\tIndustryId   int\n\tAppId        int\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 19,
        "code_end_line": 19,
        "code_key": "UserInfoTable",
        "code_value": "const UserInfoTable        = \"ivc_user_info\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 68,
        "code_end_line": 68,
        "code_key": "filter",
        "code_value": "make(map[string]interface{})",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 67,
        "code_end_line": 67,
        "code_key": "appIds",
        "code_value": "make([]AppIds, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 31,
        "code_end_line": 33,
        "code_key": "AppIds",
        "code_value": "type AppIds struct {\n\tAppId int `json:\"app_id\" gorm:\"column:app_id\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 2,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindUserCountByCustomerType",
    "orm_code": "func (o *Overview) FindUserCountByCustomerType(startTime string, end int64) (int, error) {\n\tvar counts int64\n\tfilter := make(map[string]interface{})\n\tfilter[\"status\"] = 0\n\tif o.CustomerType > 0 {\n\t\tswitch o.CustomerType {\n\t\tcase External:\n\t\t\tfilter[\"internal\"] = 0\n\t\tcase Internal:\n\t\t\tfilter[\"internal\"] = 1\n\t\tcase Big:\n\t\t\tfilter[\"big_customer\"] = 1\n\t\tcase Small:\n\t\t\tfilter[\"big_customer\"] = 0\n\t\tcase Corporate:\n\t\t\tfilter[\"corporate\"] = 1\n\t\tcase Personal:\n\t\t\tfilter[\"corporate\"] = 0\n\t\tdefault:\n\t\t\treturn int(counts), utils.UnSupportedCustomerTypeError\n\t\t}\n\t}\n\t// 查询更新时间在指定范围内的数据\n\tcomment := o.CommentFunc(SELECT_COMMENT)\n\tendTime := time.Unix(end, 0)\n\terr := base.GetInstance().BillingDriver().Clauses(comment).Table(UserInfoTable).Where(filter).Where(\"updated_at BETWEEN ? AND ?\", startTime, endTime).Count(&counts).Error\n\tif err != nil {\n\t\treturn int(counts), err\n\t}\n\treturn int(counts), nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "CustomerType <= 0（无客户类型过滤）",
            "sql": "SELECT count(*) FROM user_info WHERE status = ? AND updated_at BETWEEN ? AND ?;"
          },
          {
            "scenario": "CustomerType = External（外部客户）",
            "sql": "SELECT count(*) FROM user_info WHERE status = ? AND internal = ? AND updated_at BETWEEN ? AND ?;"
          },
          {
            "scenario": "CustomerType = Internal（内部客户）",
            "sql": "SELECT count(*) FROM user_info WHERE status = ? AND internal = ? AND updated_at BETWEEN ? AND ?;"
          },
          {
            "scenario": "CustomerType = Big（大客户）",
            "sql": "SELECT count(*) FROM user_info WHERE status = ? AND big_customer = ? AND updated_at BETWEEN ? AND ?;"
          },
          {
            "scenario": "CustomerType = Small（小客户）",
            "sql": "SELECT count(*) FROM user_info WHERE status = ? AND big_customer = ? AND updated_at BETWEEN ? AND ?;"
          },
          {
            "scenario": "CustomerType = Corporate（企业客户）",
            "sql": "SELECT count(*) FROM user_info WHERE status = ? AND corporate = ? AND updated_at BETWEEN ? AND ?;"
          },
          {
            "scenario": "CustomerType = Personal（个人客户）",
            "sql": "SELECT count(*) FROM user_info WHERE status = ? AND corporate = ? AND updated_at BETWEEN ? AND ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 8,
        "code_end_line": 8,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 135,
        "code_end_line": 135,
        "code_key": "comment",
        "code_value": "o.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 23,
        "code_end_line": 29,
        "code_key": "Overview",
        "code_value": "type Overview struct {\n\tCustomerType int\n\tIndustryId   int\n\tAppId        int\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 19,
        "code_end_line": 19,
        "code_key": "UserInfoTable",
        "code_value": "const UserInfoTable        = \"ivc_user_info\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 114,
        "code_end_line": 114,
        "code_key": "filter",
        "code_value": "make(map[string]interface{})",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 136,
        "code_end_line": 136,
        "code_key": "endTime",
        "code_value": "time.Unix(end, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 6,
        "code_end_line": 6,
        "code_key": "time",
        "code_value": "time",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 113,
        "code_end_line": 113,
        "code_key": "counts",
        "code_value": "int64",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindBillingUserCount",
    "orm_code": "func (o *Overview) FindBillingUserCount(start, end string) ([]AppIds, error) {\n\tval := make([]interface{}, 0)\n\tvar (\n\t\tsql    string\n\t\tappIds = make([]AppIds, 0)\n\t)\n\t/*\n\t\tSELECT count(DISTINCT A.app_id) as counts FROM iss_postpay_bill as A JOIN ivc_user_info as B ON A.app_id = B.app_id\n\t\tWHERE A.push_status = 'NeedPush' AND A.date BETWEEN ? AND ?;\n\t*/\n\tsql = \"SELECT DISTINCT A.app_id as app_id FROM iss_postpay_bill as A JOIN ivc_user_info as B ON A.app_id = B.app_id \" +\n\t\t\"WHERE A.push_status = 'NeedPush' \"\n\tif o.CustomerType > 0 {\n\t\tswitch o.CustomerType {\n\t\tcase External:\n\t\t\tsql += \"AND B.internal=? \"\n\t\t\tval = append(val, 0)\n\t\tcase Internal:\n\t\t\tsql += \"AND B.internal=? \"\n\t\t\tval = append(val, 1)\n\t\tcase Big:\n\t\t\tsql += \"AND B.big_customer=? \"\n\t\t\tval = append(val, 1)\n\t\tcase Small:\n\t\t\tsql += \"AND B.big_customer=? \"\n\t\t\tval = append(val, 0)\n\t\tcase Corporate:\n\t\t\tsql += \"AND B.corporate=? \"\n\t\t\tval = append(val, 1)\n\t\tcase Personal:\n\t\t\tsql += \"AND B.corporate=? \"\n\t\t\tval = append(val, 0)\n\t\tdefault:\n\t\t\treturn appIds, utils.UnSupportedCustomerTypeError\n\t\t}\n\t}\n\tsql += \"AND A.date BETWEEN ? AND ?;\"\n\tval = append(val, start, end)\n\terr := base.GetInstance().BillingDriver().Raw(RawComment(o.Comment, sql), val...).Scan(&appIds).Error\n\tif err != nil {\n\t\treturn appIds, err\n\t}\n\n\treturn appIds, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "无客户类型过滤 (CustomerType = 0)",
            "sql": "SELECT DISTINCT A.app_id as app_id FROM iss_postpay_bill as A JOIN ivc_user_info as B ON A.app_id = B.app_id WHERE A.push_status = 'NeedPush' AND A.date BETWEEN ? AND ?;"
          },
          {
            "scenario": "外部客户过滤 (CustomerType = External)",
            "sql": "SELECT DISTINCT A.app_id as app_id FROM iss_postpay_bill as A JOIN ivc_user_info as B ON A.app_id = B.app_id WHERE A.push_status = 'NeedPush' AND B.internal=? AND A.date BETWEEN ? AND ?;"
          },
          {
            "scenario": "内部客户过滤 (CustomerType = Internal)",
            "sql": "SELECT DISTINCT A.app_id as app_id FROM iss_postpay_bill as A JOIN ivc_user_info as B ON A.app_id = B.app_id WHERE A.push_status = 'NeedPush' AND B.internal=? AND A.date BETWEEN ? AND ?;"
          },
          {
            "scenario": "大客户过滤 (CustomerType = Big)",
            "sql": "SELECT DISTINCT A.app_id as app_id FROM iss_postpay_bill as A JOIN ivc_user_info as B ON A.app_id = B.app_id WHERE A.push_status = 'NeedPush' AND B.big_customer=? AND A.date BETWEEN ? AND ?;"
          },
          {
            "scenario": "小客户过滤 (CustomerType = Small)",
            "sql": "SELECT DISTINCT A.app_id as app_id FROM iss_postpay_bill as A JOIN ivc_user_info as B ON A.app_id = B.app_id WHERE A.push_status = 'NeedPush' AND B.big_customer=? AND A.date BETWEEN ? AND ?;"
          },
          {
            "scenario": "企业客户过滤 (CustomerType = Corporate)",
            "sql": "SELECT DISTINCT A.app_id as app_id FROM iss_postpay_bill as A JOIN ivc_user_info as B ON A.app_id = B.app_id WHERE A.push_status = 'NeedPush' AND B.corporate=? AND A.date BETWEEN ? AND ?;"
          },
          {
            "scenario": "个人客户过滤 (CustomerType = Personal)",
            "sql": "SELECT DISTINCT A.app_id as app_id FROM iss_postpay_bill as A JOIN ivc_user_info as B ON A.app_id = B.app_id WHERE A.push_status = 'NeedPush' AND B.corporate=? AND A.date BETWEEN ? AND ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 8,
        "code_end_line": 8,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 111,
        "code_end_line": 116,
        "code_key": "RawComment",
        "code_value": "func RawComment(comment *Comment, Sql string) string {\n\tif comment == nil {\n\t\treturn fmt.Sprintf(\"/* %v */ %v \", *DefaultComment, Sql)\n\t}\n\treturn fmt.Sprintf(\"/* %v */ %v \", *comment, Sql)\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 148,
        "code_end_line": 148,
        "code_key": "sql",
        "code_value": "string",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 146,
        "code_end_line": 146,
        "code_key": "val",
        "code_value": "make([]interface{}, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 149,
        "code_end_line": 149,
        "code_key": "appIds",
        "code_value": "make([]AppIds, 0)",
        "code_label": null,
        "code_type": 33,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 31,
        "code_end_line": 33,
        "code_key": "AppIds",
        "code_value": "type AppIds struct {\n\tAppId int `json:\"app_id\" gorm:\"column:app_id\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindUserBillingByCustomerType",
    "orm_code": "func (o *Overview) FindUserBillingByCustomerType(start, end string) ([]types.PostpayBill, error) {\n\tval := make([]interface{}, 0)\n\tvar sql string\n\tsql = \"SELECT A.date, A.field, SUM(A.amount) AS amounts \" +\n\t\t\"FROM iss_postpay_bill as A INNER JOIN ivc_user_info as B ON A.app_id = B.app_id \" +\n\t\t\"WHERE A.push_status = 'NeedPush' AND A.cycle = 'Day' \"\n\tif o.CustomerType > 0 {\n\t\tswitch o.CustomerType {\n\t\tcase External:\n\t\t\tsql += \"AND B.internal=? \"\n\t\t\tval = append(val, 0)\n\t\tcase Internal:\n\t\t\tsql += \"AND B.internal=? \"\n\t\t\tval = append(val, 1)\n\t\tcase Big:\n\t\t\tsql += \"AND B.big_customer=? \"\n\t\t\tval = append(val, 1)\n\t\tcase Small:\n\t\t\tsql += \"AND B.big_customer=? \"\n\t\t\tval = append(val, 0)\n\t\tcase Corporate:\n\t\t\tsql += \"AND B.corporate=? \"\n\t\t\tval = append(val, 1)\n\t\tcase Personal:\n\t\t\tsql += \"AND B.corporate=? \"\n\t\t\tval = append(val, 0)\n\t\tdefault:\n\t\t\treturn nil, utils.UnSupportedCustomerTypeError\n\t\t}\n\t}\n\t// result 1\n\t// OPT_BLOCK opt1 [\n\t//     OPTIONAL(B.internal = ?) OR\n\t//     OPTIONAL(B.big_customer = ?) OR\n\t//     OPTIONAL(B.corporate = ?) OR\n\t// ]\n\n\t// result 2\n\t// OPT_BLOCK opt2 [\n\t//  OPTIONAL(B.internal = 0) OR\n\t// \tOPTIONAL(B.internal = 1) OR\n\t//  OPTIONAL(B.big_customer = 0) OR\n\t// \tOPTIONAL(B.big_customer = 1) OR\n\t//  OPTIONAL(B.corporate = 0) OR\n\t// \tOPTIONAL(B.corporate = 1) OR\n\t// ]\n\n\tsql += \"AND A.date BETWEEN ? AND ? GROUP BY A.date, A.field;\"\n\tval = append(val, start, end)\n\tqs := make([]types.PostpayBill, 0)\n\terr := base.GetInstance().BillingDriver().Raw(RawComment(o.Comment, sql), val...).Scan(&qs).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn nil, utils.RecordNotFoundError\n\t\t}\n\t\treturn nil, err\n\t}\n\n\treturn qs, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "CustomerType = 0 或未设置",
            "sql": "SELECT A.date, A.field, SUM(A.amount) AS amounts FROM iss_postpay_bill as A INNER JOIN ivc_user_info as B ON A.app_id = B.app_id WHERE A.push_status = 'NeedPush' AND A.cycle = 'Day' AND A.date BETWEEN ? AND ? GROUP BY A.date, A.field;"
          },
          {
            "scenario": "CustomerType = External",
            "sql": "SELECT A.date, A.field, SUM(A.amount) AS amounts FROM iss_postpay_bill as A INNER JOIN ivc_user_info as B ON A.app_id = B.app_id WHERE A.push_status = 'NeedPush' AND A.cycle = 'Day' AND B.internal=? AND A.date BETWEEN ? AND ? GROUP BY A.date, A.field;"
          },
          {
            "scenario": "CustomerType = Internal",
            "sql": "SELECT A.date, A.field, SUM(A.amount) AS amounts FROM iss_postpay_bill as A INNER JOIN ivc_user_info as B ON A.app_id = B.app_id WHERE A.push_status = 'NeedPush' AND A.cycle = 'Day' AND B.internal=? AND A.date BETWEEN ? AND ? GROUP BY A.date, A.field;"
          },
          {
            "scenario": "CustomerType = Big",
            "sql": "SELECT A.date, A.field, SUM(A.amount) AS amounts FROM iss_postpay_bill as A INNER JOIN ivc_user_info as B ON A.app_id = B.app_id WHERE A.push_status = 'NeedPush' AND A.cycle = 'Day' AND B.big_customer=? AND A.date BETWEEN ? AND ? GROUP BY A.date, A.field;"
          },
          {
            "scenario": "CustomerType = Small",
            "sql": "SELECT A.date, A.field, SUM(A.amount) AS amounts FROM iss_postpay_bill as A INNER JOIN ivc_user_info as B ON A.app_id = B.app_id WHERE A.push_status = 'NeedPush' AND A.cycle = 'Day' AND B.big_customer=? AND A.date BETWEEN ? AND ? GROUP BY A.date, A.field;"
          },
          {
            "scenario": "CustomerType = Corporate",
            "sql": "SELECT A.date, A.field, SUM(A.amount) AS amounts FROM iss_postpay_bill as A INNER JOIN ivc_user_info as B ON A.app_id = B.app_id WHERE A.push_status = 'NeedPush' AND A.cycle = 'Day' AND B.corporate=? AND A.date BETWEEN ? AND ? GROUP BY A.date, A.field;"
          },
          {
            "scenario": "CustomerType = Personal",
            "sql": "SELECT A.date, A.field, SUM(A.amount) AS amounts FROM iss_postpay_bill as A INNER JOIN ivc_user_info as B ON A.app_id = B.app_id WHERE A.push_status = 'NeedPush' AND A.cycle = 'Day' AND B.corporate=? AND A.date BETWEEN ? AND ? GROUP BY A.date, A.field;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 8,
        "code_end_line": 8,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 111,
        "code_end_line": 116,
        "code_key": "RawComment",
        "code_value": "func RawComment(comment *Comment, Sql string) string {\n\tif comment == nil {\n\t\treturn fmt.Sprintf(\"/* %v */ %v \", *DefaultComment, Sql)\n\t}\n\treturn fmt.Sprintf(\"/* %v */ %v \", *comment, Sql)\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 194,
        "code_end_line": 194,
        "code_key": "sql",
        "code_value": "string",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 193,
        "code_end_line": 193,
        "code_key": "val",
        "code_value": "make([]interface{}, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 241,
        "code_end_line": 241,
        "code_key": "qs",
        "code_value": "make([]types.PostpayBill, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 904,
        "code_end_line": 909,
        "code_key": "PostpayBill",
        "code_value": "type PostpayBill struct {\n\tAppId   int     `json:\"app_id\" gorm:\"column:app_id\"`\n\tDate    string  `json:\"date\" gorm:\"type:date;column:date\"`\n\tField   string  `json:\"field\" gorm:\"column:field\"`\n\tAmounts float64 `json:\"amounts\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 42,
        "code_end_line": 47,
        "code_key": "PostpayBill",
        "code_value": "type PostpayBill struct {\n\tAppId   int     `json:\"app_id\" gorm:\"column:app_id\"`\n\tDate    string  `json:\"date\" gorm:\"type:date;column:date\"`\n\tField   string  `json:\"field\" gorm:\"column:field\"`\n\tAmounts float64 `json:\"amounts\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindUserBillingConsumeByCustomerType",
    "orm_code": "func (o *Overview) FindUserBillingConsumeByCustomerType(start, end string) (float64, error) {\n\tval := make([]interface{}, 0)\n\tvar (\n\t\tsql    string\n\t\tmounts float64\n\t)\n\t/*\n\t\tSELECT A.date, A.field, SUM(A.amount*A.price) AS total_amount\n\t\tFROM iss_postpay_bill as A\n\t\tINNER JOIN ivc_user_info as B ON A.app_id = B.app_id\n\t\tWHERE B.status = 0 and B.big_customer=1 AND A.date BETWEEN '2023-03-16' AND '2023-03-17' and A.push_status != \"NoNeedPush\" and A.cycle = \"Day\"\n\t\tGROUP BY A.date, A.field;\n\t*/\n\tsql = \"SELECT A.date, A.field, SUM(A.amount*A.price) AS amounts \" +\n\t\t\"FROM iss_postpay_bill as A INNER JOIN ivc_user_info as B ON A.app_id = B.app_id \" +\n\t\t\"WHERE A.push_status = 'NeedPush' AND A.cycle = 'Day' \"\n\tif o.CustomerType > 0 {\n\t\tswitch o.CustomerType {\n\t\tcase External:\n\t\t\tsql += \"AND B.internal=? \"\n\t\t\tval = append(val, 0)\n\t\tcase Internal:\n\t\t\tsql += \"AND B.internal=? \"\n\t\t\tval = append(val, 1)\n\t\tcase Big:\n\t\t\tsql += \"AND B.big_customer=? \"\n\t\t\tval = append(val, 1)\n\t\tcase Small:\n\t\t\tsql += \"AND B.big_customer=? \"\n\t\t\tval = append(val, 0)\n\t\tcase Corporate:\n\t\t\tsql += \"AND B.corporate=? \"\n\t\t\tval = append(val, 1)\n\t\tcase Personal:\n\t\t\tsql += \"AND B.corporate=? \"\n\t\t\tval = append(val, 0)\n\t\tdefault:\n\t\t\treturn mounts, utils.UnSupportedCustomerTypeError\n\t\t}\n\t}\n\tsql += \"AND A.date BETWEEN ? AND ? GROUP BY A.date, A.field;\"\n\tval = append(val, start, end)\n\tqs := make([]types.PostpayBill, 0)\n\terr := base.GetInstance().BillingDriver().Raw(RawComment(o.Comment, sql), val...).Scan(&qs).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn mounts, utils.RecordNotFoundError\n\t\t}\n\t\treturn mounts, err\n\t}\n\n\tfor _, bill := range qs {\n\t\tmounts += bill.Amounts\n\t}\n\treturn mounts, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "CustomerType = 0 (无客户类型筛选)",
            "sql": "SELECT A.date, A.field, SUM(A.amount*A.price) AS amounts FROM iss_postpay_bill as A INNER JOIN ivc_user_info as B ON A.app_id = B.app_id WHERE A.push_status = 'NeedPush' AND A.cycle = 'Day' AND A.date BETWEEN ? AND ? GROUP BY A.date, A.field;"
          },
          {
            "scenario": "CustomerType = External (外部客户)",
            "sql": "SELECT A.date, A.field, SUM(A.amount*A.price) AS amounts FROM iss_postpay_bill as A INNER JOIN ivc_user_info as B ON A.app_id = B.app_id WHERE A.push_status = 'NeedPush' AND A.cycle = 'Day' AND B.internal=? AND A.date BETWEEN ? AND ? GROUP BY A.date, A.field;"
          },
          {
            "scenario": "CustomerType = Internal (内部客户)",
            "sql": "SELECT A.date, A.field, SUM(A.amount*A.price) AS amounts FROM iss_postpay_bill as A INNER JOIN ivc_user_info as B ON A.app_id = B.app_id WHERE A.push_status = 'NeedPush' AND A.cycle = 'Day' AND B.internal=? AND A.date BETWEEN ? AND ? GROUP BY A.date, A.field;"
          },
          {
            "scenario": "CustomerType = Big (大客户)",
            "sql": "SELECT A.date, A.field, SUM(A.amount*A.price) AS amounts FROM iss_postpay_bill as A INNER JOIN ivc_user_info as B ON A.app_id = B.app_id WHERE A.push_status = 'NeedPush' AND A.cycle = 'Day' AND B.big_customer=? AND A.date BETWEEN ? AND ? GROUP BY A.date, A.field;"
          },
          {
            "scenario": "CustomerType = Small (小客户)",
            "sql": "SELECT A.date, A.field, SUM(A.amount*A.price) AS amounts FROM iss_postpay_bill as A INNER JOIN ivc_user_info as B ON A.app_id = B.app_id WHERE A.push_status = 'NeedPush' AND A.cycle = 'Day' AND B.big_customer=? AND A.date BETWEEN ? AND ? GROUP BY A.date, A.field;"
          },
          {
            "scenario": "CustomerType = Corporate (企业客户)",
            "sql": "SELECT A.date, A.field, SUM(A.amount*A.price) AS amounts FROM iss_postpay_bill as A INNER JOIN ivc_user_info as B ON A.app_id = B.app_id WHERE A.push_status = 'NeedPush' AND A.cycle = 'Day' AND B.corporate=? AND A.date BETWEEN ? AND ? GROUP BY A.date, A.field;"
          },
          {
            "scenario": "CustomerType = Personal (个人客户)",
            "sql": "SELECT A.date, A.field, SUM(A.amount*A.price) AS amounts FROM iss_postpay_bill as A INNER JOIN ivc_user_info as B ON A.app_id = B.app_id WHERE A.push_status = 'NeedPush' AND A.cycle = 'Day' AND B.corporate=? AND A.date BETWEEN ? AND ? GROUP BY A.date, A.field;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 8,
        "code_end_line": 8,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 111,
        "code_end_line": 116,
        "code_key": "RawComment",
        "code_value": "func RawComment(comment *Comment, Sql string) string {\n\tif comment == nil {\n\t\treturn fmt.Sprintf(\"/* %v */ %v \", *DefaultComment, Sql)\n\t}\n\treturn fmt.Sprintf(\"/* %v */ %v \", *comment, Sql)\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 257,
        "code_end_line": 257,
        "code_key": "sql",
        "code_value": "string",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 255,
        "code_end_line": 255,
        "code_key": "val",
        "code_value": "make([]interface{}, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 296,
        "code_end_line": 296,
        "code_key": "qs",
        "code_value": "make([]types.PostpayBill, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 904,
        "code_end_line": 909,
        "code_key": "PostpayBill",
        "code_value": "type PostpayBill struct {\n\tAppId   int     `json:\"app_id\" gorm:\"column:app_id\"`\n\tDate    string  `json:\"date\" gorm:\"type:date;column:date\"`\n\tField   string  `json:\"field\" gorm:\"column:field\"`\n\tAmounts float64 `json:\"amounts\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 42,
        "code_end_line": 47,
        "code_key": "PostpayBill",
        "code_value": "type PostpayBill struct {\n\tAppId   int     `json:\"app_id\" gorm:\"column:app_id\"`\n\tDate    string  `json:\"date\" gorm:\"type:date;column:date\"`\n\tField   string  `json:\"field\" gorm:\"column:field\"`\n\tAmounts float64 `json:\"amounts\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindSingleUserBillingByAppId",
    "orm_code": "func (o *Overview) FindSingleUserBillingByAppId(appId int, start, end string) ([]types.PostpayBill, error) {\n\tqs := make([]types.PostpayBill, 0)\n\tpbs := make([]types.PostpayBill, 0)\n\tvar err error\n\tcomment := o.CommentFunc(SELECT_COMMENT)\n\t// select date,field,sum(amount) as amounts from iss_postpay_bill where app_id = %v and date >= '%v' and date <= '%v' group by date,field;\n\tif appId == JdAppId {\n\t\terr = base.GetInstance().BillingDriver().Clauses(comment).Table(IssPayBillTable).Select(\"date,field,sum(amount) as amounts\").\n\t\t\tWhere(\"app_id = ? and cycle = 'Day'\", appId).Where(\"date >= ? AND date <= ?\", start, end).\n\t\t\tGroup(\"date,field\").Scan(&qs).Error\n\t\tpbs = Filter(qs, func(bill types.PostpayBill) bool {\n\t\t\treturn bill.Field != ComprehensiveGBDeviceActiveNumber\n\t\t})\n\t} else {\n\t\terr = base.GetInstance().BillingDriver().Clauses(comment).Table(IssPayBillTable).Select(\"date,field,sum(amount) as amounts\").\n\t\t\tWhere(\"app_id = ? and push_status = 'NeedPush' and cycle = 'Day'\", appId).Where(\"date >= ? AND date <= ?\", start, end).\n\t\t\tGroup(\"date,field\").Scan(&qs).Error\n\t\tpbs = qs\n\t}\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn nil, utils.RecordNotFoundError\n\t\t}\n\t\treturn nil, err\n\t}\n\n\treturn pbs, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "当 appId == JdAppId 时",
            "sql": "/* SELECT */ SELECT date,field,sum(amount) as amounts FROM iss_postpay_bill WHERE app_id = ? and cycle = 'Day' AND date >= ? AND date <= ? GROUP BY date,field;"
          },
          {
            "scenario": "当 appId != JdAppId 时",
            "sql": "/* SELECT */ SELECT date,field,sum(amount) as amounts FROM iss_postpay_bill WHERE app_id = ? and push_status = 'NeedPush' and cycle = 'Day' AND date >= ? AND date <= ? GROUP BY date,field;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 8,
        "code_end_line": 8,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 327,
        "code_end_line": 327,
        "code_key": "comment",
        "code_value": "o.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 23,
        "code_end_line": 29,
        "code_key": "Overview",
        "code_value": "type Overview struct {\n\tCustomerType int\n\tIndustryId   int\n\tAppId        int\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/quota.go",
        "code_start_line": 14,
        "code_end_line": 14,
        "code_key": "IssPayBillTable",
        "code_value": "const IssPayBillTable          = \"iss_postpay_bill\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 324,
        "code_end_line": 324,
        "code_key": "qs",
        "code_value": "make([]types.PostpayBill, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 904,
        "code_end_line": 909,
        "code_key": "PostpayBill",
        "code_value": "type PostpayBill struct {\n\tAppId   int     `json:\"app_id\" gorm:\"column:app_id\"`\n\tDate    string  `json:\"date\" gorm:\"type:date;column:date\"`\n\tField   string  `json:\"field\" gorm:\"column:field\"`\n\tAmounts float64 `json:\"amounts\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 42,
        "code_end_line": 47,
        "code_key": "PostpayBill",
        "code_value": "type PostpayBill struct {\n\tAppId   int     `json:\"app_id\" gorm:\"column:app_id\"`\n\tDate    string  `json:\"date\" gorm:\"type:date;column:date\"`\n\tField   string  `json:\"field\" gorm:\"column:field\"`\n\tAmounts float64 `json:\"amounts\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 2,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindSingleUserOnlineDeviceByAppId",
    "orm_code": "func (o *Overview) FindSingleUserOnlineDeviceByAppId(start, end string) ([]OnlineDevice, error) {\n\tdevs := make([]OnlineDevice, 0)\n\tcomment := o.CommentFunc(SELECT_COMMENT)\n\t// select date,online_device from ivc_usage_device where app_id = %v and date >= '%v' and date <= '%v' group by date;\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcUsageDeviceTable).Select(\"date, sum(online_device) as online_device\").\n\t\tWhere(\"app_id = ?\", o.AppId).Where(\"date >= ? AND date <= ?\", start, end).\n\t\tGroup(\"date\").Scan(&devs).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn nil, utils.RecordNotFoundError\n\t\t}\n\t\treturn nil, err\n\t}\n\n\treturn devs, nil\n}",
    "caller": "",
    "sql_statement_list": [
      "SELECT date, sum(online_device) as online_device FROM ivc_usage_device WHERE app_id = ? AND date >= ? AND date <= ? GROUP BY date;"
    ],
    "sql_types": [
      "SELECT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 8,
        "code_end_line": 8,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 355,
        "code_end_line": 355,
        "code_key": "comment",
        "code_value": "o.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 23,
        "code_end_line": 29,
        "code_key": "Overview",
        "code_value": "type Overview struct {\n\tCustomerType int\n\tIndustryId   int\n\tAppId        int\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/quota.go",
        "code_start_line": 17,
        "code_end_line": 17,
        "code_key": "IvcUsageDeviceTable",
        "code_value": "const IvcUsageDeviceTable      = \"ivc_usage_device\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 354,
        "code_end_line": 354,
        "code_key": "devs",
        "code_value": "make([]OnlineDevice, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 824,
        "code_end_line": 827,
        "code_key": "OnlineDevice",
        "code_value": "type OnlineDevice struct {\n\tDate         string `json:\"Date\"`\n\tActiveDevice int    `json:\"ActiveDevice\"`\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 49,
        "code_end_line": 52,
        "code_key": "OnlineDevice",
        "code_value": "type OnlineDevice struct {\n\tDate     string `json:\"date\" gorm:\"type:date;column:date\"`\n\tOnDevice int    `json:\"online_device\" gorm:\"column:online_device\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindUserOnlineDeviceByAppIds",
    "orm_code": "func (o *Overview) FindUserOnlineDeviceByAppIds(appIds []AppIds, start, end string) ([]OnlineDevice, error) {\n\toDevs := make([]OnlineDevice, 0)\n\t/* select date, sum(online_device) as online_device from ivc_usage_device\n\t   where date >= '2023-09-13' and date <= '2023-09-14' and app_id in (1310269012)\n\t   group by date\n\t*/\n\tif len(appIds) < 1 {\n\t\treturn oDevs, nil\n\t}\n\tval := make([]interface{}, 0)\n\tsql := \"select date, sum(online_device) as online_device from ivc_usage_device where date BETWEEN ? AND ? \"\n\tval = append(val, start, end)\n\tif len(appIds) > 0 {\n\t\tsql += fmt.Sprintf(`and app_id in (%d`, appIds[0].AppId)\n\t\tfor _, appId := range appIds[1:] {\n\t\t\tsql += fmt.Sprintf(`,%d`, appId.AppId)\n\t\t}\n\t\tsql += \") \"\n\t}\n\tsql += \"GROUP BY date;\"\n\terr := base.GetInstance().IvcDriver().Raw(RawComment(o.Comment, sql), val...).Scan(&oDevs).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn oDevs, utils.RecordNotFoundError\n\t\t}\n\t\treturn oDevs, err\n\t}\n\treturn oDevs, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "appIds为空或长度小于1，提前返回不执行SQL",
            "sql": ""
          },
          {
            "scenario": "appIds包含单个应用ID",
            "sql": "/* [comment_value] */ select date, sum(online_device) as online_device from ivc_usage_device where date BETWEEN ? AND ? and app_id in (1310269012) GROUP BY date;"
          },
          {
            "scenario": "appIds包含多个应用ID",
            "sql": "/* [comment_value] */ select date, sum(online_device) as online_device from ivc_usage_device where date BETWEEN ? AND ? and app_id in (1310269012,1310269013,1310269014) GROUP BY date;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 8,
        "code_end_line": 8,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 111,
        "code_end_line": 116,
        "code_key": "RawComment",
        "code_value": "func RawComment(comment *Comment, Sql string) string {\n\tif comment == nil {\n\t\treturn fmt.Sprintf(\"/* %v */ %v \", *DefaultComment, Sql)\n\t}\n\treturn fmt.Sprintf(\"/* %v */ %v \", *comment, Sql)\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 381,
        "code_end_line": 381,
        "code_key": "sql",
        "code_value": "\"select date, sum(online_device) as online_device from ivc_usage_device where date BETWEEN ? AND ? \"",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 380,
        "code_end_line": 380,
        "code_key": "val",
        "code_value": "make([]interface{}, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 372,
        "code_end_line": 372,
        "code_key": "oDevs",
        "code_value": "make([]OnlineDevice, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 824,
        "code_end_line": 827,
        "code_key": "OnlineDevice",
        "code_value": "type OnlineDevice struct {\n\tDate         string `json:\"Date\"`\n\tActiveDevice int    `json:\"ActiveDevice\"`\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 49,
        "code_end_line": 52,
        "code_key": "OnlineDevice",
        "code_value": "type OnlineDevice struct {\n\tDate     string `json:\"date\" gorm:\"type:date;column:date\"`\n\tOnDevice int    `json:\"online_device\" gorm:\"column:online_device\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindSingleUserBillingIncomeByAppId",
    "orm_code": "func (o *Overview) FindSingleUserBillingIncomeByAppId(appId int, start, end string) (float64, error) {\n\tval := make([]interface{}, 0)\n\tvar (\n\t\tsql     string\n\t\tamounts float64\n\t)\n\t/*\n\t\tSELECT date, field, SUM(amount*price) AS amounts\n\t\tFROM iss_postpay_bill WHERE app_id = 1310269012 and push_status != \"NoNeedPush\" and cycle = \"Day\"\n\t\tAND date BETWEEN '2023-03-16' AND '2023-03-17' GROUP BY date, field;\n\t*/\n\tsql = \"SELECT date, field, SUM(amount*price) AS amounts \" +\n\t\t\"FROM iss_postpay_bill WHERE app_id = ? and push_status = 'NeedPush' and cycle = 'Day' \" +\n\t\t\"AND date BETWEEN ? AND ? GROUP BY date, field;\"\n\tval = append(val, appId, start, end)\n\tqs := make([]types.PostpayBill, 0)\n\terr := base.GetInstance().BillingDriver().Raw(RawComment(o.Comment, sql), val...).Scan(&qs).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn amounts, utils.RecordNotFoundError\n\t\t}\n\t\treturn amounts, err\n\t}\n\n\tfor _, bill := range qs {\n\t\tamounts += bill.Amounts\n\t}\n\treturn amounts, nil\n}",
    "caller": "",
    "sql_statement_list": [
      "SELECT date, field, SUM(amount*price) AS amounts FROM iss_postpay_bill WHERE app_id = ? and push_status = 'NeedPush' and cycle = 'Day' AND date BETWEEN ? AND ? GROUP BY date, field;"
    ],
    "sql_types": [
      "SELECT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 8,
        "code_end_line": 8,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 111,
        "code_end_line": 116,
        "code_key": "RawComment",
        "code_value": "func RawComment(comment *Comment, Sql string) string {\n\tif comment == nil {\n\t\treturn fmt.Sprintf(\"/* %v */ %v \", *DefaultComment, Sql)\n\t}\n\treturn fmt.Sprintf(\"/* %v */ %v \", *comment, Sql)\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 405,
        "code_end_line": 405,
        "code_key": "sql",
        "code_value": "string",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 403,
        "code_end_line": 403,
        "code_key": "val",
        "code_value": "make([]interface{}, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 417,
        "code_end_line": 417,
        "code_key": "qs",
        "code_value": "make([]types.PostpayBill, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 904,
        "code_end_line": 909,
        "code_key": "PostpayBill",
        "code_value": "type PostpayBill struct {\n\tAppId   int     `json:\"app_id\" gorm:\"column:app_id\"`\n\tDate    string  `json:\"date\" gorm:\"type:date;column:date\"`\n\tField   string  `json:\"field\" gorm:\"column:field\"`\n\tAmounts float64 `json:\"amounts\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 42,
        "code_end_line": 47,
        "code_key": "PostpayBill",
        "code_value": "type PostpayBill struct {\n\tAppId   int     `json:\"app_id\" gorm:\"column:app_id\"`\n\tDate    string  `json:\"date\" gorm:\"type:date;column:date\"`\n\tField   string  `json:\"field\" gorm:\"column:field\"`\n\tAmounts float64 `json:\"amounts\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindUserListByFilter",
    "orm_code": "func (o *Overview) FindUserListByFilter(page, size int) ([]types.UserOverview, error) {\n\tusers := make([]types.UserOverview, 0)\n\tfilter := make(map[string]interface{})\n\tif o.IndustryId > 0 {\n\t\tfilter[\"income_industry_id\"] = o.IndustryId\n\t}\n\tif o.AppId > 0 {\n\t\tfilter[\"app_id\"] = o.AppId\n\t}\n\tfilter[\"status\"] = 0\n\tif o.CustomerType > 0 {\n\t\tswitch o.CustomerType {\n\t\tcase External:\n\t\t\tfilter[\"internal\"] = 0\n\t\tcase Internal:\n\t\t\tfilter[\"internal\"] = 1\n\t\tcase Big:\n\t\t\tfilter[\"big_customer\"] = 1\n\t\tcase Small:\n\t\t\tfilter[\"big_customer\"] = 0\n\t\tcase Corporate:\n\t\t\tfilter[\"corporate\"] = 1\n\t\tcase Personal:\n\t\t\tfilter[\"corporate\"] = 0\n\t\tdefault:\n\t\t\treturn nil, utils.UnSupportedCustomerTypeError\n\t\t}\n\t}\n\tcomment := o.CommentFunc(SELECT_COMMENT)\n\terr := base.GetInstance().BillingDriver().Clauses(comment).Table(UserInfoTable).Select(\"name,app_id,uin,income_industry_id,income_industry_name,internal\").\n\t\tOrder(\"uin\").Scopes(PaginateDB(page, size)).Where(filter).Scan(&users).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn users, utils.RecordNotFoundError\n\t\t}\n\t\treturn users, err\n\t}\n\treturn users, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "基础场景：仅status条件",
            "sql": "SELECT name, app_id, uin, income_industry_id, income_industry_name, internal FROM ivc_user_info WHERE status = 0 ORDER BY uin LIMIT ? OFFSET ?;"
          },
          {
            "scenario": "包含行业ID条件",
            "sql": "SELECT name, app_id, uin, income_industry_id, income_industry_name, internal FROM ivc_user_info WHERE income_industry_id = ? AND status = 0 ORDER BY uin LIMIT ? OFFSET ?;"
          },
          {
            "scenario": "包含应用ID条件",
            "sql": "SELECT name, app_id, uin, income_industry_id, income_industry_name, internal FROM ivc_user_info WHERE app_id = ? AND status = 0 ORDER BY uin LIMIT ? OFFSET ?;"
          },
          {
            "scenario": "包含客户类型条件（internal字段）",
            "sql": "SELECT name, app_id, uin, income_industry_id, income_industry_name, internal FROM ivc_user_info WHERE status = 0 AND internal = ? ORDER BY uin LIMIT ? OFFSET ?;"
          },
          {
            "scenario": "包含客户规模条件（big_customer字段）",
            "sql": "SELECT name, app_id, uin, income_industry_id, income_industry_name, internal FROM ivc_user_info WHERE status = 0 AND big_customer = ? ORDER BY uin LIMIT ? OFFSET ?;"
          },
          {
            "scenario": "包含客户性质条件（corporate字段）",
            "sql": "SELECT name, app_id, uin, income_industry_id, income_industry_name, internal FROM ivc_user_info WHERE status = 0 AND corporate = ? ORDER BY uin LIMIT ? OFFSET ?;"
          },
          {
            "scenario": "复合条件：多个过滤条件组合",
            "sql": "SELECT name, app_id, uin, income_industry_id, income_industry_name, internal FROM ivc_user_info WHERE income_industry_id = ? AND app_id = ? AND status = 0 AND internal = ? ORDER BY uin LIMIT ? OFFSET ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 8,
        "code_end_line": 8,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 461,
        "code_end_line": 461,
        "code_key": "comment",
        "code_value": "o.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 23,
        "code_end_line": 29,
        "code_key": "Overview",
        "code_value": "type Overview struct {\n\tCustomerType int\n\tIndustryId   int\n\tAppId        int\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/user.go",
        "code_start_line": 19,
        "code_end_line": 19,
        "code_key": "UserInfoTable",
        "code_value": "const UserInfoTable        = \"ivc_user_info\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 261,
        "code_end_line": 266,
        "code_key": "PaginateDB",
        "code_value": "func PaginateDB(page, size int) func(db *gorm.DB) *gorm.DB {\n\treturn func(db *gorm.DB) *gorm.DB {\n\t\toffset := (page - 1) * size\n\t\treturn db.Offset(offset).Limit(size)\n\t}\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 435,
        "code_end_line": 435,
        "code_key": "filter",
        "code_value": "make(map[string]interface{})",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 434,
        "code_end_line": 434,
        "code_key": "users",
        "code_value": "make([]types.UserOverview, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 1297,
        "code_end_line": 1308,
        "code_key": "UserOverview",
        "code_value": "type UserOverview struct {\n\tUin              string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId            int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tName             string `json:\"Name\" gorm:\"column:name\"`\n\tIndustryId       int    `json:\"IndustryId\" gorm:\"column:income_industry_id\"`\n\tIndustryName     string `json:\"IndustryName\" gorm:\"column:income_industry_name\"`\n\tInternal         int    `json:\"Internal\" gorm:\"column:internal\"`\n\tConsume          string `json:\"Consume\" gorm:\"column:consume\"`\n\tActualReceipt    string `json:\"ActualReceipt\" gorm:\"-\"`\n\tPrepaidDeduction string `json:\"PrepaidDeduction\" gorm:\"-\"`\n\tPostpaid         string `json:\"Postpaid\" gorm:\"-\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindUserBillingConsumeListByFilter",
    "orm_code": "func (o *Overview) FindUserBillingConsumeListByFilter(start, end string) (map[int]float64, error) {\n\tbillUserMap := make(map[int]float64)\n\tval := make([]interface{}, 0)\n\t/*\n\t\tSELECT A.app_id, SUM(A.amount*A.price) AS consume\n\t\tFROM iss_postpay_bill as A\n\t\tINNER JOIN ivc_user_info as B ON A.app_id = B.app_id\n\t\tWHERE B.status = 0 and B.big_customer=1 AND A.date BETWEEN '2023-03-16' AND '2023-03-17' and A.push_status != \"NoNeedPush\" and A.cycle = \"Day\"\n\t\tGROUP BY A.date, A.field;\n\t*/\n\tsql := \"SELECT A.app_id, SUM(A.amount*A.price) AS consume \" +\n\t\t\"FROM iss_postpay_bill as A INNER JOIN ivc_user_info as B ON A.app_id = B.app_id \" +\n\t\t\"WHERE A.push_status = 'NeedPush' AND A.cycle = 'Day' \"\n\tif o.CustomerType > 0 {\n\t\tswitch o.CustomerType {\n\t\tcase External:\n\t\t\tsql += \"AND B.internal=? \"\n\t\t\tval = append(val, 0)\n\t\tcase Internal:\n\t\t\tsql += \"AND B.internal=? \"\n\t\t\tval = append(val, 1)\n\t\tcase Big:\n\t\t\tsql += \"AND B.big_customer=? \"\n\t\t\tval = append(val, 1)\n\t\tcase Small:\n\t\t\tsql += \"AND B.big_customer=? \"\n\t\t\tval = append(val, 0)\n\t\tcase Corporate:\n\t\t\tsql += \"AND B.corporate=? \"\n\t\t\tval = append(val, 1)\n\t\tcase Personal:\n\t\t\tsql += \"AND B.corporate=? \"\n\t\t\tval = append(val, 0)\n\t\tdefault:\n\t\t\treturn billUserMap, utils.UnSupportedCustomerTypeError\n\t\t}\n\t}\n\tif o.IndustryId > 0 {\n\t\tsql += \"AND B.income_industry_id=? \"\n\t\tval = append(val, o.IndustryId)\n\t}\n\tsql += \"AND A.date BETWEEN ? AND ? GROUP BY A.app_id;\"\n\tval = append(val, start, end)\n\tub := make([]UserBillingIncome, 0)\n\terr := base.GetInstance().BillingDriver().Raw(RawComment(o.Comment, sql), val...).Scan(&ub).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn billUserMap, utils.RecordNotFoundError\n\t\t}\n\t\treturn billUserMap, err\n\t}\n\n\tfor _, bill := range ub {\n\t\tb, ok := billUserMap[bill.AppId]\n\t\tif ok {\n\t\t\tb += bill.Consume\n\t\t\tbillUserMap[bill.AppId] = b\n\t\t} else {\n\t\t\tbillUserMap[bill.AppId] = bill.Consume\n\t\t}\n\t}\n\treturn billUserMap, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "无客户类型条件，无行业条件 (CustomerType=0, IndustryId=0)",
            "sql": "SELECT A.app_id, SUM(A.amount*A.price) AS consume FROM iss_postpay_bill as A INNER JOIN ivc_user_info as B ON A.app_id = B.app_id WHERE A.push_status = 'NeedPush' AND A.cycle = 'Day' AND A.date BETWEEN ? AND ? GROUP BY A.app_id;"
          },
          {
            "scenario": "有客户类型条件，无行业条件 (CustomerType>0, IndustryId=0)",
            "sql": "SELECT A.app_id, SUM(A.amount*A.price) AS consume FROM iss_postpay_bill as A INNER JOIN ivc_user_info as B ON A.app_id = B.app_id WHERE A.push_status = 'NeedPush' AND A.cycle = 'Day' AND B.internal=? AND A.date BETWEEN ? AND ? GROUP BY A.app_id;"
          },
          {
            "scenario": "无客户类型条件，有行业条件 (CustomerType=0, IndustryId>0)",
            "sql": "SELECT A.app_id, SUM(A.amount*A.price) AS consume FROM iss_postpay_bill as A INNER JOIN ivc_user_info as B ON A.app_id = B.app_id WHERE A.push_status = 'NeedPush' AND A.cycle = 'Day' AND B.income_industry_id=? AND A.date BETWEEN ? AND ? GROUP BY A.app_id;"
          },
          {
            "scenario": "有客户类型条件，有行业条件 (CustomerType>0, IndustryId>0)",
            "sql": "SELECT A.app_id, SUM(A.amount*A.price) AS consume FROM iss_postpay_bill as A INNER JOIN ivc_user_info as B ON A.app_id = B.app_id WHERE A.push_status = 'NeedPush' AND A.cycle = 'Day' AND B.internal=? AND B.income_industry_id=? AND A.date BETWEEN ? AND ? GROUP BY A.app_id;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 8,
        "code_end_line": 8,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 111,
        "code_end_line": 116,
        "code_key": "RawComment",
        "code_value": "func RawComment(comment *Comment, Sql string) string {\n\tif comment == nil {\n\t\treturn fmt.Sprintf(\"/* %v */ %v \", *DefaultComment, Sql)\n\t}\n\treturn fmt.Sprintf(\"/* %v */ %v \", *comment, Sql)\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 484,
        "code_end_line": 484,
        "code_key": "sql",
        "code_value": "\"SELECT A.app_id, SUM(A.amount*A.price) AS consume \" +\n\t\t\"FROM iss_postpay_bill as A INNER JOIN ivc_user_info as B ON A.app_id = B.app_id \" +\n\t\t\"WHERE A.push_status = 'NeedPush' AND A.cycle = 'Day' \"",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 476,
        "code_end_line": 476,
        "code_key": "val",
        "code_value": "make([]interface{}, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 517,
        "code_end_line": 517,
        "code_key": "ub",
        "code_value": "make([]UserBillingIncome, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 35,
        "code_end_line": 40,
        "code_key": "UserBillingIncome",
        "code_value": "type UserBillingIncome struct {\n\tAppId         int     `json:\"AppId\" gorm:\"column:app_id\"`\n\tConsume       float64 `json:\"Consume\" gorm:\"column:consume\"`              //总消耗\n\tActualIncome  float64 `json:\"ActualIncome\" gorm:\"column:actual_income\"`   //实际总应收\n\tPrepaidIncome float64 `json:\"PrepaidIncome\" gorm:\"column:prepaid_income\"` //预付费抵扣应收\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindUserWhitelistBucketByAppIds",
    "orm_code": "func (o *Overview) FindUserWhitelistBucketByAppIds(appIds []AppIds, start, end string) ([]types.UserWhitelistBucket, error) {\n\tbs := make([]types.UserWhitelistBucket, 0)\n\t/* select date,sum(total_storage) as total_storage, sum(std_storage) as std_storage, sum(arc_storage) as arc_storage, sum(sia_storage) as sia_storage, sum(dp_arc_storage) as dp_arc_storage\n\t   from ivc_bucket_summary where date >= '2023-09-13' and date <= '2023-09-14' and app_id in (1310269012)\n\t   group by date\n\t*/\n\tif len(appIds) < 1 {\n\t\treturn bs, nil\n\t}\n\tval := make([]interface{}, 0)\n\tsql := \"select date,sum(total_storage) as total_storage, sum(std_storage) as std_storage, sum(arc_storage) as arc_storage, sum(sia_storage) as sia_storage, sum(dp_arc_storage) as dp_arc_storage \" +\n\t\t\"from ivc_bucket_summary where date BETWEEN ? AND ? \"\n\tval = append(val, start, end)\n\tif len(appIds) > 0 {\n\t\tsql += fmt.Sprintf(`and app_id in (%d`, appIds[0].AppId)\n\t\tfor _, appId := range appIds[1:] {\n\t\t\tsql += fmt.Sprintf(`,%d`, appId.AppId)\n\t\t}\n\t\tsql += \") \"\n\t}\n\tsql += \"GROUP BY date;\"\n\terr := base.GetInstance().IvcDriver().Raw(RawComment(o.Comment, sql), val...).Scan(&bs).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn nil, utils.RecordNotFoundError\n\t\t}\n\t\treturn nil, err\n\t}\n\treturn bs, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "appIds包含1个元素",
            "sql": "select date,sum(total_storage) as total_storage, sum(std_storage) as std_storage, sum(arc_storage) as arc_storage, sum(sia_storage) as sia_storage, sum(dp_arc_storage) as dp_arc_storage from ivc_bucket_summary where date BETWEEN ? AND ? and app_id in (1310269012) GROUP BY date;"
          },
          {
            "scenario": "appIds包含多个元素(如3个)",
            "sql": "select date,sum(total_storage) as total_storage, sum(std_storage) as std_storage, sum(arc_storage) as arc_storage, sum(sia_storage) as sia_storage, sum(dp_arc_storage) as dp_arc_storage from ivc_bucket_summary where date BETWEEN ? AND ? and app_id in (1310269012,1310269013,1310269014) GROUP BY date;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 8,
        "code_end_line": 8,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 111,
        "code_end_line": 116,
        "code_key": "RawComment",
        "code_value": "func RawComment(comment *Comment, Sql string) string {\n\tif comment == nil {\n\t\treturn fmt.Sprintf(\"/* %v */ %v \", *DefaultComment, Sql)\n\t}\n\treturn fmt.Sprintf(\"/* %v */ %v \", *comment, Sql)\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 549,
        "code_end_line": 549,
        "code_key": "sql",
        "code_value": "\"select date,sum(total_storage) as total_storage, sum(std_storage) as std_storage, sum(arc_storage) as arc_storage, sum(sia_storage) as sia_storage, sum(dp_arc_storage) as dp_arc_storage \" +\n\t\t\"from ivc_bucket_summary where date BETWEEN ? AND ? \"",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 548,
        "code_end_line": 548,
        "code_key": "val",
        "code_value": "make([]interface{}, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 540,
        "code_end_line": 540,
        "code_key": "bs",
        "code_value": "make([]types.UserWhitelistBucket, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 1350,
        "code_end_line": 1357,
        "code_key": "UserWhitelistBucket",
        "code_value": "type UserWhitelistBucket struct {\n\tDate         string  `json:\"Date\" gorm:\"column:date\"`\n\tTotalStorage float64 `json:\"TotalStorage\" gorm:\"column:total_storage\"`\n\tStdStorage   float64 `json:\"StdStorage\" gorm:\"column:std_storage\"`\n\tArcStorage   float64 `json:\"ArcStorage\" gorm:\"column:arc_storage\"`\n\tSiaStorage   float64 `json:\"SiaStorage\" gorm:\"column:sia_storage\"`\n\tDpArcStorage float64 `json:\"DpArcStorage\" gorm:\"column:dp_arc_storage\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindUserActualIncomeByAppIds",
    "orm_code": "func (o *Overview) FindUserActualIncomeByAppIds(appIds []AppIds, start, end string) (*UserBillingIncome, error) {\n\tvar actualIncome UserBillingIncome\n\t/*\n\t   select date,sum(actual_consume)/100 as actual_consume, sum(prepaid_consume)/100 as prepaid_consume\n\t   from ivc_user_consume where date >= '2023-09-13' and date <= '2023-09-14' and app_id in (1310269012,1317026463)\n\t   group by date\n\t*/\n\tif len(appIds) < 1 {\n\t\treturn &actualIncome, nil\n\t}\n\tval := make([]interface{}, 0)\n\tsql := \"select sum(actual_consume)/100 as actual_income, sum(prepaid_consume)/100 as prepaid_income from ivc_user_consume \" +\n\t\t\"where date BETWEEN ? AND ? \"\n\tval = append(val, start, end)\n\tif len(appIds) > 0 {\n\t\tsql += fmt.Sprintf(`and app_id in (%d`, appIds[0].AppId)\n\t\tfor _, appId := range appIds[1:] {\n\t\t\tsql += fmt.Sprintf(`,%d`, appId.AppId)\n\t\t}\n\t\tsql += \")\"\n\t}\n\terr := base.GetInstance().IvcDriver().Raw(RawComment(o.Comment, sql), val...).Scan(&actualIncome).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn nil, utils.RecordNotFoundError\n\t\t}\n\t\treturn nil, err\n\t}\n\n\treturn &actualIncome, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "appIds长度小于1时（空数组或nil）",
            "sql": ""
          },
          {
            "scenario": "appIds包含单个应用ID时",
            "sql": "select sum(actual_consume)/100 as actual_income, sum(prepaid_consume)/100 as prepaid_income from ivc_user_consume where date BETWEEN ? AND ? and app_id in (1310269012);"
          },
          {
            "scenario": "appIds包含多个应用ID时",
            "sql": "select sum(actual_consume)/100 as actual_income, sum(prepaid_consume)/100 as prepaid_income from ivc_user_consume where date BETWEEN ? AND ? and app_id in (1310269012,1317026463);"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 8,
        "code_end_line": 8,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 111,
        "code_end_line": 116,
        "code_key": "RawComment",
        "code_value": "func RawComment(comment *Comment, Sql string) string {\n\tif comment == nil {\n\t\treturn fmt.Sprintf(\"/* %v */ %v \", *DefaultComment, Sql)\n\t}\n\treturn fmt.Sprintf(\"/* %v */ %v \", *comment, Sql)\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 582,
        "code_end_line": 582,
        "code_key": "sql",
        "code_value": "\"select sum(actual_consume)/100 as actual_income, sum(prepaid_consume)/100 as prepaid_income from ivc_user_consume \" +\n\t\t\"where date BETWEEN ? AND ? \"",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 581,
        "code_end_line": 581,
        "code_key": "val",
        "code_value": "make([]interface{}, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 572,
        "code_end_line": 572,
        "code_key": "actualIncome",
        "code_value": "UserBillingIncome",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 35,
        "code_end_line": 40,
        "code_key": "UserBillingIncome",
        "code_value": "type UserBillingIncome struct {\n\tAppId         int     `json:\"AppId\" gorm:\"column:app_id\"`\n\tConsume       float64 `json:\"Consume\" gorm:\"column:consume\"`              //总消耗\n\tActualIncome  float64 `json:\"ActualIncome\" gorm:\"column:actual_income\"`   //实际总应收\n\tPrepaidIncome float64 `json:\"PrepaidIncome\" gorm:\"column:prepaid_income\"` //预付费抵扣应收\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindUserBillingIncomeList",
    "orm_code": "func (o *Overview) FindUserBillingIncomeList(start, end string) (map[int]UserBillingIncome, error) {\n\tbillIncomeMap := make(map[int]UserBillingIncome)\n\tactualIncomes := make([]UserBillingIncome, 0)\n\tval := make([]interface{}, 0)\n\t/*\n\t   \tselect app_id,sum(actual_consume)/100 as actual_income,sum(prepaid_consume)/100 as prepaid_income\n\t       from ivc_user_consume where date >= '2023-09-13' and date <= '2023-09-14' group by app_id;\n\t*/\n\tsql := \"select app_id,sum(actual_consume)/100 as actual_income,sum(prepaid_consume)/100 as prepaid_income from ivc_user_consume \" +\n\t\t\"where date BETWEEN ? AND ? group by app_id;\"\n\tval = append(val, start, end)\n\terr := base.GetInstance().IvcDriver().Raw(RawComment(o.Comment, sql), val...).Scan(&actualIncomes).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn billIncomeMap, utils.RecordNotFoundError\n\t\t}\n\t\treturn billIncomeMap, err\n\t}\n\n\tfor _, income := range actualIncomes {\n\t\t_, ok := billIncomeMap[income.AppId]\n\t\tif !ok {\n\t\t\tbillIncomeMap[income.AppId] = income\n\t\t}\n\t}\n\treturn billIncomeMap, nil\n}",
    "caller": "",
    "sql_statement_list": [
      "select app_id,sum(actual_consume)/100 as actual_income,sum(prepaid_consume)/100 as prepaid_income from ivc_user_consume where date BETWEEN ? AND ? group by app_id;"
    ],
    "sql_types": [
      "SELECT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 8,
        "code_end_line": 8,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 111,
        "code_end_line": 116,
        "code_key": "RawComment",
        "code_value": "func RawComment(comment *Comment, Sql string) string {\n\tif comment == nil {\n\t\treturn fmt.Sprintf(\"/* %v */ %v \", *DefaultComment, Sql)\n\t}\n\treturn fmt.Sprintf(\"/* %v */ %v \", *comment, Sql)\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 612,
        "code_end_line": 612,
        "code_key": "sql",
        "code_value": "\"select app_id,sum(actual_consume)/100 as actual_income,sum(prepaid_consume)/100 as prepaid_income from ivc_user_consume \" +\n\t\t\"where date BETWEEN ? AND ? group by app_id;\"",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 607,
        "code_end_line": 607,
        "code_key": "val",
        "code_value": "make([]interface{}, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 606,
        "code_end_line": 606,
        "code_key": "actualIncomes",
        "code_value": "make([]UserBillingIncome, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 35,
        "code_end_line": 40,
        "code_key": "UserBillingIncome",
        "code_value": "type UserBillingIncome struct {\n\tAppId         int     `json:\"AppId\" gorm:\"column:app_id\"`\n\tConsume       float64 `json:\"Consume\" gorm:\"column:consume\"`              //总消耗\n\tActualIncome  float64 `json:\"ActualIncome\" gorm:\"column:actual_income\"`   //实际总应收\n\tPrepaidIncome float64 `json:\"PrepaidIncome\" gorm:\"column:prepaid_income\"` //预付费抵扣应收\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindOverallUserStorageByAppIds",
    "orm_code": "func (o *Overview) FindOverallUserStorageByAppIds(appIds []AppIds, start, end string) ([]OnlineDevice, error) {\n\toDevs := make([]OnlineDevice, 0)\n\t/* select date, sum(online_device) as online_device from ivc_usage_device\n\t   where date >= '2023-09-13' and date <= '2023-09-14' and app_id in (1310269012)\n\t   group by date\n\t*/\n\n\toverallUsers := make([]int, 0)\n\tfor _, appId := range appIds {\n\t\tif appId.AppId == JdAppId {\n\t\t\toverallUsers = append(overallUsers, appId.AppId)\n\t\t}\n\t}\n\tval := make([]interface{}, 0)\n\tsql := \"select date, sum(online_device) as online_device from ivc_usage_device where date BETWEEN ? AND ? \"\n\tval = append(val, start, end)\n\tif len(overallUsers) > 0 {\n\t\tsql += fmt.Sprintf(`and app_id in (%d`, overallUsers[0])\n\t\tfor _, appId := range overallUsers[1:] {\n\t\t\tsql += fmt.Sprintf(`,%d`, appId)\n\t\t}\n\t\tsql += \") \"\n\t}\n\tsql += \"GROUP BY date;\"\n\terr := base.GetInstance().IvcDriver().Raw(RawComment(o.Comment, sql), val...).Scan(&oDevs).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn oDevs, utils.RecordNotFoundError\n\t\t}\n\t\treturn oDevs, err\n\t}\n\treturn oDevs, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "没有符合条件的AppId时",
            "sql": "select date, sum(online_device) as online_device from ivc_usage_device where date BETWEEN ? AND ? GROUP BY date;"
          },
          {
            "scenario": "有符合条件的AppId时",
            "sql": "select date, sum(online_device) as online_device from ivc_usage_device where date BETWEEN ? AND ? and app_id in (?) GROUP BY date;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 8,
        "code_end_line": 8,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 111,
        "code_end_line": 116,
        "code_key": "RawComment",
        "code_value": "func RawComment(comment *Comment, Sql string) string {\n\tif comment == nil {\n\t\treturn fmt.Sprintf(\"/* %v */ %v \", *DefaultComment, Sql)\n\t}\n\treturn fmt.Sprintf(\"/* %v */ %v \", *comment, Sql)\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 679,
        "code_end_line": 679,
        "code_key": "sql",
        "code_value": "\"select date, sum(online_device) as online_device from ivc_usage_device where date BETWEEN ? AND ? \"",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 678,
        "code_end_line": 678,
        "code_key": "val",
        "code_value": "make([]interface{}, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 666,
        "code_end_line": 666,
        "code_key": "oDevs",
        "code_value": "make([]OnlineDevice, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 824,
        "code_end_line": 827,
        "code_key": "OnlineDevice",
        "code_value": "type OnlineDevice struct {\n\tDate         string `json:\"Date\"`\n\tActiveDevice int    `json:\"ActiveDevice\"`\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/overview.go",
        "code_start_line": 49,
        "code_end_line": 52,
        "code_key": "OnlineDevice",
        "code_value": "type OnlineDevice struct {\n\tDate     string `json:\"date\" gorm:\"type:date;column:date\"`\n\tOnDevice int    `json:\"online_device\" gorm:\"column:online_device\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "QueryCloudRecordTimelineWhitelistByAppId",
    "orm_code": "func (c *Cloud) QueryCloudRecordTimelineWhitelistByAppId() (int, error) {\n\tvar num int64\n\tcomment := c.CommentFunc(SELECT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcCloudRecordTimelineWhitelistTable).Where(\"app_id = ?\", c.CloudRecordTimelineSource.AppId).Count(&num).Error\n\tif err != nil {\n\t\treturn int(num), err\n\t}\n\treturn int(num), nil\n}",
    "caller": "",
    "sql_statement_list": [
      "SELECT COUNT(*) FROM ivc_cloudrecord_timeline_whitelist WHERE app_id = ?;"
    ],
    "sql_types": [
      "SELECT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/recordtimeline.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/recordtimeline.go",
        "code_start_line": 22,
        "code_end_line": 22,
        "code_key": "comment",
        "code_value": "c.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/recordtimeline.go",
        "code_start_line": 14,
        "code_end_line": 18,
        "code_key": "Cloud",
        "code_value": "type Cloud struct {\n\ttypes.CloudRecordTimelineSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 379,
        "code_end_line": 386,
        "code_key": "CloudRecordTimelineSource",
        "code_value": "type CloudRecordTimelineSource struct {\n\tId       int    `json:\"Id\" gorm:\"column:id\"`\n\tName     string `json:\"Name\" gorm:\"column:name\"`\n\tUin      string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId    int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tCreateAt int    `json:\"CreateAt\" gorm:\"column:created_at\"`\n\tUpdateAt int    `json:\"UpdateAt\" gorm:\"column:updated_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/recordtimeline.go",
        "code_start_line": 11,
        "code_end_line": 11,
        "code_key": "IvcCloudRecordTimelineWhitelistTable",
        "code_value": "const IvcCloudRecordTimelineWhitelistTable = \"ivc_cloudrecord_timeline_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/recordtimeline.go",
        "code_start_line": 21,
        "code_end_line": 21,
        "code_key": "num",
        "code_value": "int64",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "QueryCloudRecordTimelineWhitelistById",
    "orm_code": "func (c *Cloud) QueryCloudRecordTimelineWhitelistById() (*types.CloudRecordTimelineSource, error) {\n\tvar cloud types.CloudRecordTimelineSource\n\tcomment := c.CommentFunc(SELECT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcCloudRecordTimelineWhitelistTable).First(&cloud, \"id = ?\", c.Id).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn &cloud, utils.RecordNotFoundError\n\t\t}\n\t\treturn &cloud, err\n\t}\n\treturn &cloud, nil\n}",
    "caller": "",
    "sql_statement_list": [
      "SELECT id, name, uin, app_id, created_at, updated_at FROM ivc_cloudrecord_timeline_whitelist WHERE id = ? LIMIT 1;"
    ],
    "sql_types": [
      "SELECT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/recordtimeline.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/recordtimeline.go",
        "code_start_line": 32,
        "code_end_line": 32,
        "code_key": "comment",
        "code_value": "c.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/recordtimeline.go",
        "code_start_line": 14,
        "code_end_line": 18,
        "code_key": "Cloud",
        "code_value": "type Cloud struct {\n\ttypes.CloudRecordTimelineSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 379,
        "code_end_line": 386,
        "code_key": "CloudRecordTimelineSource",
        "code_value": "type CloudRecordTimelineSource struct {\n\tId       int    `json:\"Id\" gorm:\"column:id\"`\n\tName     string `json:\"Name\" gorm:\"column:name\"`\n\tUin      string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId    int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tCreateAt int    `json:\"CreateAt\" gorm:\"column:created_at\"`\n\tUpdateAt int    `json:\"UpdateAt\" gorm:\"column:updated_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/recordtimeline.go",
        "code_start_line": 11,
        "code_end_line": 11,
        "code_key": "IvcCloudRecordTimelineWhitelistTable",
        "code_value": "const IvcCloudRecordTimelineWhitelistTable = \"ivc_cloudrecord_timeline_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/recordtimeline.go",
        "code_start_line": 31,
        "code_end_line": 31,
        "code_key": "cloud",
        "code_value": "types.CloudRecordTimelineSource",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "CreateCloudRecordTimelineWhitelist",
    "orm_code": "func (c *Cloud) CreateCloudRecordTimelineWhitelist() (int, error) {\n\tcomment := c.CommentFunc(INSERT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcCloudRecordTimelineWhitelistTable).Create(&c).Error\n\treturn c.Id, err\n}",
    "caller": "",
    "sql_statement_list": [
      "INSERT INTO ivc_cloudrecord_timeline_whitelist (id, name, uin, app_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?);"
    ],
    "sql_types": [
      "INSERT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/recordtimeline.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/recordtimeline.go",
        "code_start_line": 44,
        "code_end_line": 44,
        "code_key": "comment",
        "code_value": "c.CommentFunc(INSERT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/recordtimeline.go",
        "code_start_line": 14,
        "code_end_line": 18,
        "code_key": "Cloud",
        "code_value": "type Cloud struct {\n\ttypes.CloudRecordTimelineSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 379,
        "code_end_line": 386,
        "code_key": "CloudRecordTimelineSource",
        "code_value": "type CloudRecordTimelineSource struct {\n\tId       int    `json:\"Id\" gorm:\"column:id\"`\n\tName     string `json:\"Name\" gorm:\"column:name\"`\n\tUin      string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId    int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tCreateAt int    `json:\"CreateAt\" gorm:\"column:created_at\"`\n\tUpdateAt int    `json:\"UpdateAt\" gorm:\"column:updated_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 83,
        "code_end_line": 83,
        "code_key": "INSERT_COMMENT",
        "code_value": "const INSERT_COMMENT = \"INSERT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/recordtimeline.go",
        "code_start_line": 11,
        "code_end_line": 11,
        "code_key": "IvcCloudRecordTimelineWhitelistTable",
        "code_value": "const IvcCloudRecordTimelineWhitelistTable = \"ivc_cloudrecord_timeline_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindCloudRecordTimelineWhitelists",
    "orm_code": "func (c *Cloud) FindCloudRecordTimelineWhitelists(filterSource map[string]interface{}, page, size int) ([]types.CloudRecordTimelineSource, error) {\n\tbs := make([]types.CloudRecordTimelineSource, 0)\n\tvar err error\n\tcomment := c.CommentFunc(SELECT_COMMENT)\n\tif name, ok := filterSource[\"name\"]; ok {\n\t\tfilter := make(map[string]interface{})\n\t\tfor k, v := range filterSource {\n\t\t\tif k == \"name\" {\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tfilter[k] = v\n\t\t}\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(IvcCloudRecordTimelineWhitelistTable).Order(\"id\").Scopes(PaginateDB(page, size)).\n\t\t\tWhere(filter).Where(\"name like ?\", \"%\"+name.(string)+\"%\").Find(&bs).Error\n\t} else {\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(IvcCloudRecordTimelineWhitelistTable).Order(\"id\").Scopes(PaginateDB(page, size)).\n\t\t\tWhere(filterSource).Find(&bs).Error\n\t}\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn bs, utils.RecordNotFoundError\n\t\t}\n\t\treturn bs, err\n\t}\n\treturn bs, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "filterSource包含name键时，使用LIKE模糊查询",
            "sql": "SELECT id, name, uin, app_id, created_at, updated_at FROM ivc_cloudrecord_timeline_whitelist WHERE uin = ? AND app_id = ? AND name LIKE ? ORDER BY id LIMIT 10 OFFSET 0;"
          },
          {
            "scenario": "filterSource不包含name键时，使用精确匹配查询",
            "sql": "SELECT id, name, uin, app_id, created_at, updated_at FROM ivc_cloudrecord_timeline_whitelist WHERE uin = ? AND app_id = ? ORDER BY id LIMIT 5 OFFSET 5;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/recordtimeline.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/recordtimeline.go",
        "code_start_line": 64,
        "code_end_line": 64,
        "code_key": "comment",
        "code_value": "c.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/recordtimeline.go",
        "code_start_line": 14,
        "code_end_line": 18,
        "code_key": "Cloud",
        "code_value": "type Cloud struct {\n\ttypes.CloudRecordTimelineSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 379,
        "code_end_line": 386,
        "code_key": "CloudRecordTimelineSource",
        "code_value": "type CloudRecordTimelineSource struct {\n\tId       int    `json:\"Id\" gorm:\"column:id\"`\n\tName     string `json:\"Name\" gorm:\"column:name\"`\n\tUin      string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId    int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tCreateAt int    `json:\"CreateAt\" gorm:\"column:created_at\"`\n\tUpdateAt int    `json:\"UpdateAt\" gorm:\"column:updated_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/recordtimeline.go",
        "code_start_line": 11,
        "code_end_line": 11,
        "code_key": "IvcCloudRecordTimelineWhitelistTable",
        "code_value": "const IvcCloudRecordTimelineWhitelistTable = \"ivc_cloudrecord_timeline_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 261,
        "code_end_line": 266,
        "code_key": "PaginateDB",
        "code_value": "func PaginateDB(page, size int) func(db *gorm.DB) *gorm.DB {\n\treturn func(db *gorm.DB) *gorm.DB {\n\t\toffset := (page - 1) * size\n\t\treturn db.Offset(offset).Limit(size)\n\t}\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/recordtimeline.go",
        "code_start_line": 66,
        "code_end_line": 66,
        "code_key": "filter",
        "code_value": "make(map[string]interface{})",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/recordtimeline.go",
        "code_start_line": 62,
        "code_end_line": 62,
        "code_key": "bs",
        "code_value": "make([]types.CloudRecordTimelineSource, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 2,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "CountCloudRecordTimelineWhitelists",
    "orm_code": "func (c *Cloud) CountCloudRecordTimelineWhitelists(filterSource map[string]interface{}) (int, error) {\n\tvar num int64\n\tcomment := c.CommentFunc(SELECT_COMMENT)\n\tif name, ok := filterSource[\"name\"]; ok {\n\t\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcCloudRecordTimelineWhitelistTable).Count(&num).Where(\"name like ?\", \"%\"+name.(string)+\"%\").Error\n\t\treturn int(num), err\n\t} else {\n\t\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcCloudRecordTimelineWhitelistTable).Count(&num).Where(filterSource).Error\n\t\treturn int(num), err\n\t}\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "filterSource包含name键时使用LIKE查询",
            "sql": "SELECT count(*) FROM ivc_cloudrecord_timeline_whitelist WHERE name like ?;"
          },
          {
            "scenario": "filterSource不包含name键但包含其他条件时",
            "sql": "SELECT count(*) FROM ivc_cloudrecord_timeline_whitelist WHERE uin = ? AND app_id = ?;"
          },
          {
            "scenario": "filterSource为空map时查询全部记录",
            "sql": "SELECT count(*) FROM ivc_cloudrecord_timeline_whitelist;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/recordtimeline.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/recordtimeline.go",
        "code_start_line": 90,
        "code_end_line": 90,
        "code_key": "comment",
        "code_value": "c.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/recordtimeline.go",
        "code_start_line": 14,
        "code_end_line": 18,
        "code_key": "Cloud",
        "code_value": "type Cloud struct {\n\ttypes.CloudRecordTimelineSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 379,
        "code_end_line": 386,
        "code_key": "CloudRecordTimelineSource",
        "code_value": "type CloudRecordTimelineSource struct {\n\tId       int    `json:\"Id\" gorm:\"column:id\"`\n\tName     string `json:\"Name\" gorm:\"column:name\"`\n\tUin      string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId    int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tCreateAt int    `json:\"CreateAt\" gorm:\"column:created_at\"`\n\tUpdateAt int    `json:\"UpdateAt\" gorm:\"column:updated_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/recordtimeline.go",
        "code_start_line": 11,
        "code_end_line": 11,
        "code_key": "IvcCloudRecordTimelineWhitelistTable",
        "code_value": "const IvcCloudRecordTimelineWhitelistTable = \"ivc_cloudrecord_timeline_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/recordtimeline.go",
        "code_start_line": 89,
        "code_end_line": 89,
        "code_key": "num",
        "code_value": "int64",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 2,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "QueryDailyReportWhitelistByAppId",
    "orm_code": "func (c *Daily) QueryDailyReportWhitelistByAppId() (int, error) {\n\tvar num int64\n\tcomment := c.CommentFunc(SELECT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcDailyReportWhitelistTable).Where(\"app_id = ?\", c.DailyReportSource.AppId).Count(&num).Error\n\tif err != nil {\n\t\treturn int(num), err\n\t}\n\treturn int(num), nil\n}",
    "caller": "",
    "sql_statement_list": [
      "SELECT COUNT(*) FROM ivc_dailyreport_whitelist WHERE app_id = ?;"
    ],
    "sql_types": [
      "SELECT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/daily.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/daily.go",
        "code_start_line": 22,
        "code_end_line": 22,
        "code_key": "comment",
        "code_value": "c.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/daily.go",
        "code_start_line": 14,
        "code_end_line": 18,
        "code_key": "Daily",
        "code_value": "type Daily struct {\n\ttypes.DailyReportSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 428,
        "code_end_line": 436,
        "code_key": "DailyReportSource",
        "code_value": "type DailyReportSource struct {\n\tId        int    `json:\"Id\" gorm:\"column:id\"`\n\tName      string `json:\"Name\" gorm:\"column:name\"`\n\tUin       string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId     int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tAltername string `json:\"Altername\" gorm:\"altername\"`\n\tCreateAt  int    `json:\"CreateAt\" gorm:\"column:created_at\"`\n\tUpdateAt  int    `json:\"UpdateAt\" gorm:\"column:updated_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/daily.go",
        "code_start_line": 11,
        "code_end_line": 11,
        "code_key": "IvcDailyReportWhitelistTable",
        "code_value": "const IvcDailyReportWhitelistTable = \"ivc_dailyreport_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/daily.go",
        "code_start_line": 21,
        "code_end_line": 21,
        "code_key": "num",
        "code_value": "int64",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "QueryDailyReportWhitelistById",
    "orm_code": "func (c *Daily) QueryDailyReportWhitelistById() (*types.DailyReportSource, error) {\n\tvar cloud types.DailyReportSource\n\tcomment := c.CommentFunc(SELECT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcDailyReportWhitelistTable).First(&cloud, \"id = ?\", c.Id).Error\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn &cloud, utils.RecordNotFoundError\n\t\t}\n\t\treturn &cloud, err\n\t}\n\treturn &cloud, nil\n}",
    "caller": "",
    "sql_statement_list": [
      "SELECT id, name, uin, app_id, altername, created_at, updated_at FROM ivc_dailyreport_whitelist WHERE id = ? LIMIT 1;"
    ],
    "sql_types": [
      "SELECT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/daily.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/daily.go",
        "code_start_line": 32,
        "code_end_line": 32,
        "code_key": "comment",
        "code_value": "c.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/daily.go",
        "code_start_line": 14,
        "code_end_line": 18,
        "code_key": "Daily",
        "code_value": "type Daily struct {\n\ttypes.DailyReportSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 428,
        "code_end_line": 436,
        "code_key": "DailyReportSource",
        "code_value": "type DailyReportSource struct {\n\tId        int    `json:\"Id\" gorm:\"column:id\"`\n\tName      string `json:\"Name\" gorm:\"column:name\"`\n\tUin       string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId     int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tAltername string `json:\"Altername\" gorm:\"altername\"`\n\tCreateAt  int    `json:\"CreateAt\" gorm:\"column:created_at\"`\n\tUpdateAt  int    `json:\"UpdateAt\" gorm:\"column:updated_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/daily.go",
        "code_start_line": 11,
        "code_end_line": 11,
        "code_key": "IvcDailyReportWhitelistTable",
        "code_value": "const IvcDailyReportWhitelistTable = \"ivc_dailyreport_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/daily.go",
        "code_start_line": 31,
        "code_end_line": 31,
        "code_key": "cloud",
        "code_value": "types.DailyReportSource",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "CreateDailyReportWhitelist",
    "orm_code": "func (c *Daily) CreateDailyReportWhitelist() (int, error) {\n\tcomment := c.CommentFunc(INSERT_COMMENT)\n\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcDailyReportWhitelistTable).Create(&c).Error\n\treturn c.Id, err\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "LACK_INFORMATION",
        "variants": [
          {
            "scenario": "缺少Daily结构体的字段定义和gorm标签映射信息，基于常见ORM模式推测包含id、name、uin、app_id等基础字段",
            "sql": "INSERT INTO ivc_dailyreport_whitelist (id, name, uin, app_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?);"
          }
        ]
      }
    ],
    "sql_types": [
      "LACK_INFORMATION"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/daily.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/daily.go",
        "code_start_line": 44,
        "code_end_line": 44,
        "code_key": "comment",
        "code_value": "c.CommentFunc(INSERT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/daily.go",
        "code_start_line": 14,
        "code_end_line": 18,
        "code_key": "Daily",
        "code_value": "type Daily struct {\n\ttypes.DailyReportSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 428,
        "code_end_line": 436,
        "code_key": "DailyReportSource",
        "code_value": "type DailyReportSource struct {\n\tId        int    `json:\"Id\" gorm:\"column:id\"`\n\tName      string `json:\"Name\" gorm:\"column:name\"`\n\tUin       string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId     int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tAltername string `json:\"Altername\" gorm:\"altername\"`\n\tCreateAt  int    `json:\"CreateAt\" gorm:\"column:created_at\"`\n\tUpdateAt  int    `json:\"UpdateAt\" gorm:\"column:updated_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 83,
        "code_end_line": 83,
        "code_key": "INSERT_COMMENT",
        "code_value": "const INSERT_COMMENT = \"INSERT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/daily.go",
        "code_start_line": 11,
        "code_end_line": 11,
        "code_key": "IvcDailyReportWhitelistTable",
        "code_value": "const IvcDailyReportWhitelistTable = \"ivc_dailyreport_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 1,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "FindDailyReportWhitelists",
    "orm_code": "func (c *Daily) FindDailyReportWhitelists(filterSource map[string]interface{}, page, size int) ([]types.DailyReportSource, error) {\n\tbs := make([]types.DailyReportSource, 0)\n\tvar err error\n\tcomment := c.CommentFunc(SELECT_COMMENT)\n\tif name, ok := filterSource[\"name\"]; ok {\n\t\tfilter := make(map[string]interface{})\n\t\tfor k, v := range filterSource {\n\t\t\tif k == \"name\" {\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tfilter[k] = v\n\t\t}\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(IvcDailyReportWhitelistTable).Order(\"id\").Scopes(PaginateDB(page, size)).\n\t\t\tWhere(\"name like ?\", \"%\"+name.(string)+\"%\").Find(&bs).Error\n\t} else {\n\t\terr = base.GetInstance().IvcDriver().Clauses(comment).Table(IvcDailyReportWhitelistTable).Order(\"id\").Scopes(PaginateDB(page, size)).\n\t\t\tWhere(filterSource).Find(&bs).Error\n\t}\n\tif err != nil {\n\t\tif err == db.ErrRecordNotFound {\n\t\t\treturn bs, utils.RecordNotFoundError\n\t\t}\n\t\treturn bs, err\n\t}\n\treturn bs, nil\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "filterSource包含name参数时 - 使用LIKE模糊查询",
            "sql": "SELECT * FROM ivc_dailyreport_whitelist WHERE name LIKE ? ORDER BY id LIMIT ? OFFSET ?;"
          },
          {
            "scenario": "filterSource不包含name参数时 - 使用精确匹配所有过滤条件",
            "sql": "SELECT * FROM ivc_dailyreport_whitelist WHERE uin = ? AND app_id = ? ORDER BY id LIMIT ? OFFSET ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/daily.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/daily.go",
        "code_start_line": 64,
        "code_end_line": 64,
        "code_key": "comment",
        "code_value": "c.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/daily.go",
        "code_start_line": 14,
        "code_end_line": 18,
        "code_key": "Daily",
        "code_value": "type Daily struct {\n\ttypes.DailyReportSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 428,
        "code_end_line": 436,
        "code_key": "DailyReportSource",
        "code_value": "type DailyReportSource struct {\n\tId        int    `json:\"Id\" gorm:\"column:id\"`\n\tName      string `json:\"Name\" gorm:\"column:name\"`\n\tUin       string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId     int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tAltername string `json:\"Altername\" gorm:\"altername\"`\n\tCreateAt  int    `json:\"CreateAt\" gorm:\"column:created_at\"`\n\tUpdateAt  int    `json:\"UpdateAt\" gorm:\"column:updated_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/daily.go",
        "code_start_line": 11,
        "code_end_line": 11,
        "code_key": "IvcDailyReportWhitelistTable",
        "code_value": "const IvcDailyReportWhitelistTable = \"ivc_dailyreport_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/record.go",
        "code_start_line": 261,
        "code_end_line": 266,
        "code_key": "PaginateDB",
        "code_value": "func PaginateDB(page, size int) func(db *gorm.DB) *gorm.DB {\n\treturn func(db *gorm.DB) *gorm.DB {\n\t\toffset := (page - 1) * size\n\t\treturn db.Offset(offset).Limit(size)\n\t}\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/daily.go",
        "code_start_line": 62,
        "code_end_line": 62,
        "code_key": "bs",
        "code_value": "make([]types.DailyReportSource, 0)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 2,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  },
  {
    "function_name": "CountDailyReportWhitelists",
    "orm_code": "func (c *Daily) CountDailyReportWhitelists(filterSource map[string]interface{}) (int, error) {\n\tvar count int64\n\tcomment := c.CommentFunc(SELECT_COMMENT)\n\tif name, ok := filterSource[\"name\"]; ok {\n\t\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcDailyReportWhitelistTable).Where(\"name like ?\", \"%\"+name.(string)+\"%\").Count(&count).Error\n\t\treturn int(count), err\n\t} else {\n\t\terr := base.GetInstance().IvcDriver().Clauses(comment).Table(IvcDailyReportWhitelistTable).Where(filterSource).Count(&count).Error\n\t\treturn int(count), err\n\t}\n}",
    "caller": "",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "filterSource包含name键时",
            "sql": "SELECT count(*) FROM ivc_dailyreport_whitelist WHERE name like ?;"
          },
          {
            "scenario": "filterSource不包含name键时",
            "sql": "SELECT count(*) FROM ivc_dailyreport_whitelist WHERE app_id = ? AND created_at = ? AND uin = ?;"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "code_meta_data": [
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/daily.go",
        "code_start_line": 4,
        "code_end_line": 4,
        "code_key": "base",
        "code_value": "urs/internal/base",
        "code_label": null,
        "code_type": 4,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/daily.go",
        "code_start_line": 90,
        "code_end_line": 90,
        "code_key": "comment",
        "code_value": "c.CommentFunc(SELECT_COMMENT)",
        "code_label": null,
        "code_type": 35,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/daily.go",
        "code_start_line": 14,
        "code_end_line": 18,
        "code_key": "Daily",
        "code_value": "type Daily struct {\n\ttypes.DailyReportSource\n\n\t*Comment\n}",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/types/types.go",
        "code_start_line": 428,
        "code_end_line": 436,
        "code_key": "DailyReportSource",
        "code_value": "type DailyReportSource struct {\n\tId        int    `json:\"Id\" gorm:\"column:id\"`\n\tName      string `json:\"Name\" gorm:\"column:name\"`\n\tUin       string `json:\"Uin\" gorm:\"column:uin\"`\n\tAppId     int    `json:\"AppId\" gorm:\"column:app_id\"`\n\tAltername string `json:\"Altername\" gorm:\"altername\"`\n\tCreateAt  int    `json:\"CreateAt\" gorm:\"column:created_at\"`\n\tUpdateAt  int    `json:\"UpdateAt\" gorm:\"column:updated_at\"`\n}",
        "code_label": 3,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 95,
        "code_end_line": 95,
        "code_key": "Comment",
        "code_value": "type Comment string",
        "code_label": null,
        "code_type": 3,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 97,
        "code_end_line": 102,
        "code_key": "CommentFunc",
        "code_value": "func (c *Comment) CommentFunc(action string) hints.Hints {\n\tif c == nil {\n\t\tc = NewComment(uuid.NewString(), DefalutFlow)\n\t}\n\treturn hints.CommentBefore(action, string(*c))\n}",
        "code_label": null,
        "code_type": 2,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/common.go",
        "code_start_line": 85,
        "code_end_line": 85,
        "code_key": "SELECT_COMMENT",
        "code_value": "const SELECT_COMMENT = \"SELECT\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/daily.go",
        "code_start_line": 11,
        "code_end_line": 11,
        "code_key": "IvcDailyReportWhitelistTable",
        "code_value": "const IvcDailyReportWhitelistTable = \"ivc_dailyreport_whitelist\"",
        "code_label": 21,
        "code_type": 1,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      },
      {
        "code_file": "/Users/ymhuan/code/aid-db/temp/aid-main/aid/risk_sql/code/scripts/IVC__ivc-urs/internal/model/daily.go",
        "code_start_line": 89,
        "code_end_line": 89,
        "code_key": "count",
        "code_value": "int64",
        "code_label": null,
        "code_type": 31,
        "code_version": "c9bb087a681a6287be10c9b6e8e232a6cfc363c7"
      }
    ],
    "sql_pattern_cnt": 2,
    "source_file": "/data/shawn/venus_api/orm2sql/ivc_temp/IVC__ivc-urs.json"
  }
]