# 合成数据生成器配置规范化任务总结

## 任务概述
规范化 `synthetic_data_generator` 的配置结构，将配置和 prompt 文件移动到 `config` 目录下，使其符合项目的配置管理规范。

## 执行步骤

### 1. 任务范围确认
- **目标**：将 `synthetic_data_generator` 的配置和 prompt 移动到 `config` 目录
- **涉及操作**：
  - 创建 `config/data_processing/synthetic_data_generator/` 目录
  - 移动 `config.py` 和 `prompts.py` 到配置目录
  - 更新所有相关的导入路径
  - 创建配置模块的初始化文件

### 2. 目录结构重组

#### 2.1 创建配置目录
```bash
# 创建新的配置目录
mkdir -p config/data_processing/synthetic_data_generator

# 移动配置文件
mv data_processing/synthetic_data_generator/config.py config/data_processing/synthetic_data_generator/
mv data_processing/synthetic_data_generator/prompts.py config/data_processing/synthetic_data_generator/
```

#### 2.2 创建模块初始化文件
创建了 `config/data_processing/synthetic_data_generator/__init__.py` 文件，导出配置类和 prompt 常量。

### 3. 导入路径修改

#### 3.1 修改 generator.py
**文件位置**：`data_processing/synthetic_data_generator/generator.py`

**修改内容**：
- 更新配置导入：`from .config import SyntheticDataConfig` → `from config.data_processing.synthetic_data_generator.config import SyntheticDataConfig`
- 更新 prompt 导入：`from .prompts import PROMPT_ORM, PROMPT_CALLER, PROMPT_META` → `from config.data_processing.synthetic_data_generator.prompts import PROMPT_ORM, PROMPT_CALLER, PROMPT_META`

#### 3.2 修改 test_generator.py
**文件位置**：`data_processing/synthetic_data_generator/test_generator.py`

**修改内容**：
- 更新配置导入：`from data_processing.synthetic_data_generator.config import SyntheticDataConfig` → `from config.data_processing.synthetic_data_generator.config import SyntheticDataConfig`

#### 3.3 修改 cli.py
**文件位置**：`data_processing/synthetic_data_generator/cli.py`

**修改内容**：
- 更新配置导入：`from .config import SyntheticDataConfig` → `from config.data_processing.synthetic_data_generator.config import SyntheticDataConfig`

#### 3.4 修改 example_usage.py
**文件位置**：`data_processing/synthetic_data_generator/example_usage.py`

**修改内容**：
- 更新配置导入：`from .config import SyntheticDataConfig` → `from config.data_processing.synthetic_data_generator.config import SyntheticDataConfig`

#### 3.5 修改 workflow_manager.py
**文件位置**：`data_processing/workflow/workflow_manager.py`

**修改内容**：
- 更新配置导入路径，使用新的配置位置

### 4. 新的目录结构

#### 4.1 配置目录结构
```
config/data_processing/synthetic_data_generator/
├── __init__.py          # 模块初始化文件
├── config.py            # 配置管理类
└── prompts.py           # Prompt 模板
```

#### 4.2 模块目录结构
```
data_processing/synthetic_data_generator/
├── __init__.py          # 模块初始化文件
├── generator.py          # 生成器核心逻辑
├── cli.py               # 命令行接口
├── example_usage.py     # 使用示例
├── test_generator.py    # 测试文件
└── README.md            # 文档
```

### 5. 配置模块导出

#### 5.1 __init__.py 内容
```python
"""
合成数据生成器配置模块

提供合成数据生成器的配置管理和prompt模板
"""

from .config import SyntheticDataConfig
from .prompts import PROMPT_ORM, PROMPT_CALLER, PROMPT_META

__all__ = [
    'SyntheticDataConfig',
    'PROMPT_ORM',
    'PROMPT_CALLER', 
    'PROMPT_META'
]
```

### 6. 导入路径对比

#### 6.1 修改前的导入
```python
# 相对导入
from .config import SyntheticDataConfig
from .prompts import PROMPT_ORM, PROMPT_CALLER, PROMPT_META

# 绝对导入
from data_processing.synthetic_data_generator.config import SyntheticDataConfig
```

#### 6.2 修改后的导入
```python
# 统一使用配置目录的绝对导入
from config.data_processing.synthetic_data_generator.config import SyntheticDataConfig
from config.data_processing.synthetic_data_generator.prompts import PROMPT_ORM, PROMPT_CALLER, PROMPT_META
```

## 修改的文件列表

### 配置文件移动
1. `data_processing/synthetic_data_generator/config.py` → `config/data_processing/synthetic_data_generator/config.py`
2. `data_processing/synthetic_data_generator/prompts.py` → `config/data_processing/synthetic_data_generator/prompts.py`

### 新增文件
3. `config/data_processing/synthetic_data_generator/__init__.py` - 配置模块初始化文件

### 导入路径修改
4. `data_processing/synthetic_data_generator/generator.py` - 更新配置和 prompt 导入
5. `data_processing/synthetic_data_generator/test_generator.py` - 更新配置导入
6. `data_processing/synthetic_data_generator/cli.py` - 更新配置导入
7. `data_processing/synthetic_data_generator/example_usage.py` - 更新配置导入
8. `data_processing/workflow/workflow_manager.py` - 更新配置导入

## 优势

### 1. 配置集中化
- 所有配置和 prompt 文件统一在 `config` 目录下管理
- 符合项目的配置管理规范

### 2. 结构清晰
- 配置和业务逻辑分离
- 便于维护和扩展

### 3. 一致性
- 与其他模块的配置管理方式保持一致
- 便于团队理解和维护

### 4. 可扩展性
- 配置模块可以独立扩展
- 支持更复杂的配置管理需求

## 使用方式

### 1. 导入配置
```python
from config.data_processing.synthetic_data_generator.config import SyntheticDataConfig
```

### 2. 导入 Prompt
```python
from config.data_processing.synthetic_data_generator.prompts import PROMPT_ORM, PROMPT_CALLER, PROMPT_META
```

### 3. 使用配置
```python
config = SyntheticDataConfig(
    llm_server="v3",
    max_workers=4,
    temperature=0.7
)
```

## 注意事项

1. **导入路径**：所有使用合成数据生成器配置的地方都需要更新导入路径
2. **测试文件**：确保测试文件中的导入路径正确
3. **文档更新**：相关文档需要更新以反映新的配置位置
4. **向后兼容**：确保现有代码在更新后仍能正常工作

## 后续工作

1. 验证所有模块正常工作
2. 更新相关文档
3. 运行测试确保功能正常
4. 检查是否有遗漏的导入路径需要更新 