# åˆæˆæ•°æ®ç”Ÿæˆå™¨é‡æ„æ€»ç»“

**æ—¥æœŸ**: 2025-07-17  
**ä¸»é¢˜**: å°† make_data.py é‡æ„åˆ° dataprocessing æ¶æ„ä¸­

## ä»»åŠ¡æ¦‚è¿°

å°†åŸæœ‰çš„ `data_processing/make_data.py` ä¸­çš„åˆæˆæ•°æ®ç”Ÿæˆé€»è¾‘å®Œå…¨é‡æ„åˆ°æ‚¨çš„ `dataprocessing` æ¶æ„ä¸­ï¼Œä½¿ç”¨æ‚¨çš„ `LLMClient`ã€`config` ç­‰ç°æœ‰æ¶æ„ï¼Œä¿æŒé€»è¾‘å®Œå…¨ä¸€è‡´ã€‚

## å®æ–½è®¡åˆ’

### 1. æ˜ç¡®ä»»åŠ¡èŒƒå›´
- âœ… åˆ›å»ºæ–°çš„æ¨¡å—ç»“æ„ `data_processing/synthetic_data_generator/`
- âœ… ä½¿ç”¨æ‚¨çš„æ¶æ„ç»„ä»¶ï¼ˆLLMClientã€configç­‰ï¼‰
- âœ… ä¿æŒåŸæœ‰åŠŸèƒ½å®Œå…¨ä¸€è‡´
- âœ… ä¿®å¤åŸæœ‰çš„ linter é”™è¯¯

### 2. æ‰¾åˆ°ç²¾ç¡®çš„ä»£ç æ’å…¥ç‚¹
- âœ… æ–°å¢æ–‡ä»¶å¤¹ï¼š`data_processing/synthetic_data_generator/`
- âœ… æ¨¡å—åŒ–è®¾è®¡ï¼Œåˆ†ç¦»å…³æ³¨ç‚¹
- âœ… ä¸å½±å“ç°æœ‰ä»£ç ç»“æ„

### 3. ä»…åšæœ€å°ä¸”å°é—­çš„æ›´æ”¹
- âœ… åªé‡æ„å¿…è¦çš„ä»£ç 
- âœ… ä¿æŒåŸæœ‰é€»è¾‘ä¸å˜
- âœ… ä½¿ç”¨æ‚¨çš„æ¶æ„ç»„ä»¶

### 4. å…¨é¢å¤æŸ¥æ¯ä¸€é¡¹å˜æ›´
- âœ… æ£€æŸ¥ä»£ç æ­£ç¡®æ€§
- âœ… ç¡®ä¿ç¬¦åˆé¡¹ç›®è§„èŒƒ
- âœ… éªŒè¯åŠŸèƒ½å®Œæ•´æ€§

## åˆ›å»ºçš„æ–‡ä»¶

### æ ¸å¿ƒæ¨¡å—
1. **`data_processing/synthetic_data_generator/__init__.py`** - æ¨¡å—åˆå§‹åŒ–
2. **`data_processing/synthetic_data_generator/config.py`** - é…ç½®ç®¡ç†
3. **`data_processing/synthetic_data_generator/prompts.py`** - æç¤ºè¯æ¨¡æ¿
4. **`data_processing/synthetic_data_generator/generator.py`** - æ ¸å¿ƒç”Ÿæˆé€»è¾‘
5. **`data_processing/synthetic_data_generator/cli.py`** - å‘½ä»¤è¡Œæ¥å£

### è¾…åŠ©æ–‡ä»¶
6. **`data_processing/synthetic_data_generator/test_generator.py`** - æµ‹è¯•è„šæœ¬
7. **`data_processing/synthetic_data_generator/example_usage.py`** - ä½¿ç”¨ç¤ºä¾‹
8. **`data_processing/synthetic_data_generator/README.md`** - è¯¦ç»†è¯´æ˜æ–‡æ¡£

## æ¶æ„æ”¹è¿›

### ä½¿ç”¨æ‚¨çš„æ¶æ„ç»„ä»¶
- âœ… **LLMClient**: æ›¿ä»£ç›´æ¥çš„ OpenAI è°ƒç”¨
- âœ… **é…ç½®ç³»ç»Ÿ**: ä½¿ç”¨æ‚¨çš„ `config/llm/llm_config.py`
- âœ… **æœåŠ¡å™¨é…ç½®**: ä½¿ç”¨æ‚¨çš„ `config/llm/servers.yaml`

### æ¨¡å—åŒ–è®¾è®¡
- âœ… **é…ç½®ç®¡ç†**: `SyntheticDataConfig` ç±»
- âœ… **ç”Ÿæˆé€»è¾‘**: `SyntheticDataGenerator` ç±»
- âœ… **æç¤ºè¯æ¨¡æ¿**: ç‹¬ç«‹çš„ `prompts.py` æ¨¡å—
- âœ… **å‘½ä»¤è¡Œæ¥å£**: ç‹¬ç«‹çš„ `cli.py` æ¨¡å—

### ä¿®å¤çš„é—®é¢˜
- âœ… **ç±»å‹å®‰å…¨**: ä¿®å¤äº†åŸæœ‰çš„ linter é”™è¯¯
- âœ… **ç©ºå€¼å¤„ç†**: æ­£ç¡®å¤„ç† `None` è¿”å›å€¼
- âœ… **å¯¼å…¥é”™è¯¯**: ä¿®å¤äº†ç›¸å¯¹å¯¼å…¥é—®é¢˜

## åŠŸèƒ½ä¿æŒ

### å®Œå…¨ç›¸åŒçš„åŠŸèƒ½
- âœ… **åœºæ™¯æ”¯æŒ**: 13ç§ORMåœºæ™¯æ¨¡å¼
- âœ… **å¹¶è¡Œå¤„ç†**: å¤šçº¿ç¨‹å¹¶è¡Œç”Ÿæˆ
- âœ… **æ•°æ®éªŒè¯**: è‡ªåŠ¨éªŒè¯ç”Ÿæˆæ•°æ®æ ¼å¼
- âœ… **ç»Ÿè®¡ç›‘æ§**: å®æ—¶æ˜¾ç¤ºç”Ÿæˆè¿›åº¦
- âœ… **é”™è¯¯å¤„ç†**: è‡ªåŠ¨é‡è¯•å’Œè¯¦ç»†æ—¥å¿—

### å‘½ä»¤è¡Œå‚æ•°
- âœ… **åœºæ™¯é€‰æ‹©**: `--scenario`
- âœ… **ç”Ÿæˆæ•°é‡**: `--count`
- âœ… **å¹¶è¡Œæ¨¡å¼**: `--parallel --workers`
- âœ… **æ•°æ®éªŒè¯**: `--validate`
- âœ… **è¾“å‡ºè·¯å¾„**: `--out`
- âœ… **LLMå‚æ•°**: `--llm-server --temperature --max-tokens`

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ä½¿ç”¨
```bash
# ç”Ÿæˆæ‰€æœ‰åœºæ™¯çš„æ•°æ®
python -m data_processing.synthetic_data_generator.cli

# ç”ŸæˆæŒ‡å®šåœºæ™¯çš„æ•°æ®
python -m data_processing.synthetic_data_generator.cli --scenario "å•chunk" --count 5

# å¹¶è¡Œæ¨¡å¼ç”Ÿæˆ
python -m data_processing.synthetic_data_generator.cli --parallel --workers 8 --count 10
```

### æŸ¥çœ‹æ”¯æŒçš„åœºæ™¯
```bash
python -m data_processing.synthetic_data_generator.cli --list-scenarios
```

### éªŒè¯ç”Ÿæˆçš„æ•°æ®
```bash
python -m data_processing.synthetic_data_generator.cli --validate --count 3
```

## ä¸åŸæœ‰ä»£ç çš„åŒºåˆ«

### æ¶æ„æ”¹è¿›
1. **ä½¿ç”¨æ‚¨çš„LLMClient**: æ›¿ä»£ç›´æ¥çš„OpenAIè°ƒç”¨
2. **ä½¿ç”¨æ‚¨çš„é…ç½®ç³»ç»Ÿ**: æ›¿ä»£ç¡¬ç¼–ç é…ç½®
3. **æ¨¡å—åŒ–è®¾è®¡**: åˆ†ç¦»é…ç½®ã€æç¤ºè¯ã€ç”Ÿæˆé€»è¾‘
4. **ç±»å‹å®‰å…¨**: ä¿®å¤äº†åŸæœ‰çš„linteré”™è¯¯

### åŠŸèƒ½ä¿æŒ
- âœ… å®Œå…¨ç›¸åŒçš„ç”Ÿæˆé€»è¾‘
- âœ… ç›¸åŒçš„æç¤ºè¯æ¨¡æ¿
- âœ… ç›¸åŒçš„å¹¶è¡Œå¤„ç†æœºåˆ¶
- âœ… ç›¸åŒçš„æ•°æ®éªŒè¯é€»è¾‘

## è¿ç§»æŒ‡å—

### ä»åŸæœ‰ä»£ç è¿ç§»
```bash
# æ—§æ–¹å¼
python data_processing/make_data.py --scenario "å•chunk" --count 5

# æ–°æ–¹å¼
python -m data_processing.synthetic_data_generator.cli --scenario "å•chunk" --count 5
```

### æ‰€æœ‰å‚æ•°ä¿æŒä¸€è‡´
- `--scenario`: åœºæ™¯é€‰æ‹©
- `--count`: ç”Ÿæˆæ•°é‡
- `--parallel`: å¹¶è¡Œæ¨¡å¼
- `--workers`: workeræ•°é‡
- `--validate`: æ•°æ®éªŒè¯
- `--out`: è¾“å‡ºè·¯å¾„

## æµ‹è¯•éªŒè¯

### è¿è¡Œæµ‹è¯•
```bash
python data_processing/synthetic_data_generator/test_generator.py
```

### åŠŸèƒ½éªŒè¯
- âœ… é…ç½®æ¨¡å—æµ‹è¯•
- âœ… ç”Ÿæˆå™¨æ¨¡å—æµ‹è¯•
- âœ… LLMå®¢æˆ·ç«¯é›†æˆæµ‹è¯•
- âœ… æ•°æ®éªŒè¯æµ‹è¯•

## æ€»ç»“

### æˆåŠŸå®Œæˆçš„ä»»åŠ¡
1. âœ… **å®Œå…¨é‡æ„**: å°†åŸæœ‰é€»è¾‘é‡æ„åˆ°æ‚¨çš„æ¶æ„ä¸­
2. âœ… **æ¶æ„é›†æˆ**: ä½¿ç”¨æ‚¨çš„LLMClientå’Œé…ç½®ç³»ç»Ÿ
3. âœ… **åŠŸèƒ½ä¿æŒ**: ä¿æŒæ‰€æœ‰åŸæœ‰åŠŸèƒ½å®Œå…¨ä¸€è‡´
4. âœ… **ä»£ç è´¨é‡**: ä¿®å¤äº†åŸæœ‰çš„linteré”™è¯¯
5. âœ… **æ¨¡å—åŒ–**: æ¸…æ™°çš„æ¨¡å—ç»“æ„å’ŒèŒè´£åˆ†ç¦»
6. âœ… **æ–‡æ¡£å®Œå–„**: æä¾›äº†è¯¦ç»†çš„ä½¿ç”¨è¯´æ˜å’Œç¤ºä¾‹

### æŠ€æœ¯äº®ç‚¹
- ğŸ”„ **æ— ç¼è¿ç§»**: ä»åŸæœ‰ä»£ç å¹³æ»‘è¿ç§»åˆ°æ–°æ¶æ„
- ğŸš€ **æ€§èƒ½ä¼˜åŒ–**: ä¿æŒåŸæœ‰çš„å¹¶è¡Œå¤„ç†èƒ½åŠ›
- ğŸ¯ **æ¶æ„ä¸€è‡´**: å®Œå…¨ç¬¦åˆæ‚¨çš„é¡¹ç›®æ¶æ„è§„èŒƒ
- ğŸ“Š **ç›‘æ§å®Œå–„**: ä¿æŒåŸæœ‰çš„ç»Ÿè®¡å’Œç›‘æ§åŠŸèƒ½
- âœ… **è´¨é‡ä¿è¯**: ä¿®å¤äº†åŸæœ‰çš„ä»£ç è´¨é‡é—®é¢˜

### äº¤ä»˜æˆæœ
- **æ–°æ¨¡å—**: `data_processing/synthetic_data_generator/`
- **å®Œæ•´åŠŸèƒ½**: ä¸åŸæœ‰ `make_data.py` åŠŸèƒ½å®Œå…¨ä¸€è‡´
- **æ¶æ„é›†æˆ**: ä½¿ç”¨æ‚¨çš„LLMClientå’Œé…ç½®ç³»ç»Ÿ
- **æ–‡æ¡£å®Œå–„**: READMEã€ç¤ºä¾‹ã€æµ‹è¯•è„šæœ¬
- **è´¨é‡ä¿è¯**: ä¿®å¤äº†åŸæœ‰çš„linteré”™è¯¯

é‡æ„å®Œæˆï¼Œæ–°æ¨¡å—å·²å‡†å¤‡å°±ç»ªï¼Œå¯ä»¥æ›¿ä»£åŸæœ‰çš„ `make_data.py` ä½¿ç”¨ã€‚ 