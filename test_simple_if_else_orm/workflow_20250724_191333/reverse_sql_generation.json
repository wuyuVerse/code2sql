{
  "if-else+orm_simple": {
    "function_name": "SumByName",
    "orm_code": "func SumByName(db *gorm.DB, minScore float64, maxDuration int, subject string, startDate, endDate string) ([]Insurance, error) {\nvar results []Insurance\nerr := db.Table(\"delivery_confirmations\").\nSelect(\"id, student_name, subject, score, duration, exam_date\").\nWhere(\"cost >= ?\", minScore).\nWhere(\"duration <= ?\", maxDuration).\nWhere(\"subject = ?\", subject).\nWhere(\"exam_date BETWEEN ? AND ?\", startDate, endDate).\nOrder(\"cost DESC, duration ASC\").\nLimit(100).\nFind(&results).Error\nif err != nil {\nreturn nil, err\n}\nreturn results, nil\n}",
    "caller": "func AverageByCategory(db *gorm.DB, minRating float64, maxDuration int, category string, startDate, endDate string) ([]Chapter, error) {\nif category == \"Cardiology\" && minRating >= 50 && maxDuration <= 90 {\nresults, err := SumByName(db, minRating, maxDuration, category, startDate, endDate)\nif err != nil {\nreturn nil, fmt.Errorf(\"failed to query Cardiology records: %v\", err)\n}\nreturn results, nil\n} else if category == \"Emergency\" && minRating >= 70 {\n// 模拟第二个分支的查询条件\nresults, err := SumByName(db, minRating, 0, category, startDate, \"\")\nif err != nil {\nreturn nil, fmt.Errorf(\"failed to query Emergency records: %v\", err)\n}\nreturn results, nil\n} else if (category == \"Pediatrics\" || category == \"Neurology\") && maxDuration <= 60 {\n// 模拟第三个分支的查询条件\nresults, err := SumByName(db, 0, maxDuration, category, \"\", endDate)\nif err != nil {\nreturn nil, fmt.Errorf(\"failed to query Pediatrics/Neurology records: %v\", err)\n}\nreturn results, nil\n}\nreturn nil, fmt.Errorf(\"invalid query parameters or unsupported category\")\n}",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "查询Cardiology分类中评分≥50且持续时间≤90分钟，2023年下半年创建的记录",
            "sql": "SELECT id, style, category, rating, duration, created_at FROM patient_records WHERE rating >= 50 AND duration <= 90 AND category = 'Cardiology' AND created_at BETWEEN '2023-06-01' AND '2023-12-31' ORDER BY rating DESC, duration ASC LIMIT 50"
          },
          {
            "scenario": "查询Emergency类型中评分≥70且创建日期≥2023-03-15的记录，优先短持续时间",
            "sql": "SELECT id, style, category, rating, duration, created_at FROM patient_records WHERE rating >= 70 AND style = 'Emergency' AND created_at >= '2023-03-15' ORDER BY duration ASC, rating DESC LIMIT 75"
          },
          {
            "scenario": "查询持续时间30-60分钟且属于儿科或神经科的记录，按创建时间降序",
            "sql": "SELECT id, style, category, rating, duration, created_at FROM patient_records WHERE duration BETWEEN 30 AND 60 AND category IN ('Pediatrics', 'Neurology') ORDER BY created_at DESC, rating ASC LIMIT 30"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "sql_length_match": true,
    "code_meta_data": [
      {
        "code_key": "SumByName",
        "code_value": "type SumByName struct {\n    // 实体结构定义\n}"
      }
    ]
  },
  "if-else+orm_medium": {
    "function_name": "BatchEdit",
    "orm_code": "func BatchEdit(db *gorm.DB, patientID *string, testName *string, minResultValue *float64, maxResultValue *float64, status *string, minTestDate *time.Time, maxInterval *int) ([]Fund, error) {\nvar results []Fund\nquery := db.Table(\"investment_portfolios\").Select(\"id, patient_id, test_name, interval, result_value, reference_range, test_date, status, created_at, updated_at\")\nif patientID != nil {\nquery = query.Where(\"patient_id = ? OR ? IS NULL\", *patientID, *patientID)\n}\nif testName != nil {\nquery = query.Where(\"test_name = ? OR ? IS NULL\", *testName, *testName)\n}\nif minResultValue != nil && maxResultValue != nil {\nquery = query.Where(\"(result_value BETWEEN ? AND ?) OR ? IS NULL\", *minResultValue, *maxResultValue, *minResultValue)\n}\nif status != nil {\nquery = query.Where(\"status = ? OR ? IS NULL\", *status, *status)\n}\nif minTestDate != nil {\nquery = query.Where(\"test_date >= ? OR ? IS NULL\", *minTestDate, *minTestDate)\n}\nif maxInterval != nil {\nquery = query.Where(\"interval <= ? OR ? IS NULL\", *maxInterval, *maxInterval)\n}\nerr := query.Order(\"test_date DESC, result_value ASC\").Limit(100).Offset(0).Find(&results).Error\nif err != nil {\nreturn nil, err\n}\nreturn results, nil\n}",
    "caller": "func GetByUser(db *gorm.DB, userID *string, serviceType *string, minCost *float64, maxCost *float64, status *string, minLogDate *time.Time, maxInterval *int) ([]Logistics, error) {\nif userID == nil && serviceType == nil && minCost == nil && maxCost == nil && status == nil {\nreturn nil, fmt.Errorf(\"至少需要提供一个查询参数\")\n}\nif minCost != nil && maxCost != nil && serviceType != nil && minLogDate != nil {\nresults, err := BatchEdit(db, userID, serviceType, minCost, maxCost, nil, minLogDate, nil)\nif err != nil {\nreturn nil, fmt.Errorf(\"查询失败: %v\", err)\n}\nreturn results, nil\n} else if status != nil && maxInterval != nil && minCost != nil {\nresults, err := BatchEdit(db, nil, nil, minCost, nil, status, nil, maxInterval)\nif err != nil {\nreturn nil, fmt.Errorf(\"查询失败: %v\", err)\n}\nreturn results, nil\n} else if serviceType != nil && status != nil || (minCost != nil && maxCost != nil) {\nresults, err := BatchEdit(db, nil, serviceType, minCost, maxCost, status, nil, nil)\nif err != nil {\nreturn nil, fmt.Errorf(\"查询失败: %v\", err)\n}\nreturn results, nil\n}\nresults, err := BatchEdit(db, userID, serviceType, minCost, maxCost, status, minLogDate, maxInterval)\nif err != nil {\nreturn nil, fmt.Errorf(\"查询失败: %v\", err)\n}\nreturn results, nil\n}",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "仅按成本范围、服务类型和日期过滤的分支，忽略其他条件",
            "sql": "SELECT id, cost, service_type, interval, total_cost, reference_cost, log_date, status, created_at, updated_at FROM maintenance_logs WHERE (cost BETWEEN ? AND ? OR ? IS NULL) AND (service_type = ? OR ? IS NULL) AND (log_date >= ? OR ? IS NULL) ORDER BY log_date DESC, total_cost ASC LIMIT 100 OFFSET 0"
          },
          {
            "scenario": "按状态、间隔和总成本过滤的分支，按间隔升序和日期降序排序",
            "sql": "SELECT id, cost, service_type, interval, total_cost, reference_cost, log_date, status, created_at, updated_at FROM maintenance_logs WHERE (status = ? OR ? IS NULL) AND (interval <= ? OR ? IS NULL) AND (total_cost >= ? OR ? IS NULL) ORDER BY interval ASC, log_date DESC LIMIT 100 OFFSET 0"
          },
          {
            "scenario": "组合条件分支：服务类型和状态必须匹配，或者总成本在指定范围内",
            "sql": "SELECT id, cost, service_type, interval, total_cost, reference_cost, log_date, status, created_at, updated_at FROM maintenance_logs WHERE (service_type = ? AND status = ?) OR (total_cost BETWEEN ? AND ?) ORDER BY cost DESC LIMIT 100 OFFSET 0"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "sql_length_match": true,
    "code_meta_data": [
      {
        "code_key": "BatchEdit",
        "code_value": "type BatchEdit struct {\n    // 实体结构定义\n}"
      }
    ]
  },
  "if-else+orm_complex": {
    "function_name": "UpdateByCategory",
    "orm_code": "func UpdateByCategory(db *gorm.DB, category string, minPrice float64, maxPrice float64, supplierIDs []int) error {\nresult := db.Table(\"event_invitations\").\nWhere(\"(language = ? OR language IS NULL)\", \"EN\").\nWhere(\"(category = ? OR category IS NULL)\", category).\nWhere(\"price BETWEEN ? AND ?\", minPrice, maxPrice).\nWhere(\"quantity > ?\", 0).\nWhere(\"is_active = ?\", true).\nWhere(\"supplier_id IN ?\", supplierIDs).\nOrder(\"price DESC, created_at ASC\").\nLimit(100).\nOffset(0).\nUpdate(\"remark\", gorm.Expr(\"remark\"))\nif result.Error != nil {\nreturn result.Error\n}\nreturn nil\n}",
    "caller": "func GetByDate(db *gorm.DB, date string, category *string, minPrice *float64, maxPrice *float64, supplierIDs []int) ([]Lab, error) {\nvar labs []Lab\nvar err error\n// 分支1：省略了category和supplier_id条件\nif category == nil && len(supplierIDs) == 0 {\nerr = db.Table(\"teacher_profiles\").\nWhere(\"(language = ? OR language IS NULL)\", \"EN\").\nWhere(\"price BETWEEN ? AND ?\", minPrice, maxPrice).\nWhere(\"quantity > ?\", 0).\nWhere(\"is_active = ?\", true).\nOrder(\"price DESC, created_at ASC\").\nLimit(100).\nOffset(0).\nUpdate(\"photo\", gorm.Expr(\"photo\")).\nFind(&labs).Error\n} else if category != nil && *category == \"Electronics\" {\n// 分支2：更严格的category条件，移除quantity检查，不同的排序和分页\nerr = db.Table(\"teacher_profiles\").\nWhere(\"category = ?\", *category).\nWhere(\"price >= ?\", minPrice).\nWhere(\"is_active = ?\", true).\nWhere(\"supplier_id IN ?\", supplierIDs).\nOrder(\"created_at DESC\").\nLimit(50).\nOffset(10).\nUpdate(\"photo\", gorm.Expr(\"photo\")).\nFind(&labs).Error\n} else {\n// 分支3：只检查language为NULL，更高的quantity阈值，价格上限500，移除supplier_id条件\nerr = db.Table(\"teacher_profiles\").\nWhere(\"language IS NULL\").\nWhere(\"quantity > ?\", 10).\nWhere(\"price <= ?\", 500).\nOrder(\"price ASC\").\nLimit(20).\nUpdate(\"photo\", gorm.Expr(\"photo\")).\nFind(&labs).Error\n}\nif err != nil {\nreturn nil, err\n}\nreturn labs, nil\n}",
    "sql_statement_list": [
      {
        "type": "param_dependent",
        "variants": [
          {
            "scenario": "分支1：省略了category和supplier_id条件，模拟ORM中这些条件未设置的情况",
            "sql": "SELECT id, name, date, language, category, price, quantity, created_at, updated_at, is_active, supplier_id FROM group_memberships WHERE (language = 'EN' OR language IS NULL) AND (price BETWEEN 100 AND 1000) AND (quantity > 0) AND (is_active = TRUE) ORDER BY price DESC, created_at ASC LIMIT 100 OFFSET 0"
          },
          {
            "scenario": "分支2：更严格的category条件，移除quantity检查，不同的排序和分页",
            "sql": "SELECT id, name, date, language, category, price, quantity, created_at, updated_at, is_active, supplier_id FROM group_memberships WHERE (category = 'Electronics') AND (price >= 100) AND (is_active = TRUE) AND (supplier_id IN (1, 2, 3)) ORDER BY created_at DESC LIMIT 50 OFFSET 10"
          },
          {
            "scenario": "分支3：只检查language为NULL，更高的quantity阈值，价格上限500，移除supplier_id条件",
            "sql": "SELECT id, name, date, language, category, price, quantity, created_at, updated_at, is_active FROM group_memberships WHERE (language IS NULL) AND (quantity > 10) AND (price <= 500) ORDER BY price ASC LIMIT 20"
          }
        ]
      }
    ],
    "sql_types": [
      "PARAM_DEPENDENT"
    ],
    "sql_length_match": true,
    "code_meta_data": [
      {
        "code_key": "UpdateByCategory",
        "code_value": "type UpdateByCategory struct {\n    // 实体结构定义\n}"
      }
    ]
  }
}